
<!doctype html>
<html>
  <head>
    <!-- favicon added by Hove -->
    <link href="favicon-ca6470dd.ico" rel="icon" type="image/ico" />
    <!-- end of section added by Hove -->
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Navitia.io documentation</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-12a5a840.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-97f24197.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting started">Getting started</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#first-step" class="toc-h2 toc-link" data-title="First step">First step</a>
                  </li>
                  <li>
                    <a href="#second-step" class="toc-h2 toc-link" data-title="Second step">Second step</a>
                  </li>
                  <li>
                    <a href="#third-step" class="toc-h2 toc-link" data-title="Third step">Third step</a>
                  </li>
                  <li>
                    <a href="#navitia-for-humans" class="toc-h2 toc-link" data-title="Navitia for humans">Navitia for humans</a>
                  </li>
                  <li>
                    <a href="#wrappers" class="toc-h2 toc-link" data-title="Wrappers">Wrappers</a>
                  </li>
                  <li>
                    <a href="#about-data" class="toc-h2 toc-link" data-title="About the data">About the data</a>
                  </li>
                  <li>
                    <a href="#getting-help" class="toc-h2 toc-link" data-title="Getting help">Getting help</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#some-examples" class="toc-h1 toc-link" data-title="Some examples">Some examples</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#basics-on-the-api-request" class="toc-h2 toc-link" data-title="Basics on the API request">Basics on the API request</a>
                  </li>
                  <li>
                    <a href="#a-quick-exploration" class="toc-h2 toc-link" data-title="A quick exploration">A quick exploration</a>
                  </li>
                  <li>
                    <a href="#seek-and-search" class="toc-h2 toc-link" data-title="Seek and search">Seek and search</a>
                  </li>
                  <li>
                    <a href="#about-itinerary" class="toc-h2 toc-link" data-title="About itinerary">About itinerary</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#journey_planning" class="toc-h1 toc-link" data-title="Journey planning">Journey planning</a>
          </li>
          <li>
            <a href="#next_departures_and_arrivals" class="toc-h1 toc-link" data-title="Next departures and arrivals">Next departures and arrivals</a>
          </li>
          <li>
            <a href="#timetables" class="toc-h1 toc-link" data-title="Timetables">Timetables</a>
          </li>
          <li>
            <a href="#places-nearby" class="toc-h1 toc-link" data-title="Places nearby">Places nearby</a>
          </li>
          <li>
            <a href="#explore-transport" class="toc-h1 toc-link" data-title="Explore transport">Explore transport</a>
          </li>
          <li>
            <a href="#isochrones" class="toc-h1 toc-link" data-title="Isochrones">Isochrones</a>
          </li>
          <li>
            <a href="#interface" class="toc-h1 toc-link" data-title="Interface">Interface</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#templated-url" class="toc-h2 toc-link" data-title="Templated URL">Templated URL</a>
                  </li>
                  <li>
                    <a href="#inner-references" class="toc-h2 toc-link" data-title="Inner references">Inner references</a>
                  </li>
                  <li>
                    <a href="#paging" class="toc-h2 toc-link" data-title="Paging">Paging</a>
                  </li>
                  <li>
                    <a href="#objects-order" class="toc-h2 toc-link" data-title="Objects order">Objects order</a>
                  </li>
                  <li>
                    <a href="#objects-attributes" class="toc-h2 toc-link" data-title="Objects attributes">Objects attributes</a>
                  </li>
                  <li>
                    <a href="#lifetime-of-id" class="toc-h2 toc-link" data-title="Lifetime of id">Lifetime of id</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api-catalog" class="toc-h1 toc-link" data-title="API catalog">API catalog</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#coverage" class="toc-h2 toc-link" data-title="Coverage">Coverage</a>
                  </li>
                  <li>
                    <a href="#datasets" class="toc-h2 toc-link" data-title="Datasets">Datasets</a>
                  </li>
                  <li>
                    <a href="#contributors" class="toc-h2 toc-link" data-title="Contributors">Contributors</a>
                  </li>
                  <li>
                    <a href="#coord" class="toc-h2 toc-link" data-title="Inverted geocoding">Inverted geocoding</a>
                  </li>
                  <li>
                    <a href="#pt-ref" class="toc-h2 toc-link" data-title="Public Transportation Objects exploration">Public Transportation Objects exploration</a>
                  </li>
                  <li>
                    <a href="#pt-objects" class="toc-h2 toc-link" data-title="Autocomplete on Public Transport objects">Autocomplete on Public Transport objects</a>
                  </li>
                  <li>
                    <a href="#places" class="toc-h2 toc-link" data-title="Autocomplete on geographical objects">Autocomplete on geographical objects</a>
                  </li>
                  <li>
                    <a href="#places-nearby-api" class="toc-h2 toc-link" data-title="Places nearby">Places nearby</a>
                  </li>
                  <li>
                    <a href="#journeys" class="toc-h2 toc-link" data-title="Journeys">Journeys</a>
                  </li>
                  <li>
                    <a href="#isochrones-api" class="toc-h2 toc-link" data-title="Isochrones (currently in Beta)">Isochrones (currently in Beta)</a>
                  </li>
                  <li>
                    <a href="#route-schedules" class="toc-h2 toc-link" data-title="Route Schedules">Route Schedules</a>
                  </li>
                  <li>
                    <a href="#stop-schedules" class="toc-h2 toc-link" data-title="Stop Schedules">Stop Schedules</a>
                  </li>
                  <li>
                    <a href="#terminus-schedules" class="toc-h2 toc-link" data-title="Terminus Schedules">Terminus Schedules</a>
                  </li>
                  <li>
                    <a href="#departures" class="toc-h2 toc-link" data-title="Departures">Departures</a>
                  </li>
                  <li>
                    <a href="#arrivals" class="toc-h2 toc-link" data-title="Arrivals">Arrivals</a>
                  </li>
                  <li>
                    <a href="#line-reports" class="toc-h2 toc-link" data-title="Line reports">Line reports</a>
                  </li>
                  <li>
                    <a href="#traffic-reports" class="toc-h2 toc-link" data-title="Traffic reports">Traffic reports</a>
                  </li>
                  <li>
                    <a href="#equipment_reports" class="toc-h2 toc-link" data-title="Equipment_Reports">Equipment_Reports</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#objects" class="toc-h1 toc-link" data-title="Objects">Objects</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#standard-objects" class="toc-h2 toc-link" data-title="Standard Objects">Standard Objects</a>
                  </li>
                  <li>
                    <a href="#public-transport-objects" class="toc-h2 toc-link" data-title="Public transport objects">Public transport objects</a>
                  </li>
                  <li>
                    <a href="#real-time-and-disruption-objects" class="toc-h2 toc-link" data-title="Real time and disruption objects">Real time and disruption objects</a>
                  </li>
                  <li>
                    <a href="#street-network-objects" class="toc-h2 toc-link" data-title="Street network objects">Street network objects</a>
                  </li>
                  <li>
                    <a href="#other-objects" class="toc-h2 toc-link" data-title="Other objects">Other objects</a>
                  </li>
                  <li>
                    <a href="#special-parameters" class="toc-h2 toc-link" data-title="Special Parameters">Special Parameters</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#misc-mechanisms-and-few-boring-stuff" class="toc-h1 toc-link" data-title="Misc mechanisms (and few boring stuff)">Misc mechanisms (and few boring stuff)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#multiple-journeys" class="toc-h2 toc-link" data-title="Multiple journeys">Multiple journeys</a>
                  </li>
                  <li>
                    <a href="#journey-qualification-process" class="toc-h2 toc-link" data-title="Journey qualification process">Journey qualification process</a>
                  </li>
                  <li>
                    <a href="#Service-translation" class="toc-h2 toc-link" data-title="Service Translation">Service Translation</a>
                  </li>
                  <li>
                    <a href="#ridesharing-stuff" class="toc-h2 toc-link" data-title="Ridesharing">Ridesharing</a>
                  </li>
                  <li>
                    <a href="#taxi-stuff" class="toc-h2 toc-link" data-title="Taxi">Taxi</a>
                  </li>
                  <li>
                    <a href="#odt" class="toc-h2 toc-link" data-title="On demand transportation">On demand transportation</a>
                  </li>
                  <li>
                    <a href="#disruptions" class="toc-h2 toc-link" data-title="Disruptions">Disruptions</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#realtime" class="toc-h1 toc-link" data-title="Real time integration in Navita">Real time integration in Navita</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#PT_object_collections_data_freshness" class="toc-h2 toc-link" data-title="Public transport object collections">Public transport object collections</a>
                  </li>
                  <li>
                    <a href="#OTHER_EFFECT" class="toc-h2 toc-link" data-title="Other effect">Other effect</a>
                  </li>
                  <li>
                    <a href="#SIGNIFICANT_DELAYS" class="toc-h2 toc-link" data-title="Trip delayed">Trip delayed</a>
                  </li>
                  <li>
                    <a href="#REDUCED_SERVICE" class="toc-h2 toc-link" data-title="Reduced service">Reduced service</a>
                  </li>
                  <li>
                    <a href="#NO_SERVICE" class="toc-h2 toc-link" data-title="No service">No service</a>
                  </li>
                  <li>
                    <a href="#MODIFIED_SERVICE" class="toc-h2 toc-link" data-title="Modified service">Modified service</a>
                  </li>
                  <li>
                    <a href="#ADDITIONAL_SERVICE" class="toc-h2 toc-link" data-title="Additional service">Additional service</a>
                  </li>
                  <li>
                    <a href="#UNKNOWN_EFFECT" class="toc-h2 toc-link" data-title="Unknown effect aka "Back to normal"">Unknown effect aka "Back to normal"</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#lexicon" class="toc-h1 toc-link" data-title="Lexicon">Lexicon</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#lexicon-introduction" class="toc-h2 toc-link" data-title="Introduction">Introduction</a>
                  </li>
                  <li>
                    <a href="#lexicon-stop-point" class="toc-h2 toc-link" data-title="Stop Point">Stop Point</a>
                  </li>
                  <li>
                    <a href="#lexicon-stop-area" class="toc-h2 toc-link" data-title="Stop Area">Stop Area</a>
                  </li>
                  <li>
                    <a href="#lexicon-connection" class="toc-h2 toc-link" data-title="Connection">Connection</a>
                  </li>
                  <li>
                    <a href="#lexicon-journey-pattern" class="toc-h2 toc-link" data-title="Journey Pattern">Journey Pattern</a>
                  </li>
                  <li>
                    <a href="#lexicon-route" class="toc-h2 toc-link" data-title="Route">Route</a>
                  </li>
                  <li>
                    <a href="#lexicon-line" class="toc-h2 toc-link" data-title="Line">Line</a>
                  </li>
                  <li>
                    <a href="#lexicon-stop-time" class="toc-h2 toc-link" data-title="Stop Time">Stop Time</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#code-4xx" class="toc-h2 toc-link" data-title="Code 4xx">Code 4xx</a>
                  </li>
                  <li>
                    <a href="#code-200" class="toc-h2 toc-link" data-title="Code 200">Code 200</a>
                  </li>
                  <li>
                    <a href="#code-50x" class="toc-h2 toc-link" data-title="Code 50x">Code 50x</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://navitia.io/inscription/'>Get an access</a></li>
            <li><a href='https://navitia.opendatasoft.com/explore'>Explore Data</a></li>
            <li><a href='https://groups.google.com/forum/#!forum/navitia'>Help!</a></li>
            <li><a href='https://navitia.io'>Navitia.io</a></li>
            <li><a href='https://playground.navitia.io'>Navitia Playground</a></li>
            <li><a href='https://github.com/hove-io/navitia'>Navitia on Github</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='getting-started'>Getting started</h1><h2 id='overview'>Overview</h2>
<p><strong>Navitia</strong> (<em>pronounce [navi-sia]</em>) is the open API for building cool stuff with mobility data.</p>

<p>It provides the following services:</p>

<ul>
<li>multi-modal journeys computation</li>
<li>line schedules</li>
<li>next departures</li>
<li>exploration of public transport data</li>
<li>search &amp; autocomplete on places</li>
<li>and sexy things such as isochrones</li>
</ul>

<p>Have a look at the <a href="#some-examples">examples below</a> to learn what services we provide and how to use them.</p>
<h3 id='approach'> Approach</h3>
<p>Navitia is an open-source web API, <strong>initially</strong> built to provide traveler information on urban transportation networks.<br>Its main purpose is to provide day-to-day informations to travelers.<br>Over time, Navitia has been able to do way more, <em>sometimes</em> for technical and debuging purpose <em>or</em> because other functional needs fit quite well in what Navitia can do <em>or</em> just because it was quite easy and super cool.</p>

<p>Technically, Navitia is a <a href="https://en.wikipedia.org/wiki/HATEOAS">HATEOAS</a> API that returns JSON formated results.</p>
<h3 id='who-39-s-who'> Who&#39;s who</h3>
<p>Navitia is instanciated and exposed publicly through <a href="https://api.navitia.io">api.navitia.io</a>.<br>Developments on Navitia are lead by Hove (previously Kisio Digital and CanalTP).<br>Hove is a subsidiary of Keolis (itself a subsidiary of SNCF, French national railway company).</p>
<h3 id='about-quot-sandbox-quot-coverage'>About &quot;sandbox&quot; coverage</h3>
<aside class="notice">
Every example is based on fake data. Sandbox data is made up of few fake metro lines from a single network on the area of Paris only. If you want to play with real data, use your token and explore the world!
</aside>

<aside class="notice">
A fake token is used in examples below: be aware that this token is really limited ("sandbox" coverage only).</br>
You have to use yours to get real services on real data (your token has no access to "sandbox" coverage).
</aside>
<h2 id='first-step'>First step</h2>
<blockquote>
<p>Your token is available on your <a href="https://navitia.io/se-connecter/">navitia.io account page</a>.</p>

<p>It sounds like &quot;3b036afe-0110-4202-b9ed-99718476c2e0&quot;</p>
</blockquote>

<p>Get a token here <a href="https://navitia.io/inscription/">https://navitia.io/inscription/</a>. We need your mail to stay in touch when Navitia changes.</p>

<aside class="notice">
The token obtained is private, you should avoid sharing it publicly (beware if you share code examples, url or screenshot).</br>
This will avoid having someone use your request quota.
</aside>
<h2 id='second-step'>Second step</h2><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># You can use curl to request Navitia</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/'</span>
</code></pre></div>
<p>Go to the API <a href="https://api.navitia.io">https://api.navitia.io</a></p>

<p>The simpliest way is to use a web browser.
Our humble opinion is that <a href="https://www.getfirefox.com">firefox browser</a> and a json viewer extension like <a href="https://addons.mozilla.org/fr/firefox/addon/json-lite/">JSON Lite</a> is a good setup.</p>
<h2 id='third-step'>Third step</h2><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># In a curl way, with our fake token</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre></div>
<p>Use the token: if you use a modern web browser, you only have to <strong>paste it</strong> in the <strong>user name area</strong>,
with <strong>no password</strong>.</p>

<p><img src="images/firefox_token-aa369f75.png" alt="Put token in Firefox browser" /></p>

<p>Or, in a simplier way, you can add your token in the address bar like:</p>

<aside class="success">
<a href="https://3b036afe-0110-4202-b9ed-99718476c2e0@api.navitia.io/v1/coverage/sandbox/lines">https://3b036afe-0110-4202-b9ed-99718476c2e0@api.navitia.io/v1/coverage/sandbox/lines</a>
</aside>

<p>See <a href="#authentication">authentication</a> section to find out more details on <strong>how to use your token</strong> when coding.</p>
<h4 id='then'>Then,</h4>
<p>use the API! The easiest is probably to jump to <a href="#some-examples">Examples</a> below.</p>

<p>At some point you will want to read <a href="#lexicon">transport public lexicon</a>.</p>
<h2 id='navitia-for-humans'>Navitia for humans</h2>
<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try a basic request on Navitia playground</a></p>

<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fjourneys%3Ffrom%3D2.3749036%253B48.8467927%26to%3D2.2922926%253B48.8583736%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try a journey request on Navitia playground</a></p>
</blockquote>

<aside class="success">
if you only want to challenge Navitia functionality, take your token and go to the <a href="https://playground.navitia.io">navitia playground website </a>.
</aside>

<p><img src="images/navitia_playground-3ea4d4e5.png" alt="Try Navitia playgroung" /></p>
<h2 id='wrappers'>Wrappers</h2>
<p>To help you in the building of your project, there are some wrappers implemented (by Hove or not) to query the API Navitia:</p>

<table><thead>
<tr>
<th>Language / Framework</th>
<th>Plugin</th>
</tr>
</thead><tbody>
<tr>
<td>PHP5</td>
<td><a href="https://github.com/hove-io/NavitiaComponent">https://github.com/hove-io/NavitiaComponent</a></td>
</tr>
<tr>
<td>Symfony 2 or 3</td>
<td><a href="https://github.com/hove-io/NavitiaBundle">https://github.com/hove-io/NavitiaBundle</a></td>
</tr>
<tr>
<td>Python</td>
<td><a href="https://github.com/leonardbinet/navitia_client">https://github.com/leonardbinet/navitia_client</a></td>
</tr>
<tr>
<td>Python</td>
<td><a href="https://github.com/hove-io/navitia_python_wrapper">https://github.com/hove-io/navitia_python_wrapper</a></td>
</tr>
</tbody></table>

<h2 id="about-data">About the data</h2>

<p>The street network is extracted from <a href="https://www.openstreetmap.org">OpenStreetMap</a>. The public transport data are provided by networks that provide their timetables as open data. Some data improvements are achieved by Hove and are published back there <a href="https://navitia.opendatasoft.com">https://navitia.opendatasoft.com</a>.</p>

<p>Want to know if your city is in Navitia? Know if a special contributor is used? You can either search in <a href="#datasets">datasets</a> of the different <a href="#coverage">coverages</a>. Or use the filter provided on our data catalog <a href="https://navitia.opendatasoft.com">https://navitia.opendatasoft.com</a>.</p>

<aside class="success">
    We are gradually supporting more and more cities. If your city has open public transport data and is missing,
    check our googlegroup and drop us a note at <a href="mailto:navitia@googlegroups.com">navitia@googlegroups.com</a>.
    </br>
    We will try to add it to navitia.io
</aside>

<aside class="notice">
    Please note that the creation of a new coverage on our servers requires resources,
    so on some data integrations we try to make sure that the amount of requests justifies the use of those resources.
    </br>
    Your feedback and requests are very welcome so we choose the most useful new coverages depending on available resources.
</aside>
<h2 id='getting-help'>Getting help</h2>
<blockquote>
<p><a href="https://api.navitia.io/v1/schema">Try openAPI / swagger</a></p>
</blockquote>

<p>All available functions are documented in <a href="#interface">integration part</a>.
If you want to go further, there is an Swagger-openAPI documentation at <a href="https://api.navitia.io/v1/schema">https://api.navitia.io/v1/schema</a></p>

<p>A mailing list is available to ask questions or request <a href="#about-data">new data</a> integrations: <a href="mailto:navitia@googlegroups.com">navitia@googlegroups.com</a></p>

<p>In order to report bug and make feature requests please use our github navitia project
<a href="https://github.com/hove-io/navitia/issues">https://github.com/hove-io/navitia/issues</a>.</p>

<p>Stay tuned on twitter <a href="https://twitter.com/navitia">@navitia</a>.</p>

<p>At last, we are present on the network <code>matrix.org</code>, channel <a href="https://riot.im/app/#/room/#navitia:matrix.org"><code>#navitia:matrix.org</code></a>.</p>
<h1 id="some-examples">Some examples</h1>

<p>This chapter shows some usages with the minimal required arguments. However, this is not a reference and not all APIs nor arguments are shown.</p>

<aside class="notice">
You will have to use your own token with the examples below (if you switch to another coverage than "sandbox").
</aside>
<h2 id='basics-on-the-api-request'>Basics on the API request</h2><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Web is too shiny: JSON, urlencode and curl forever!</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas/stop_area%3ARAT%3ASA%3ABASTI/lines/line%3ARAT%3AM5/departures?count=4&amp;depth=2&amp;'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre></div>
<p>A query to Navitia&#39;s API is divided in 4 parts, as highlighted by colors in a <a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253ABASTI%2Flines%2Fline%253ARAT%253AM5%2Fdepartures%3Fcount%3D4%26depth%3D2%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Navitia Playground example</a>:<br><img src="images/navitia_basic-05136d70.png" alt="Navitia basic request" /></p>

<ol>
<li><strong>Root url</strong> of the API, the address of the server.<br>Here <code>https://api.navitia.io/v1/</code></li>
<li><strong>Path</strong>, used to filter the request and precise what is affected by the query. This filter is an intersection of multiple <code>key/value</code> (logical <em>AND</em>).<br>Here <code>/coverage/sandbox/stop_areas/stop_area:RAT:SA:BASTI/lines/line:RAT:M5/</code> means we are looking for information on everything that is in the region <em>&quot;sandbox&quot;</em> and that is stricly related to both station <em>&quot;Bastille&quot;</em> and line <em>&quot;metro 5&quot;</em>.</li>
<li><strong>Endpoint</strong>, specifies what type of information is requested, so the <em>feature</em>. It can be a service, like <em>journeys</em>, <em>isochrones</em>, <em>places</em> or a collection of objects, like <em>lines</em>, <em>stop_areas</em>, etc.
Here <code>/departures?</code> means we are requesting <em>&quot;next departures&quot;</em>.</li>
<li><strong>Parameters</strong>, used to specify any additional detail linked to the endpoint requested.<br>Here <code>?count=4&amp;depth=2&amp;</code> means we are requesting the next <strong><em>4</em></strong> departures and we want the response to be detailed to a depth of <strong><em>2</em></strong>.</li>
</ol>

<aside class="success">
    Tadaaa!
    </br>
    <a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253ABASTI%2Flines%2Fline%253ARAT%253AM5%2Fdepartures%3Fcount%3D4%26depth%3D2%26&token=3b036afe-0110-4202-b9ed-99718476c2e0">https://api.navitia.io/v1/coverage/sandbox/stop_areas/stop_area:RAT:SA:BASTI/lines/line:RAT:M5/departures?count=4&depth=2</a>
    </br>
    We get the next 4 departures for the metro 5 at Bastille in the great "sandbox" region, and with a middle level of details.
</aside>
<h2 id='a-quick-exploration'>A quick exploration</h2><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>


HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"start_production_date"</span>: <span class="s2">"20140105"</span>,
    <span class="s2">"status"</span>: <span class="s2">"running"</span>,
    <span class="s2">"shape"</span>: <span class="s2">"POLYGON((-74.500997 40.344999,-74.500997 41.096999,-73.226 41.096999,-73.226 40.344999,-74.500997 40.344999))"</span>,
    <span class="s2">"id"</span>: <span class="s2">"sandbox"</span>,
    <span class="s2">"end_production_date"</span>: <span class="s2">"20140406"</span>
<span class="o">}</span>
</code></pre></div>
<p><em>navitia</em> allows to dive into the public transport data.</p>

<p>To better understand how the API works let&#39;s ask the API the different main possibilities by simply querying the API endpoint: <a href="https://api.navitia.io/v1/">https://api.navitia.io/v1/</a></p>

<p>The <code>links</code> section of the answer contains the different possible interactions with the API.</p>

<p>As you can see there are several possibilities like for example <a href="#coverage">coverage</a> to navigate through the covered regions data or <a href="#journeys">journeys</a> to compute a journey.</p>

<p>Now let&#39;s see what interactions are possible with <code>coverage</code>:</p>

<p>This request will give you:</p>

<ul>
<li>in the <code>regions</code> section the list of covered regions</li>
<li>in the <code>links</code> section the list of possible interactions with them</li>
</ul>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>


HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"lines"</span>:[
        <span class="o">{</span>
            <span class="s2">"id"</span>:<span class="s2">"line:RAT:M1"</span>,
            <span class="s2">"code"</span>:<span class="s2">"1"</span>,
            <span class="s2">"name"</span>:<span class="s2">"Château de Vincennes - La Défense"</span>,
            <span class="s2">"opening_time"</span>:<span class="s2">"053000"</span>,
            <span class="s2">"closing_time"</span>:<span class="s2">"013600"</span>,
            <span class="s2">"color"</span>:<span class="s2">"F2C931"</span>,
            <span class="s2">"commercial_mode"</span>:<span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"commercial_mode:Metro"</span>,
                <span class="s2">"name"</span>:<span class="s2">"Metro"</span>
            <span class="o">}</span>,
            <span class="s2">"physical_modes"</span>:[
                <span class="o">{</span>
                    <span class="s2">"id"</span>:<span class="s2">"physical_mode:Metro"</span>,
                    <span class="s2">"name"</span>:<span class="s2">"Métro"</span>
                <span class="o">}</span>
            <span class="o">]</span>,
            <span class="s2">"network"</span>:<span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"network:RAT:1"</span>,
                <span class="s2">"name"</span>:<span class="s2">"RATP"</span>
            <span class="o">}</span>,
            <span class="s2">"routes"</span>:[
                <span class="o">{</span>
                    <span class="s2">"id"</span>:<span class="s2">"route:RAT:M1"</span>,
                    <span class="s2">"name"</span>:<span class="s2">"Château de Vincennes - La Défense"</span>,
                    <span class="s2">"direction"</span>:<span class="o">{</span>
                        <span class="s2">"id"</span>:<span class="s2">"stop_area:RAT:SA:DENFE"</span>,
                        <span class="s2">"name"</span>:<span class="s2">"La Défense Grande Arche (Puteaux)"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                    <span class="s2">"id"</span>:<span class="s2">"route:RAT:M12_R"</span>,
                    <span class="s2">"name"</span>:<span class="s2">"Mairie d'Issy - Front Populaire"</span>,
                    <span class="s2">"direction"</span>:<span class="o">{</span>
                        <span class="s2">"id"</span>:<span class="s2">"stop_area:RAT:SA:MISSY"</span>,
                        <span class="s2">"name"</span>:<span class="s2">"Mairie d'Issy (Vanves)"</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p>In the <code>links</code> section there is for example this link: <code>&quot;href&quot;: &quot;https://api.navitia.io/v1/coverage/{regions.id}/lines&quot;</code></p>

<p>This link is about lines (according to its <code>rel</code> attribute) and is templated which means that it needs additional parameters.<br>
The parameters are identified with the <code>{</code> <code>}</code> syntax.
In this case it needs a region id. This id can be found in the <code>regions</code> section.</p>

<p>To query for the public transport lines of New York we thus have to call: <a href="https://api.navitia.io/v1/coverage/us-ny/lines">https://api.navitia.io/v1/coverage/us-ny/lines</a></p>

<p>Easy isn&#39;t it?</p>

<p><a
    href="https://jsfiddle.net/kisiodigital/vLugkLgw/"
    target="_blank">
    Code it yourself on JSFiddle
</a></p>

<p>We could push the exploration further and:</p>

<ul>
<li>Where am I? (WGS 84 coordinates)

<ul>
<li><a href="https://api.navitia.io/v1/coord/2.377310;48.847002">https://api.navitia.io/v1/coord/2.377310;48.847002</a></li>
<li>I&#39;m on the &quot;/fr-idf&quot; coverage, at &quot;20, rue Hector Malot in Paris, France&quot;</li>
</ul></li>
<li>Services available on this coverage

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf">https://api.navitia.io/v1/coverage/fr-idf</a></li>
<li>Let&#39;s take a look at the links at the bottom of the previous stream</li>
</ul></li>
<li>Networks available? (see what <a href="#network">network</a> is)

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks">https://api.navitia.io/v1/coverage/fr-idf/networks</a></li>
<li>pwooo, many networks on this coverage ;)</li>
</ul></li>
<li>Is there any Metro lines or networks?

<ul>
<li>there is an api for that. See <a href="#pt-objects">pt_objects</a></li>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/pt_objects?q=metro">https://api.navitia.io/v1/coverage/fr-idf/pt_objects?q=metro</a></li>
<li>Response contain one network, one mode, and many lines</li>
</ul></li>
<li>Let&#39;s try some filtering (see <a href="#pt-ref">PT objects exploration</a>)

<ul>
<li>filter on the specific metro network (&quot;id&quot;: &quot;network:OIF:439&quot; extracted from last request)</li>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/">https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/</a></li>
<li>physical modes managed by this network</li>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/physical_modes">https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/physical_modes</a></li>
<li>metro lines</li>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/physical_modes/physical_mode:Metro/lines">https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/physical_modes/physical_mode:Metro/lines</a></li>
</ul></li>
<li>By the way, what stuff are close to me?

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/places_nearby">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/places_nearby</a></li>
<li>or <a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/lines">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/lines</a></li>
<li>or <a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/stop_schedules">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/stop_schedules</a></li>
<li>or <a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/terminus_schedules">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/terminus_schedules</a></li>
<li>or ...</li>
</ul></li>
</ul>
<h2 id='seek-and-search'>Seek and search</h2><h3 id='what-places-have-a-name-that-start-with-39-eiff-39'>What places have a name that start with &#39;eiff&#39;</h3>
<p>The <a href="#places">/places</a> API finds any object whose name matches the first letters of the query.</p>

<p>To find the objects that start with &quot;tran&quot; the request should be: <a href="https://api.navitia.io/v1/coverage/fr-idf/places?q=eiff">https://api.navitia.io/v1/coverage/fr-idf/places?q=eiff</a></p>

<p>This API is fast enough to use it for autocompleting a user request.</p>
<h3 id='what-places-are-within-1000-meters'>What places are within 1000 meters</h3>
<p>The <a href="#places-nearby">/places_nearby</a> API finds any object within a certain radius as a crow flies.
This API is not accessible from the main endpoint but has to be applied on a stop point, an address, some coordinates,...</p>

<p>All objects around the coordinates of the Transamerica Pyramid can be fetched with the following request: <a href="https://api.navitia.io/v1/coverage/us-ca/coords/-122.402770;37.794682/places_nearby">https://api.navitia.io/v1/coverage/us-ca/coords/-122.402770;37.794682/places_nearby</a></p>

<p>We could, in the same fashion, ask for the objects around a particuliar stop area (<code>stop_area:OSF:SA:CTP4025</code> for example): <a href="https://api.navitia.io/v1/coverage/us-ca/stop_areas/stop_area:OSF:SA:CTP4025/places_nearby">https://api.navitia.io/v1/coverage/us-ca/stop_areas/stop_area:OSF:SA:CTP4025/places_nearby</a></p>

<p>Optionally you can select what object types to return and change the radius.</p>
<h2 id='about-itinerary'>About itinerary</h2><h3 id='a-simple-route-computation'>A simple route computation</h3>
<p>Let&#39;s find out how to get from the view point of the Golden Gate bridge to the Transamerica Pyramid in San Francisco.
We need to use the <code>journeys</code> API.</p>

<p>The coordinates of the view point are <code>longitude = -122.4752</code>, <code>latitude = 37.80826</code> and the coordinates of the Transamercia Pyramid are <code>longitude = -122.402770</code>, <code>latitude = 37.794682</code>.
The coordinates are always in decimal degrees as WGS84 (also known as GPS coordinates). The coordinates are given to the API with the following format: <code>longitute;latitude</code>.</p>

<p>The arguments are the following:</p>

<ul>
<li><code>from=-122.4752;37.80826</code></li>
<li><code>to=-122.402770;37.794682</code>
Hence, the complete URL: <a href="https://api.navitia.io/v1/journeys?from=-122.4752;37.80826&to=-122.402770;37.794682">https://api.navitia.io/v1/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682</a>.</li>
</ul>

<aside class="success">
A `journeys` request might return multiple journeys. Those journeys are said to be equivalent. For instance
a journey can be faster than an other but requires more changes or more walking.
</aside>

<p>This API has more options explained in the reference as:</p>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fjourneys%3Ffrom%3D2.380465%253B48.861081%26to%3D2.37715%253B48.846781%26datetime%3D20220601T120000%26datetime_represents%3Darrival%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground using &quot;datetime&quot; and &quot;datetime_represents&quot; parameters)</a></p>
</blockquote>

<ul>
<li><p>The dates are given in the basic form of the ISO 8601 datetime format: <code>YYYYMMDDTHHMM</code>.
For example, if you want to compute a journey on friday, April 07 use <code>datetime=20170407T120000</code>.</p></li>
<li><p>To get the latest departure, you can query for journeys arriving before the end of the service using the <code>datetime_represents</code> parameter</p></li>
</ul>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fjourneys%3Ffrom%3D2.380465%253B48.861081%26to%3D2.37715%253B48.846781%26traveler_type%3Dstandard%26forbidden_uris%255B%255D%3Dline%253ARAT%253AM5%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try personalization capacities on Navitia playground)</a></p>
</blockquote>

<ul>
<li><p>You can also change the <a href="#traveler-type">traveler profile</a> (to adapt the walking/biking/driving parts and comfort of journeys)</p></li>
<li><p>Forbid certain lines, routes or modes:
for example you can forbid the line 5 and all lines using cable car mode. See <a href="#journeys">/journeys</a> section.</p></li>
</ul>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fjourneys%3Ffrom%3D2.37715%253B48.846781%26to%3D2.380464%253B48.861081%26first_section_mode%255B%255D%3Dbss%26first_section_mode%255B%255D%3Dwalking%26first_section_mode%255B%255D%3Dbike%26">Using your token! You can try &quot;real life&quot; personalizations on Paris area)</a></p>
</blockquote>

<ul>
<li>You can override traveler_type parameters by enabling biking, driving or bike sharing system (bss) in your area. For instance, you can allow bss (and walking since it&#39;s implicit with it) at the departure from Paris area</li>
</ul>
<h3 id='what-stations-can-be-reached-in-the-next-20-minutes'>What stations can be reached in the next 20 minutes</h3>
<p>The API can computes <em>all</em> the reachable stop points from an origin within a given maximum travel duration.
That&#39;s what we call an <code>isochrone</code> (see <a href="#journeys">journeys section</a>)</p>

<p>All the stop points that can be reached from the Transamerica Pyramid can be fetched with the following request:
<a href="https://api.navitia.io/v1/coverage/us-ca/coords/-122.402770;37.794682/journeys?max_duration=1200">https://api.navitia.io/v1/coverage/us-ca/coords/-122.402770;37.794682/journeys?max_duration=1200</a></p>

<p>It returns for each destination stop point the earliest arrival and a link to the journey detail.</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>4 ways to request Navitia</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>
<span class="c"># using "headers"</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c"># using "users": don't forget ":" at the end of line!</span>
<span class="nv">$ </span>curl https://api.navitia.io/v1/coverage <span class="nt">-u</span> 3b036afe-0110-4202-b9ed-99718476c2e0:

<span class="c"># using "straight URL"</span>
<span class="nv">$ </span>curl https://3b036afe-0110-4202-b9ed-99718476c2e0@api.navitia.io/v1/coverage

</code></pre></div>
<p>Authentication is required to use <strong>navitia.io</strong>. When you register we will give you
an authentication key that must accompany each API call you make.</p>

<aside class="notice">
Your key will be ready to work at most 5 minutes after its creation.
</aside>

<p><strong>Navitia.io</strong> uses <a href="http://tools.ietf.org/html/rfc2617#section-2">Basic HTTP authentication</a>
for authentication, where the username is the key, and password remains empty.</p>

<p>For example, in a <a href="https://en.wikipedia.org/wiki/CURL">Curl</a> way, you can request either (using the fake sandbox token):</p>

<p><code>curl &#39;https://api.navitia.io/v1/coverage&#39; -H &#39;Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0&#39;</code></p>

<p>or</p>

<p><code>curl https://api.navitia.io/v1/coverage -u 3b036afe-0110-4202-b9ed-99718476c2e0:</code></p>

<p>(don&#39;t forget <code>:</code> after the key)</p>

<p>or</p>

<p><code>curl https://3b036afe-0110-4202-b9ed-99718476c2e0@api.navitia.io/v1/coverage</code></p>

<aside class="notice">
The token used within this documentation has only access to the "sandbox" coverage.</br>
The private token obtained on https://navitia.io has access to other coverages, but not to "sandbox".
</aside>
<h1 id="journey_planning">Journey planning</h1>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fjourneys%3Ffrom%3D2.3749036%3B48.8467927%26to%3D2.2922926%3B48.8583736&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground</a></p>
</blockquote>

<p>The multi-modal itinerary feature allows you to compute the best routes from point A to point B
using all available means of travel, including: bus, train, subway, bike, public bike, walking, car, etc.
This function returns a roadmap with specific instructions for a route based on available information,
such as: time of departure and arrival, journey time, possible modes of transport, and walking distance.</p>

<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fjourneys%3Ffrom%3D2.3749036%253B48.8467927%26to%3D2.2922926%253B48.8583736%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0"><img src="images/playground_journey-2197003d.png" alt="a journey on Navitia playground" /></a></p>

<p>In order to compute a journey, you may have to use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#places">Places</a></strong>: autocomplete on geographical data to find the departure and destination points from an input text.</li>
<li>  <strong><a href="#journeys">Journeys</a></strong>: compute journeys from and to coordinates, stops, stations or administrative region</li>
</ul>
<h1 id="next_departures_and_arrivals">Next departures and arrivals</h1>

<p>The &quot;Next Departures&quot; feature provides the next scheduled departures or arrivals
for a specific mode of public transport (bus, tram, metro, train) at your selected stop, near coordinates, etc.</p>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Fterminus_schedules%3Fitems_per_schedule%3D2%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground (click on &quot;EXT&quot; buttons to see times)</a></p>
</blockquote>

<ul>
<li>use <code>terminus_schedules</code> if you want to display departures grouped by terminus (2 next departures for each terminus for example). Terminus are automaticily computed by Navitia
<a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Fstop_schedules%3Fitems_per_schedule%3D2%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Panneau_SIEL_couleurs_Paris-Op%C3%A9ra.jpg/640px-Panneau_SIEL_couleurs_Paris-Op%C3%A9ra.jpg" alt="a terminus_schedules on Navitia playground" /></a></li>
</ul>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Fstop_schedules%3Fitems_per_schedule%3D2%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground (click on &quot;EXT&quot; buttons to see times)</a></p>
</blockquote>

<ul>
<li>use <code>stop_schedules</code> if you want to display departures grouped by route (2 next departures for each route for example). Compared to &quot;terminus_schedules&quot;, routes are managed by the GTFS providers.
<img src="images/stop_vs_terminus_schedules-99bcd9ad.png" alt="stop_vs_terminus_schedules" /></li>
</ul>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Fstop_schedules%3Fitems_per_schedule%3D2%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground</a></p>
</blockquote>

<ul>
<li>use <code>departures</code> or <code>arrivals</code> if you want to display a multi-route table (like big departure boards in train stations)
<a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Fdepartures%3F&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Display_at_bus_stop_sign_in_Karlovo_n%C3%A1m%C4%9Bst%C3%AD%2C_T%C5%99eb%C3%AD%C4%8D%2C_T%C5%99eb%C3%AD%C4%8D_District.JPG/640px-Display_at_bus_stop_sign_in_Karlovo_n%C3%A1m%C4%9Bst%C3%AD%2C_T%C5%99eb%C3%AD%C4%8D%2C_T%C5%99eb%C3%AD%C4%8D_District.JPG" alt="a departures on Navitia playground" /></a></li>
</ul>

<p>In order to display departures, you may have to use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#pt-ref">Public transportation objects</a></strong>: List of the public transport
objects of a region</li>
<li>  <strong><a href="#stop-schedules">Stop Schedules</a></strong>, <strong><a href="#terminus-schedules">Terminus Schedules</a></strong>, <strong><a href="#departures">Departures</a></strong> and <strong><a href="#arrivals">Arrivals</a></strong>:
Compute time tables for a given resource</li>
</ul>

<p>See how disruptions affect the next departures in the <a href="#realtime">real time</a> section.</p>
<h1 id="timetables">Timetables</h1>

<p>The Timetables features gives you access to line schedules on public transport,
allowing you to find the times public transport is expected at specific stops.</p>

<p>It returns a variety of differents informations, including: stop points in right order, times,
accessibility informations, vehicle informations, etc.</p>

<p>In order to display line schedules, you may have to use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#pt-ref">Public transportation objects</a></strong>: List of the public transport
objects of a region</li>
<li>  <strong><a href="#route-schedules">Route Schedules</a></strong> and <strong><a href="#stop-schedules">Stop Schedules</a></strong>:
Compute time tables for a given resource</li>
</ul>
<h1 id="places-nearby">Places nearby</h1>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%3ARAT%3ASA%3ACAMPO%2Fplaces_nearby&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground (click on &quot;MAP&quot; buttons to see places)</a></p>
</blockquote>

<p>The Places Nearby feature displays the different transport options around a location - a GPS coordinate,
or an address, for example.</p>

<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fcoord%2F2.32794%253B48.817184%2Fplaces_nearby%3F&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0"><img src="images/playground_places_nearby-05c55519.png" alt="a map around on Navitia playground" /></a></p>

<p>Using OpenStreetMap data, this function also provides information about bicycle parking, public park schedules, and parking fees.</p>

<p>You can use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#coverage">Coverage</a></strong>: List of the region covered by navitia</li>
<li>  <strong><a href="#pt-ref">Public transportation objects</a></strong>: Seek and search within the public transport objects of a region</li>
<li>  <strong><a href="#places-nearby-api">Places nearby</a></strong>: List of objects near an object or using longitude and latitude</li>
<li>  <strong><a href="#stop-schedules">Stop Schedules</a></strong>, <strong><a href="#departures">Departures</a></strong> and <strong><a href="#arrivals">Arrivals</a></strong>:
Compute time tables for a given resource</li>
</ul>
<h1 id='explore-transport'>Explore transport</h1>
<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Flines&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground</a></p>
</blockquote>

<p>The Explore Transport feature lets you explore places, coordinates, bus stops, subway stations, etc.
to navigate all the data available on the API (collection service).</p>

<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Flines&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0"><img src="images/playground_pt_ref-1c557a7b.png" alt="some data request on Navitia playground" /></a></p>

<p>If you want to play with Navitia at a hardcore gamer level, you may want to build some advanced requests: here is <a href="https://github.com/hove-io/navitia/blob/dev/documentation/rfc/ptref_grammar.md">how to</a></p>

<p>You can use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#coverage">Coverage</a></strong>: List of the region covered by navitia</li>
<li>  <strong><a href="#pt-ref">Public transportation objects</a></strong>: List of the public transport
objects of a region</li>
<li>  <strong><a href="#places">Places</a></strong> and <strong><a href="#pt-objects">PT_objects</a></strong>: Search for data using autocomplete input.</li>
</ul>
<h1 id="isochrones">Isochrones</h1>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fisochrones%3Ffrom%3D2.377097%253B48.846905%26boundary_duration%255B%255D%3D600%26boundary_duration%255B%255D%3D1200%26boundary_duration%255B%255D%3D1800%26boundary_duration%255B%255D%3D2400%26boundary_duration%255B%255D%3D3000%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground (click on &quot;MAP&quot; buttons for &quot;wow effect&quot;)</a></p>
</blockquote>

<p>Whether using a specific set of coordinates or a general location, you can find places within
your reach at a given time and their corresponding travel times, using a variety of transportation options.
You can even specify the maximum amount of time you want to spare on travel and find
the quickest way to reach your destination.</p>

<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fisochrones%3Ffrom%3D2.377097%3B48.846905%26max_duration%3D2000%26min_duration%3D1000&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0"><img src="images/isochrones_example-68a68c7e.png" alt="a simple isochrone request on Navitia playground" /></a></p>

<p>Isochrone computing exposes information under two formats:</p>

<ul>
<li>  either <a href="#journeys">Journeys</a> service which provides a list with all the reachable stops at a given time from a potential destination
with their respective arrival times, travel times and number of matches. Here is a fiddle example:</li>
</ul>

<p><a
    href="https://jsfiddle.net/kisiodigital/x6207t6f/"
    target="_blank">
    Code it yourself on JSFiddle
</a></p>

<ul>
<li>  or <a href="#isochrones-api">isochrones</a> service which provides a multi-polygon stream in order to plate colors directly on a map,
or to filter geocoded objects inside the polygon. Here is a fiddle example:</li>
</ul>

<p><a
    href="https://jsfiddle.net/kisiodigital/u22zsg9y/"
    target="_blank">
    Code it yourself on JSFiddle
</a></p>

<p>You can use these APIs (click on them for details):</p>

<ul>
<li>  some <strong><a href="#places">Places</a></strong> requests: autocomplete on geographical data from an input text to find the isochrone starting point.</li>
<li>  <strong><a href="#journeys">Journeys</a></strong>: Compute all journeys from a departure point at a given time to every reachable point,
and returns a list of all reachable points, ordered by time to reach.</li>
<li>  <strong><a href="#isochrones-api">isochrones</a></strong>: Compute all journeys from a departure point at a given time to every reachable point,
and returns multiple geoJson ready to be displayed on map. This service is currently in beta.</li>
</ul>
<h1 id='interface'>Interface</h1>
<p>The base URL for <strong>navitia.io</strong> is:
<a href="https://api.navitia.io/v1/">https://api.navitia.io/v1/</a></p>

<p>We aim to implement <a href="http://en.wikipedia.org/wiki/HATEOAS">HATEOAS</a>
concept with Navitia.</p>

<p>Every resource returns a response containing a links object, a paging
object, and the requested objects, following hypermedia principles.
That&#39;s lots of links. Links allow you to know all accessible uris and services for a given point.</p>

<aside class="notice">
    Length (in characters) of the URL is limited to 4096 characters.
</aside>
<h2 id='templated-url'>Templated URL</h2>
<blockquote>
<p>From every object collection</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#first request</span>

<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="c">#first line is like:</span>

<span class="o">{</span>
    <span class="s2">"lines"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"id"</span>: <span class="s2">"line:RAT:M1"</span>,
            <span class="s2">"code"</span>: <span class="s2">"1"</span>,
            <span class="s2">"name"</span>: <span class="s2">"Château de Vincennes - La Défense"</span>,
            <span class="s2">"..."</span>: <span class="s2">"..."</span>
        <span class="o">}</span>,
        <span class="o">{</span>...<span class="o">}</span>
        <span class="o">]</span>,
    ...,

<span class="c">#and a templated link from the example above:</span>

    <span class="s2">"links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/lines/{lines.id}/stop_schedules"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"stop_schedules"</span>,
            <span class="s2">"templated"</span>: <span class="nb">true</span>
        <span class="o">}</span>,
        <span class="o">{</span>...<span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>

<span class="c">#you can then request for "stop_schedules" service using templating</span>
<span class="c">#be careful, without any filter, the response can be huge</span>

<span class="c">#second request</span>
<span class="c">#{line.id} has to be replaced by "line:RAT:M1"</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/stop_schedules'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#here is a smarter request for a line AND a stop_area</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/stop_areas/stop_area:RAT:SA:PLROY/stop_schedules'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre></div>
<p>Under some link sections, you will find a &quot;templated&quot; property.</p>

<p>If &quot;templated&quot; is true, then you will have to format the link with your right id as describe in the example.
In order to do that, you will have to</p>

<ul>
<li>take the id from the object you want to get the linked service</li>
<li>replace {lines.id} in the url as the example</li>
</ul>
<h2 id='inner-references'>Inner references</h2><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#You may find "disruptions" link, as</span>

<span class="o">{</span>
    <span class="s2">"internal"</span>: <span class="nb">true</span>,
    <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
    <span class="s2">"id"</span>: <span class="s2">"edc46f3a-ad3d-11e4-a5e1-005056a44da2"</span>,
    <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
    <span class="s2">"templated"</span>: <span class="nb">false</span>
<span class="o">}</span>
</code></pre></div>
<p>Some link sections holds disruption links. These links are templated.</p>

<p>That means:</p>

<ul>
<li>inside the self stream (<strong>&quot;internal&quot;: true</strong>)</li>
<li>you will find a <strong>disruptions</strong> section (<strong>&quot;rel&quot;: &quot;disruptions&quot;</strong>)</li>
<li>containing some <a href="#disruption">disruptions</a> objects (<strong>&quot;type&quot;: &quot;disruption&quot;</strong>)</li>
<li>where you can find the details of your object (<strong>&quot;id&quot;: &quot;edc46f3a-ad3d-11e4-a5e1-005056a44da2&quot;</strong>).</li>
</ul>
<h2 id='paging'>Paging</h2><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Retrieving lines collection</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#You can find "paging" informations, as</span>
<span class="o">{</span>
    <span class="s2">"pagination"</span>: <span class="o">{</span>
        <span class="s2">"items_on_page"</span>: 25
        <span class="s2">"items_per_page"</span>: 25,
        <span class="s2">"start_page"</span>: 1,
        <span class="s2">"total_result"</span>: 1921,
    <span class="o">}</span>,
<span class="o">}</span>

<span class="c">#You can also find "paging" links, prebuilt in the link section</span>
<span class="o">{</span>
       <span class="o">{</span>
            <span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/demo/lines?start_page=0"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="s2">"type"</span>: <span class="s2">"previous"</span>,
        <span class="o">}</span>,
       <span class="o">{</span>
            <span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/demo/lines?start_page=2"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="s2">"type"</span>: <span class="s2">"next"</span>,
        <span class="o">}</span>,
       <span class="o">{</span>
            <span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/demo/lines?start_page=76"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="s2">"type"</span>: <span class="s2">"last"</span>,
        <span class="o">}</span>,
       <span class="o">{</span>
            <span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/demo/lines"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="s2">"type"</span>: <span class="s2">"first"</span>,
        <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<aside class="success">
    The results are paginated to avoid too big response size. The parameters to get the next or previous page are within the `links` section of the result.
</aside>

<p>Every Navitia response contains a paging object</p>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>items_per_page</td>
<td>int</td>
<td>Number of items per page</td>
</tr>
<tr>
<td>items_on_page</td>
<td>int</td>
<td>Number of items on this page</td>
</tr>
<tr>
<td>start_page</td>
<td>int</td>
<td>The page number</td>
</tr>
<tr>
<td>total_result</td>
<td>int</td>
<td>Total number of items for this request</td>
</tr>
</tbody></table>

<p>You can navigate through a response using 2 parameters</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start_page</td>
<td>int</td>
<td>The page number</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>Number of items per page</td>
</tr>
</tbody></table>

<aside class="notice">
    The number of objects returned for a request can <b>not be superior than 200</b>.
    If you request for more, Navitia will return the first 200, and you will have to paginate to get next 200.
</aside>
<h2 id='objects-order'>Objects order</h2>
<p>Unless specified, objects lists are not sorted and stability of objects&#39; order is not guaranteed.<br>This is also true for the ordering of the attributes of objects.</p>

<p>Examples of sorted objects tables:</p>

<ul>
<li>journeys in a <code>/journeys</code> response</li>
<li><code>/departures</code> and <code>/arrivals</code></li>
<li><code>/stop_schedules</code></li>
<li><code>/terminus_schedules</code></li>
<li>stop_points in <code>/routes/{route_id}?depth=3</code></li>
<li><code>/places_nearby</code></li>
<li><code>/places</code></li>
</ul>

<p>Examples of unsorted responses:</p>

<ul>
<li>stop_points in <code>/lines/{line_id}/stop_points</code></li>
<li>pretty much everything else...</li>
</ul>
<h2 id='objects-attributes'>Objects attributes</h2>
<p>Like almost any API, objects are subject to adaptations.<br>Please be warned that we allow Navitia to add new attributes to objects, and it will never be considered a breaking change.</p>

<p>We also allow Navitia to add values to enum, so be prepared to that. For example <a href="#section">section&#39;s</a> type of journeys are regularly evolving.</p>
<h2 id='lifetime-of-id'>Lifetime of id</h2>
<p>The way id (or uri) of an object is generated is not garanteed stable, nor are the data processed.
So we advise to limit to the minimum storing ids/uris of objects.
We recommend to use as much as possible a previous call to <strong><a href="#places">Places</a></strong> and <strong><a href="#pt-objects">PT_objects</a></strong>.
Also, be resilient if one of those ids/uris disappears.</p>
<h1 id='api-catalog'>API catalog</h1>
<h2 id="coverage">Coverage</h2>

<p>Also known as <code>/coverage</code> service.</p>

<p>You can easily navigate through regions covered by navitia.io, with the
coverage api. The shape of the region is provided in GeoJSON.</p>

<p>In Navitia, a coverage is a combination of multiple <a href="#datasets">datasets</a>
provided by different <a href="#contributors">contributors</a>
(typically data provided by a transport authority in GTFS format).
The combination of datasets used by a coverage is arbitrarily determined
but we try to use something that makes sense and has a reasonnable amount of data (country).</p>

<p>The only arguments are the ones of <a href="#paging">paging</a>.</p>

<aside class="notice">
    Most of the time you can avoid providing a region and let Navitia guess the right one for you.
    This can be done by providing coordinates in place of the region name:
    `/coverage/{lon;lat}/endpoint?parameter=value`
</aside>
<h3 id='accesses'>Accesses</h3>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>/coverage</code></td>
<td>List of the areas covered by navitia</td>
</tr>
<tr>
<td><code>/coverage/{region_id}</code></td>
<td>Information about a specific region</td>
</tr>
<tr>
<td><code>/coverage/{lon;lat}</code></td>
<td>Information about a specific region, navitia guesses the region from coordinates</td>
</tr>
</tbody></table>
<h3 id='fields'>Fields</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the coverage</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the coverage</td>
</tr>
<tr>
<td>shape</td>
<td>string</td>
<td>GeoJSON of the shape of the coverage</td>
</tr>
<tr>
<td>dataset_created_at</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Creation date of the dataset</td>
</tr>
<tr>
<td>start_production_date</td>
<td><a href="#iso-date">iso-date</a></td>
<td>Beginning of the production period. We only have data on this production period</td>
</tr>
<tr>
<td>end_production_date</td>
<td><a href="#iso-date">iso-date</a></td>
<td>End of the production period. We only have data on this production period</td>
</tr>
</tbody></table>
<h3 id='production-period'>Production period</h3>
<p>The production period is the validity period of the coverage&#39;s data.</p>

<p>There is no data outside this production period.</p>

<p>This production period cannot exceed one year.</p>

<aside class="notice">
Navitia need transportation data to work and those are very date dependant. To check that a coverage has some data for a given date, you need to check the production period of the coverage.
</aside>

<h2 id="datasets">Datasets</h2>

<p>Very simple endpoint providing the sets of data that are used in the given coverage.</p>

<p>Those datasets (typically from transport authority in GTFS format), each provided by a
unique <a href="#contributors">contributor</a> are forming a <a href="#coverage">coverage</a>.</p>

<p>Contributor providing the dataset is also provided in the response.
Very useful to know all the data that form a coverage.</p>

<p>The only arguments are the ones of <a href="#paging">paging</a>.</p>
<h3 id='accesses-2'>Accesses</h3>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>coverage/{region_id}/datasets</code></td>
<td>List of the datasets of a specific region</td>
</tr>
<tr>
<td><code>coverage/{region_id}/datasets/{dataset_id}</code></td>
<td>Information about a specific dataset</td>
</tr>
</tbody></table>

<h2 id="contributors">Contributors</h2>

<p>Very simple endpoint providing the contributors of data for the given coverage.</p>

<p>A contributor is a data provider (typically a transport authority), and can provide multiple <a href="#datasets">datasets</a>.
For example, the contributor Italian Railways will provide a dataset for the national train and some others for the regional trains.
We will try to put them in the same <a href="#coverage">coverage</a> so that we assemble them in the same journey search, using both.</p>

<p>Very usefull to know which contributors are used in the datasets forming a coverage.</p>

<p>The only arguments are the ones of <a href="#paging">paging</a>.</p>
<h3 id='accesses-3'>Accesses</h3>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>coverage/{region_id}/contributors</code></td>
<td>List of the contributors of a specific region</td>
</tr>
<tr>
<td><code>coverage/{region_id}/contributors/{dataset_id}</code></td>
<td>Information about a specific contributor</td>
</tr>
</tbody></table>

<h2 id="coord">Inverted geocoding</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coords/2.37705;48.84675'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response where you can find the right Navitia coverage, and a useful label</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"regions"</span>: <span class="o">[</span>
        <span class="s2">"sandbox"</span>
    <span class="o">]</span>,
    <span class="s2">"address"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: <span class="s2">"2.37705;48.84675"</span>,
        <span class="s2">"label"</span>: <span class="s2">"20 Rue Hector Malot (Paris)"</span>,
        <span class="s2">"..."</span>: <span class="s2">"..."</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>in this example, the coverage id is &quot;regions&quot;: [&quot;sandbox&quot;]
so you can ask Navitia on accessible local mobility services:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"regions"</span>: <span class="o">[{</span>
        <span class="s2">"status"</span>: <span class="s2">"running"</span>,
        <span class="s2">"start_production_date"</span>: <span class="s2">"20160101"</span>,<span class="s2">"end_production_date"</span>: <span class="s2">"20160831"</span>,
        <span class="s2">"id"</span>: <span class="s2">"sandbox"</span>
    <span class="o">}]</span>,
    <span class="s2">"links"</span>: <span class="o">[</span>
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/coords"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/places"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/networks"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/physical_modes"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/companies"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/commercial_modes"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/lines"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/routes"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/stop_areas"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/stop_points"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/line_groups"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/connections"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/vehicle_journeys"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/poi_types"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/pois"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/disruptions"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/datasets"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/line_groups"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/trips"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/"</span><span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p>Also known as <code>/coords</code> service.</p>

<p>Very simple service: you give Navitia some coordinates, it answers you</p>

<ul>
<li>  your detailed postal address</li>
<li>  the right Navitia &quot;coverage&quot; which allows you to access to all known
local mobility services</li>
</ul>
<h3 id='accesses-4'>Accesses</h3>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>places/{lon;lat}</code></td>
<td>Detailed address point</td>
</tr>
<tr>
<td><code>/places/{id}</code></td>
<td>Information about places</td>
</tr>
<tr>
<td><code>coverage/{lon;lat}/places/{lon;lat}</code></td>
<td>Detailed address point, navitia guesses the region from coordinates</td>
</tr>
<tr>
<td><code>coverage/{lon;lat}/places/{id}</code></td>
<td>Information about places, navitia guesses the region from coordinates</td>
</tr>
<tr>
<td><code>coverage/{region_id}/places/{lon;lat}</code></td>
<td>Detailed address point</td>
</tr>
<tr>
<td><code>coverage/{region_id}/places/{id}</code></td>
<td>Information about places</td>
</tr>
</tbody></table>

<p>You can also combine <code>/coords</code> with other filter as:</p>

<ul>
<li>  get <a href="#poi">POIs</a> near a coordinate

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/pois?distance=1000">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/pois?distance=1000</a></li>
</ul></li>
<li>  get specific POIs near a coordinate

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/poi_types/poi_type:amenity:bicycle_rental/coords/2.377310;48.847002/pois?distance=1000">https://api.navitia.io/v1/coverage/fr-idf/poi_types/poi_type:amenity:bicycle_rental/coords/2.377310;48.847002/pois?distance=1000</a></li>
</ul></li>
</ul>

<h2 id="pt-ref">Public Transportation Objects exploration</h2>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fpt_objects%3Fq%3Dmetro%25201">Try it on Navitia playground</a></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/pt_objects?q=metro%201'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"pt_objects"</span>:[
        <span class="o">{</span>
            <span class="s2">"id"</span>:<span class="s2">"line:RAT:M1"</span>,
            <span class="s2">"name"</span>:<span class="s2">"RATP Metro 1 (Château de Vincennes - La Défense)"</span>,
            <span class="s2">"embedded_type"</span>:<span class="s2">"line"</span>,
            <span class="s2">"line"</span>:<span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"line:RAT:M1"</span>,
                <span class="s2">"name"</span>:<span class="s2">"Château de Vincennes - La Défense"</span>,
                <span class="s2">"code"</span>:<span class="s2">"1"</span>,
                <span class="s2">"..."</span>: <span class="s2">"..."</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"id"</span>:<span class="s2">"line:RAT:M11"</span>,
            <span class="s2">"name"</span>:<span class="s2">"RATP Metro 11 (Mairie des Lilas - Châtelet)"</span>
            <span class="s2">"embedded_type"</span>:<span class="s2">"line"</span>,
            <span class="s2">"line"</span>:<span class="o">{</span>
                <span class="s2">"..."</span>: <span class="s2">"..."</span>
            <span class="o">}</span>,
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"id"</span>:<span class="s2">"line:RAT:M12"</span>,
            <span class="s2">"name"</span>:<span class="s2">"RATP Metro 12 (Mairie d'Issy - Front Populaire)"</span>,
            <span class="s2">"embedded_type"</span>:<span class="s2">"line"</span>,
            <span class="s2">"line"</span>:<span class="o">{</span>
                <span class="s2">"..."</span>: <span class="s2">"..."</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="o">{</span><span class="s2">"..."</span>: <span class="s2">"..."</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"..."</span>: <span class="s2">"..."</span><span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p>Also known as <code>/networks</code>, <code>/lines</code>, <code>/stop_areas</code>... services.</p>

<p>Once you have selected a region, you can explore the public
transportation objects easily with these APIs. You just need to add at
the end of your URL a collection name to see every objects within a
particular collection. To see an object detail, add the id of this object at the
end of the collection&#39;s URL. The <a href="#paging">paging</a> arguments may be used to
paginate results.</p>
<h3 id='accesses-5'>Accesses</h3>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>/coverage/{region_id}/{collection_name}</code></td>
<td>Collection of objects of a region</td>
</tr>
<tr>
<td><code>/coverage/{region_id}/{collection_name}/{object_id}</code></td>
<td>Information about a specific object</td>
</tr>
<tr>
<td><code>/coverage/{lon;lat}/{collection_name}</code></td>
<td>Collection of objects of a region, navitia guesses the region from coordinates</td>
</tr>
<tr>
<td><code>/coverage/{lon;lat}/{collection_name}/{object_id}</code></td>
<td>Information about a specific object, navitia guesses the region from coordinates</td>
</tr>
</tbody></table>
<h3 id='collections'>Collections</h3>
<ul>
<li>  <a href="#network">networks</a></li>
<li>  <a href="#line">lines</a></li>
<li>  <a href="#route">routes</a></li>
<li>  <a href="#stop-point">stop_points</a></li>
<li>  <a href="#stop-area">stop_areas</a></li>
<li>  <a href="#commercial-mode">commercial_modes</a></li>
<li>  <a href="#physical-mode">physical_modes</a></li>
<li>  <a href="#company">companies</a></li>
<li>  <a href="#vehicle-journey">vehicle_journeys</a></li>
<li>  <a href="#disruption">disruptions</a></li>
</ul>
<h3 id='shared-parameters'>Shared parameters</h3><h4 id='depth'><a name="depth"></a>depth</h4>
<p>You are looking for something, but Navitia doesn&#39;t output it in your favorite endpoint?<br>You want to request more from navitia feed?<br>You are receiving feeds that are too important and too slow with low bandwidth?<br>You would like Navitia to serve GraphQL but it is still not planned?</p>

<p>Feeds from endpoint might miss informations, but this tiny <code>depth=</code> parameter can
expand Navitia power by making it more wordy. Or lighter if you want it.</p>

<p>Here is some examples around &quot;metro line 1&quot; from the Parisian network:</p>

<ul>
<li>Get &quot;line 1&quot; id

<ul>
<li><a href="https://api.navitia.io/v1/coverage/sandbox/pt_objects?q=metro%201">https://api.navitia.io/v1/coverage/sandbox/pt_objects?q=metro%201</a>
The id is &quot;line:RAT:M1&quot;</li>
</ul></li>
<li>Get routes for this line

<ul>
<li><a href="https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes">https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes</a>
Default depth is <code>depth=1</code></li>
</ul></li>
<li>Want to get a tiny response? Just add <code>depth=0</code>

<ul>
<li><a href="https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes?depth=0">https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes?depth=0</a>
The response is lighter (parent lines disappear for example)</li>
</ul></li>
<li>Want more informations, just add <code>depth=2</code>

<ul>
<li><a href="https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes?depth=2">https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes?depth=2</a>
The response is a little more verbose (some geojson can appear in response when using your open data token)</li>
</ul></li>
<li>Wanna fat more informations, let&#39;s try <code>depth=3</code>

<ul>
<li><a href="https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes?depth=3">https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes?depth=3</a>
Big response: all stop_points are shown</li>
</ul></li>
<li>Wanna spam the internet bandwidth? Try <code>depth=42</code>

<ul>
<li>No. There is a technical limit with <code>depth=3</code></li>
</ul></li>
</ul>
<h4 id='odt-level'>odt level</h4>
<ul>
<li>  Type: String</li>
<li>  Default value: all</li>
<li>  Warning: works ONLY with <em>/<a href="#line">lines</a></em> collection...</li>
</ul>

<p>It allows you to request navitia for specific pickup lines. It refers to
the <a href="#odt">odt</a> section. &quot;odt_level&quot; can take one of these values:</p>

<ul>
<li>  all (default value): no filter, provide all public transport lines,
whatever its type</li>
<li>  scheduled: provide only regular lines (see the <a href="#odt">odt</a> section)</li>
<li>  with_stops: to get regular, &quot;odt_with_stop_time&quot; and &quot;odt_with_stop_point&quot; lines.

<ul>
<li>  You can easily request route_schedule and stop_schedule with these kind of lines.</li>
<li>  Be aware of &quot;estimated&quot; stop times</li>
</ul></li>
<li>  zonal: to get &quot;odt_with_zone&quot; lines with non-detailed journeys</li>
</ul>

<p>For example</p>

<p><a href="https://api.navitia.io/v1/coverage/fr-nw/networks/network:lila/lines">https://api.navitia.io/v1/coverage/fr-nw/networks/network:lila/lines</a></p>

<p><a href="https://api.navitia.io/v1/coverage/fr-nw/networks/network:irigo/lines?odt_level=scheduled">https://api.navitia.io/v1/coverage/fr-nw/networks/network:irigo/lines?odt_level=scheduled</a></p>
<h4 id='distance'>distance</h4>
<ul>
<li>  Type: Integer</li>
<li>  Default value: 200</li>
</ul>

<p>If you specify coords in your filter, you can modify the radius used for
the proximity search.</p>

<p><a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/stop_schedules?distance=500">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/stop_schedules?distance=500</a></p>
<h4 id='headsign'>headsign</h4>
<ul>
<li>  Type: String</li>
</ul>

<p>If given, add a filter on the vehicle journeys that has the given value
as headsign (on vehicle journey itself or at a stop time).</p>

<p>Examples:</p>

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/vehicle_journeys?headsign=PADO">https://api.navitia.io/v1/coverage/fr-idf/vehicle_journeys?headsign=PADO</a></li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/stop_areas?headsign=PADO">https://api.navitia.io/v1/coverage/fr-idf/stop_areas?headsign=PADO</a></li>
</ul>

<aside class="warning">
    This last request gives the stop areas used by the vehicle
    journeys containing the headsign PADO, <b>not</b> the stop areas where it
    exists a stop time with the headsign PADO.
</aside>
<h4 id='since-until'>since / until</h4>
<ul>
<li>  Type: <a href="#iso-date-time">iso-date-time</a></li>
</ul>

<p>To be used only on &quot;vehicle_journeys&quot; and &quot;disruptions&quot; collection, to filter on a
period. Both parameters &quot;until&quot; and &quot;since&quot; are optional.</p>

<p>For vehicle_journeys, &quot;since&quot; and &quot;until&quot; are associated with the data_freshness parameter (defaults to base_schedule): see the <a href="#realtime">realtime</a> section.</p>

<p>Example:</p>

<ul>
<li>  Getting every active (only base_schedule) New Jersey vehicles between 12h00 and 12h01, on a specific date <a href="https://api.navitia.io/v1/coverage/us-ny/networks/network:newjersey/vehicle_journeys?since=20170407T120000&until=20170407T120100">https://api.navitia.io/v1/coverage/us-ny/networks/network:newjersey/vehicle_journeys?since=20170407T120000&amp;until=20170407T120100</a></li>
<li>  Getting every active (according to realtime information) New Jersey vehicles between 12h00 and 12h01, on a specific date <a href="https://api.navitia.io/v1/coverage/us-ny/networks/network:newjersey/vehicle_journeys?since=20170407T120000&until=20170407T120100&data_freshness=realtime">https://api.navitia.io/v1/coverage/us-ny/networks/network:newjersey/vehicle_journeys?since=20170407T120000&amp;until=20170407T120100&amp;data_freshness=realtime</a></li>
<li>  Getting every active disruption on &quot;Bretagne&quot; for a specific date <a href="https://api.navitia.io/v1/coverage/fr-bre/disruptions?since=20170206000000&until=20170206235959">https://api.navitia.io/v1/coverage/fr-bre/disruptions?since=20170206000000&amp;until=20170206235959</a></li>
</ul>

<aside class="warning">
    On vehicle_journey this filter is applied using only the first stop time.
    On disruption this filter must intersect with one application period.
    "since" and "until" are included.
</aside>
<h4 id='disable_geojson'>disable_geojson</h4>
<p>By default geojson part of an object are returned in navitia&#39;s responses, this parameter allows you to
remove them, it&#39;s useful when searching lines that you don&#39;t want to display on a map.</p>

<aside class="notice">
    Geojson objects can be very large, 1MB is not unheard of, and they don't compress very well.
    So this parameter is mostly here for reducing your downloading times and helping your json parser.
    It's almost mandatory on mobile devices since most cellular networks are still relatively slow.
</aside>

<p>Examples:</p>

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/lines?disable_geojson=true">https://api.navitia.io/v1/coverage/fr-idf/lines?disable_geojson=true</a></li>
</ul>
<h4 id='disable_disruption'>disable_disruption</h4>
<p>By default disruptions are also present in navitia&#39;s responses on apis &quot;PtRef&quot;, &quot;pt_objects&quot; and &quot;places_nearby&quot;.
This parameter allows you to remove them, reducing the response size.</p>

<aside class="notice">
    Disruptions can be large and not necessary while searching objects.
    This parameter is mostly here to be able to search objects without disruptions in the response.
</aside>

<p>Examples:</p>

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/lines?disable_disruption=true">https://api.navitia.io/v1/coverage/fr-idf/lines?disable_disruption=true</a></li>
</ul>
<h3 id='filter'><a name="filter"></a>Filter</h3>
<p>It is possible to apply a filter to the returned collection, using
&quot;filter&quot; parameter. If no object matches the filter, a &quot;bad_filter&quot;
error is sent. If filter can not be parsed, an &quot;unable_to_parse&quot; error
is sent.</p>
<h4 id='collection-has_code'>{collection}.has_code</h4>
<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%3Ffilter%3Dstop_area.has_code(source%252CSA%253ACAMPO)%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground</a></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#for any pt_object request, as this one:</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#you can find codes on every pt_object, like:</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"stop_areas"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"codes"</span> :[
                <span class="o">{</span>
                    <span class="s2">"type"</span>: <span class="s2">"external_code"</span>,
                    <span class="s2">"value"</span>: <span class="s2">"RATCAMPO"</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                    <span class="s2">"type"</span> : <span class="s2">"source"</span>,
                    <span class="s2">"value"</span> : <span class="s2">"CAMPO"</span>
                <span class="o">}</span>
            <span class="o">]</span>
            <span class="s2">"..."</span>: <span class="s2">"..."</span>,
        <span class="o">}</span>,
        <span class="o">{</span>...<span class="o">}</span>
<span class="o">]</span>

<span class="c">#you can request for objects with a specific code</span>
<span class="c">#for example, you can get this stoparea, having a "source" code "CAMPO"</span>
<span class="c">#by using parameter "filter=stop_area.has_code(source,CAMPO)" like:</span>

<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas?filter=stop_area.has_code(source,CAMPO)'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre></div>
<p>Every object managed by Navitia comes with its own list of ids.
You will find some source ids, merge ids, etc. in &quot;codes&quot; list in json responses.
Be careful, these codes may not be unique. The navitia id is the only unique id.</p>

<p>You may have to request an object by one of these ids, in order to call an external service for example.</p>

<p>The filter format is <code>filter={collection_name}.has_code({code_type},{code_value})</code></p>

<p>Examples:</p>

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-sw/stop_points?filter=stop_point.has_code(source,5852)">https://api.navitia.io/v1/coverage/fr-sw/stop_points?filter=stop_point.has_code(source,5852)</a></li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-sw/stop_areas?filter=stop_area.has_code(gtfs_stop_code,1303)">https://api.navitia.io/v1/coverage/fr-sw/stop_areas?filter=stop_area.has_code(gtfs_stop_code,1303)</a></li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-sw/lines?filter=line.has_code(source,11821949021891619)">https://api.navitia.io/v1/coverage/fr-sw/lines?filter=line.has_code(source,11821949021891619)</a></li>
</ul>

<aside class="warning">
    these ids (which are not Navitia ids) may not be unique. you will have to manage a tuple in response.
</aside>
<h4 id='line-code'>line.code</h4>
<p>It allows you to request navitia objects referencing a line whose code
is the one provided, especially lines themselves and routes.</p>

<p>Examples:</p>

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/lines?filter=line.code=4">https://api.navitia.io/v1/coverage/fr-idf/lines?filter=line.code=4</a></li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/routes?filter=line.code=%22m%C3%A9tro%20347%22">https://api.navitia.io/v1/coverage/fr-idf/routes?filter=line.code=&quot;métro 347&quot;</a></li>
</ul>
<h3 id='few-exploration-examples'>Few exploration examples</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/physical_modes'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"links"</span>: <span class="o">[</span>
        <span class="s2">"..."</span>
    <span class="o">]</span>,
    <span class="s2">"pagination"</span>: <span class="o">{</span>
        <span class="s2">"..."</span>
    <span class="o">}</span>,
    <span class="s2">"physical_modes"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"id"</span>: <span class="s2">"physical_mode:Bus"</span>,
            <span class="s2">"name"</span>: <span class="s2">"Bus"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"id"</span>: <span class="s2">"physical_mode:Metro"</span>,
            <span class="s2">"name"</span>: <span class="s2">"Métro"</span>
        <span class="o">}</span>,
        <span class="s2">"..."</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p>Other examples</p>

<ul>
<li>  Network list

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/networks">https://api.navitia.io/v1/coverage/fr-idf/networks</a></li>
</ul></li>
<li>  Physical mode list

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/physical_modes">https://api.navitia.io/v1/coverage/fr-idf/physical_modes</a></li>
</ul></li>
<li>  Line list

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/lines">https://api.navitia.io/v1/coverage/fr-idf/lines</a></li>
</ul></li>
<li>  Line list for one mode

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/physical_modes/physical_mode:Metro/lines">https://api.navitia.io/v1/coverage/fr-idf/physical_modes/physical_mode:Metro/lines</a></li>
</ul></li>
</ul>

<p>You will find lots of more advanced example in <a href="#a-quick-exploration">a quick exploration</a>
chapter</p>

<h2 id="pt-objects">Autocomplete on Public Transport objects</h2>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fpt_objects%3Fq%3Dmetro%25204%26type%5B%5D%3Dline%26type%5B%5D%3Droute">Try it on Navitia playground</a></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Search objects of type 'line' or 'route' containing 'metro 4'</span>

<span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/pt_objects?q=metro%204&amp;type\[\]=line&amp;type\[\]=route'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"pt_objects"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"embedded_type"</span>: <span class="s2">"line"</span>,
            <span class="s2">"line"</span>: <span class="o">{</span>...<span class="o">}</span>,
            <span class="s2">"id"</span>: <span class="s2">"line:RAT:M4"</span>,
            <span class="s2">"name"</span>: <span class="s2">"RATP Metro 4 (Porte de Clignancourt - Mairie de Montrouge)"</span>
        <span class="o">}</span>,
    <span class="o">]</span>,
    <span class="s2">"links"</span> : <span class="o">[</span>...],
<span class="o">}</span>
</code></pre></div>
<p>Also known as <code>/pt_objects</code> service.</p>

<p>This endpoint allows you to search in public transport objects using their names. It&#39;s a kind
of magical <a href="https://en.wikipedia.org/wiki/Autocomplete">autocomplete</a> on public transport data.
It returns a collection of <a href="#pt-object">pt_object</a>.</p>
<h3 id='how-does-it-works'>How does it works</h3>
<p>Different kinds of objects can be returned (sorted as):</p>

<ul>
<li>  network</li>
<li>  commercial_mode</li>
<li>  line</li>
<li>  route</li>
<li>  stop_area</li>
<li>  stop_point</li>
</ul>

<p>Here is a typical use case. A traveler has to find a line between the
1500 lines around Paris.</p>
<h4 id='examples'>Examples</h4>
<p>User could type one of the following without any filters:</p>
<h5 id='traveler-input-quot-bob-quot'>Traveler input &quot;bob&quot;:</h5>
<ul>
<li> network : &quot;bobby network&quot;</li>
<li> line : &quot;bobby bus 1&quot;</li>
<li> line : &quot;bobby bus 2&quot;</li>
<li> route : &quot;bobby bus 1 to green&quot;</li>
<li> route : &quot;bobby bus 1 to rose&quot;</li>
<li> route : &quot;bobby bus 2 to yellow&quot;</li>
<li> stop_area : &quot;...</li>
</ul>
<h5 id='traveler-input-quot-bobby-met-quot'>Traveler input &quot;bobby met&quot;:</h5>
<ul>
<li> line : &quot;bobby metro 1&quot;</li>
<li> line : &quot;bobby metro 11&quot;</li>
<li> line : &quot;bobby metro 2&quot;</li>
<li> line : &quot;bobby metro 3&quot;</li>
<li> route : &quot;bobby metro 1 to Martin&quot;</li>
<li> route : &quot;bobby metro 1 to Mahatma&quot;</li>
<li> route : &quot;bobby metro 11 to Marcus&quot;</li>
<li> route : &quot;bobby metro 11 to Steven&quot;</li>
<li> route : &quot;...</li>
</ul>
<h5 id='traveler-input-quot-bobby-met-11-quot-or-quot-bobby-metro-11-quot'>Traveler input: &quot;bobby met 11&quot; or &quot;bobby metro 11&quot;:</h5>
<ul>
<li> line : &quot;bobby metro 11&quot;</li>
<li> route : &quot;bobby metro 11 to Marcus&quot;</li>
<li> route : &quot;bobby metro 11 to Steven&quot;</li>
</ul>
<h3 id='access'>Access</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Search objects of type 'network' containing 'RAT'</span>
curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/pt_objects?q=RAT&amp;type\[\]=network'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"pt_objects"</span>:[
        <span class="o">{</span>
            <span class="s2">"id"</span>:<span class="s2">"network:RAT:1"</span>,
            <span class="s2">"name"</span>:<span class="s2">"RATP"</span>,
            <span class="s2">"embedded_type"</span>:<span class="s2">"network"</span>,
            <span class="s2">"network"</span>:<span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"network:RAT:1"</span>,
                <span class="s2">"name"</span>:<span class="s2">"RATP"</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>/coverage/{region_id}/{resource_path}/pt_objects</code></td>
<td>List of public transport objects</td>
</tr>
</tbody></table>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>yep</td>
<td>q</td>
<td>string</td>
<td>The search term</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>type[]</td>
<td>array of string</td>
<td>Type of objects you want to query It takes one the following values: [<code>network</code>, <code>commercial_mode</code>, <code>line</code>, <code>route</code>, <code>stop_area</code>, <code>stop_point</code>]</td>
<td>[<code>network</code>, <code>commercial_mode</code>, <code>line</code>, <code>route</code>, <code>stop_area</code>]</td>
</tr>
<tr>
<td>nop</td>
<td>disable_disruption</td>
<td>boolean</td>
<td>Remove disruptions from the response</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>nop</td>
<td>filter</td>
<td>string</td>
<td>Use to filter returned objects. for example: network.id=sncf</td>
<td></td>
</tr>
</tbody></table>

<aside class="warning">
There is no pagination for this api
</aside>

<h2 id="places">Autocomplete on geographical objects</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/places?q=rue'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"places"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"embedded_type"</span>: <span class="s2">"stop_area"</span>,
        <span class="s2">"stop_area"</span>: <span class="o">{</span>...<span class="o">}</span>,
        <span class="s2">"id"</span>: <span class="s2">"stop_area:RAT:SA:RDBAC"</span>,
        <span class="s2">"name"</span>: <span class="s2">"Rue du Bac (Paris)"</span>
        <span class="o">}</span>,
        ...
    <span class="o">]</span>,
    <span class="s2">"links"</span> : <span class="o">[</span>...],
<span class="o">}</span>
</code></pre></div>
<p>Also known as <code>/places</code> service.</p>

<p>This endpoint allows you to search in all geographical objects using their names, returning
a <a href="#place">place</a> collection.</p>

<p>It is very useful to make some <a href="https://en.wikipedia.org/wiki/Autocomplete">autocomplete</a> stuff ie
to understand the user input even if he has mittens.</p>

<p>Differents kind of objects can be returned (sorted as):</p>

<ul>
<li>  administrative_region</li>
<li>  stop_area</li>
<li>  poi</li>
<li>  address</li>
<li>  stop_point (appears only if specified, using <code>&amp;type[]=stop_point</code> filter)</li>
</ul>

<aside class="warning">
    There is no pagination for this api.
</aside>

<aside class="notice">
    The returned `quality` field is deprecated and only maintained for backward compatibility.
    Please consider only navitia's output order.
</aside>
<h3 id='access-2'>Access</h3>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>/coverage/{region_id}/places</code></td>
<td>List of geographical objects within a coverage</td>
</tr>
<tr>
<td><code>/places</code></td>
<td><em>Beta</em>: List of geographical objects within Earth</td>
</tr>
</tbody></table>

<aside class="warning">
    Until now, you have to specify the right coverage to get `/places`.<br>
    If you like to play, you can test the "beta" `/places`, without any coverage:
    it will soon be able to request entire Earth on addresses, POIs, stop areas... with geographical sort.
</aside>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>yep</td>
<td>q</td>
<td>string</td>
<td>The search term</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>type[]</td>
<td>array of string</td>
<td>Type of objects you want to query It takes one the following values: [<code>stop_area</code>, <code>address</code>, <code>administrative_region</code>, <code>poi</code>, <code>stop_point</code>]</td>
<td>[<code>stop_area</code>, <code>address</code>, <code>poi</code>, <code>administrative_region</code>]</td>
</tr>
<tr>
<td>nop</td>
<td><del>admin_uri[]</del></td>
<td></td>
<td>Deprecated. Filters on shape are now possible straight in user account</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>disable_geojson</td>
<td>boolean</td>
<td>remove geojson from the response</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>nop</td>
<td>from</td>
<td>string</td>
<td>Coordinates longitude;latitude used to prioritize the objects around this coordinate. Note this parameter will be taken into account only if the autocomplete&#39;s backend can handle it</td>
<td></td>
</tr>
</tbody></table>

<h2 id="places-nearby-api">Places nearby</h2>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%3ARAT%3ASA%3ACAMPO%2Fplaces_nearby">Try it on Navitia playground (click on &quot;MAP&quot; buttons to see places)</a></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas/stop_area:RAT:SA:CAMPO/places_nearby'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
<span class="s2">"places_nearby"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"embedded_type"</span>: <span class="s2">"stop_point"</span>,
        <span class="s2">"stop_point"</span>: <span class="o">{</span>...<span class="o">}</span>,
        <span class="s2">"distance"</span>: <span class="s2">"0"</span>,
        <span class="s2">"quality"</span>: 0,
        <span class="s2">"id"</span>: <span class="s2">"stop_point:RAT:SP:CAMPO2"</span>,
        <span class="s2">"name"</span>: <span class="s2">"Campo-Formio (Paris)"</span>
    <span class="o">}</span>,
    ....
<span class="o">}</span>
</code></pre></div>
<p>Also known as <code>/places_nearby</code> service.</p>

<p>This endpoint allows you to search for public transport objects that are near another object, or nearby
coordinates, returning a <a href="#place">places</a> collection.</p>
<h3 id='accesses-6'>Accesses</h3>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>/coverage/{lon;lat}/coords/{lon;lat}/places_nearby</code></td>
<td>List of objects near the resource, navitia guesses the region from coordinates</td>
</tr>
<tr>
<td><code>/coord/{lon;lat}/places_nearby</code></td>
<td>List of objects near the resource without any region id (same result as above)</td>
</tr>
<tr>
<td><code>/coverage/{region_id}/coords/{lon;lat}/places_nearby</code></td>
<td>List of objects near a coordinate</td>
</tr>
<tr>
<td><code>/coverage/{region_id}/{resource_path}/places_nearby</code></td>
<td>List of objects near the resource</td>
</tr>
</tbody></table>
<h3 id='parameters-3'>Parameters</h3>
<table><thead>
<tr>
<th>Required</th>
<th>name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>distance</td>
<td>int</td>
<td>Distance range in meters</td>
<td>500</td>
</tr>
<tr>
<td>nop</td>
<td>type[]</td>
<td>array of string</td>
<td>Type of objects you want to query</td>
<td>[<code>stop_area</code>, <code>stop_point</code>, <code>poi</code>]</td>
</tr>
<tr>
<td>nop</td>
<td>admin_uri[]</td>
<td>array of string</td>
<td>If filled, will filter the search within the given admin uris</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>filter</td>
<td>string</td>
<td>Use to filter returned objects. for example: places_type.id=theater</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>disable_geojson</td>
<td>boolean</td>
<td>Remove geojson from the response</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>disable_disruption</td>
<td>boolean</td>
<td>Remove disruptions from the response</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>count</td>
<td>int</td>
<td>Elements per page</td>
<td>10</td>
</tr>
<tr>
<td>nop</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>nop</td>
<td>start_page</td>
<td>int</td>
<td>The page number (cf the <a href="#paging">paging section</a>)</td>
<td>0</td>
</tr>
<tr>
<td>nop</td>
<td>add_poi_infos[]</td>
<td>enum</td>
<td>Activate the output of additional infomations about the poi. For example, parking availability (BSS, car parking etc.) in the pois of response. Pass <code>add_poi_infos[]=none&amp;</code> or <code>add_poi_infos[]=&amp;</code> (empty string) to deactivate all.</td>
<td>[<code>bss_stands</code>, <code>car_park</code>]</td>
</tr>
</tbody></table>

<p>Filters can be added:</p>

<ul>
<li>  request for the city of &quot;Paris&quot; on fr-idf

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/places?q=paris">https://api.navitia.io/v1/coverage/fr-idf/places?q=paris</a></li>
</ul></li>
<li>  then pois nearby this city

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/places/admin:7444/places_nearby">https://api.navitia.io/v1/coverage/fr-idf/places/admin:7444/places_nearby</a></li>
</ul></li>
<li>  and then, let&#39;s catch every parking around

<ul>
<li>  &quot;distance=10000&quot; Paris is not so big</li>
<li>  &quot;type[]=poi&quot; to take pois only</li>
<li>  &quot;filter=poi_type.id=poi_type:amenity:parking&quot; to get parking</li>
<li>  &quot;count=100&quot; for classic pagination (to get the 100 nearest ones)</li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/places/admin:7444/places_nearby?distance=10000&count=100&type%5B%5D=poi&filter=poi_type.id=poi_type:amenity:parking">https://api.navitia.io/v1/coverage/fr-idf/places/admin:7444/places_nearby?distance=10000&amp;count=100&amp;type[]=poi&amp;filter=poi_type.id=poi_type:amenity:parking</a></li>
</ul></li>
</ul>

<p>The results are sorted by distance.</p>

<h2 id="journeys">Journeys</h2>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fjourneys%3Ffrom%3D2.3749036%3B48.8467927%26to%3D2.2922926%3B48.8583736">Try it on Navitia playground</a></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/journeys?from=2.3749036;48.8467927&amp;to=2.2922926;48.8583736'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"tickets"</span>: <span class="o">[]</span>,
    <span class="s2">"links"</span>: <span class="o">[</span>...],
    <span class="s2">"journeys"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"fare"</span>: <span class="o">{</span>...<span class="o">}</span>,
        <span class="s2">"status"</span>: <span class="s2">""</span>,
        <span class="s2">"tags"</span>: <span class="o">[]</span>,
        <span class="s2">"type"</span>: <span class="s2">"comfort"</span>,
        <span class="s2">"nb_transfers"</span>: 0,
        <span class="s2">"duration"</span>: 2671,
        <span class="s2">"requested_date_time"</span>: <span class="s2">"20160613T133748"</span>,
        <span class="s2">"departure_date_time"</span>: <span class="s2">"20160613T133830"</span>,
        <span class="s2">"arrival_date_time"</span>: <span class="s2">"20160613T142301"</span>,
        <span class="s2">"calendars"</span>: <span class="o">[</span>...],
        <span class="s2">"co2_emission"</span>: <span class="o">{</span><span class="s2">"unit"</span>: <span class="s2">"gEC"</span>, <span class="s2">"value"</span>: 24.642<span class="o">}</span>,
        <span class="s2">"sections"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"from"</span>: <span class="o">{</span>... , <span class="s2">"name"</span>: <span class="s2">"Rue Abel"</span><span class="o">}</span>,
            <span class="s2">"to"</span>: <span class="o">{</span>... , <span class="s2">"name"</span>: <span class="s2">"Bercy (Paris)"</span><span class="o">}</span>,
            <span class="s2">"arrival_date_time"</span>: <span class="s2">"20160613T135400"</span>,
            <span class="s2">"departure_date_time"</span>: <span class="s2">"20160613T133830"</span>,
            <span class="s2">"duration"</span>: 930,
            <span class="s2">"type"</span>: <span class="s2">"street_network"</span>,
            <span class="s2">"mode"</span>: <span class="s2">"walking"</span>,
            <span class="s2">"geojson"</span>: <span class="o">{</span>...<span class="o">}</span>,
            <span class="s2">"path"</span>: <span class="o">[</span>...],
            <span class="s2">"links"</span>: <span class="o">[]</span>
        <span class="o">}</span>,<span class="o">{</span>
            <span class="s2">"from"</span>: <span class="o">{</span>... , <span class="s2">"name"</span>: <span class="s2">"Bercy (Paris)"</span><span class="o">}</span>,
            <span class="s2">"to"</span>: <span class="o">{</span>... , <span class="s2">"name"</span>: <span class="s2">"Bir-Hakeim Tour Eiffel (Paris)"</span><span class="o">}</span>,
            <span class="s2">"type"</span>: <span class="s2">"public_transport"</span>,
            <span class="s2">"display_informations"</span>: <span class="o">{</span>
                <span class="s2">"direction"</span>: <span class="s2">"Charles de Gaulle — Étoile (Paris)"</span>,
                <span class="s2">"code"</span>: <span class="s2">"6"</span>,
                <span class="s2">"color"</span>: <span class="s2">"79BB92"</span>,
                <span class="s2">"physical_mode"</span>: <span class="s2">"M?tro"</span>,
                <span class="s2">"headsign"</span>: <span class="s2">"Charles de Gaulle Etoile"</span>,
                <span class="s2">"commercial_mode"</span>: <span class="s2">"Metro"</span>,
                <span class="s2">"label"</span>: <span class="s2">"6"</span>,
                <span class="s2">"text_color"</span>: <span class="s2">"000000"</span>,
                <span class="s2">"network"</span>: <span class="s2">"RATP"</span><span class="o">}</span>,
            <span class="s2">"departure_date_time"</span>: <span class="s2">"20160613T135400"</span>,
            <span class="s2">"arrival_date_time"</span>: <span class="s2">"20160613T141500"</span>,
            <span class="s2">"base_arrival_date_time"</span>: <span class="s2">"20160613T141500"</span>,
            <span class="s2">"base_departure_date_time"</span>: <span class="s2">"20160613T135400"</span>,
            <span class="s2">"duration"</span>: 1260,
            <span class="s2">"additional_informations"</span>: <span class="o">[</span><span class="s2">"regular"</span><span class="o">]</span>,
            <span class="s2">"co2_emission"</span>: <span class="o">{</span><span class="s2">"unit"</span>: <span class="s2">"gEC"</span>, <span class="s2">"value"</span>: 24.642<span class="o">}</span>,
            <span class="s2">"geojson"</span>: <span class="o">{</span>...<span class="o">}</span>,
            <span class="s2">"stop_date_times"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"stop_point"</span>: <span class="o">{</span>... , <span class="s2">"label"</span>: <span class="s2">"Bercy (Paris)"</span><span class="o">}</span>,
                <span class="s2">"arrival_date_time"</span>: <span class="s2">"20160613T135400"</span>,
                <span class="s2">"departure_date_time"</span>: <span class="s2">"20160613T135400"</span>,
                <span class="s2">"base_arrival_date_time"</span>: <span class="s2">"20160613T135400"</span>,
                <span class="s2">"base_departure_date_time"</span>: <span class="s2">"20160613T135400"</span>
            <span class="o">}</span>,
            <span class="o">{</span>...<span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"from"</span>: <span class="o">{</span>... , <span class="s2">"name"</span>: <span class="s2">"Bir-Hakeim Tour Eiffel (Paris)"</span> <span class="o">}</span>,
            <span class="s2">"to"</span>: <span class="o">{</span>... , <span class="s2">"name"</span>: <span class="s2">"Allée des Refuzniks"</span><span class="o">}</span>,
            <span class="s2">"arrival_date_time"</span>: <span class="s2">"20160613T142301"</span>,
            <span class="s2">"departure_date_time"</span>: <span class="s2">"20160613T141500"</span>,
            <span class="s2">"duration"</span>: 481,
            <span class="s2">"type"</span>: <span class="s2">"street_network"</span>,
            <span class="s2">"mode"</span>: <span class="s2">"walking"</span>,
            <span class="s2">"geojson"</span>: <span class="o">{</span>...<span class="o">}</span>,
            <span class="s2">"path"</span>: <span class="o">[</span>...],
        <span class="o">}]</span>
    <span class="o">}</span>,
    <span class="o">{</span>...<span class="o">}</span>,
    <span class="o">{</span>...<span class="o">}]</span>,
    <span class="s2">"disruptions"</span>: <span class="o">[]</span>,
    <span class="s2">"notes"</span>: <span class="o">[]</span>,
    <span class="s2">"feed_publishers"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"url"</span>: <span class="s2">""</span>,
        <span class="s2">"id"</span>: <span class="s2">"sandbox"</span>,
        <span class="s2">"license"</span>: <span class="s2">""</span>,
        <span class="s2">"name"</span>: <span class="s2">""</span>
    <span class="o">}]</span>,
    <span class="s2">"exceptions"</span>: <span class="o">[]</span>
<span class="o">}</span>
</code></pre></div>
<p>Also known as <code>/journeys</code> service. This api computes journeys or isochrone tables.</p>

<p>There are two ways to access to this service: journeys from point to point, or isochrones from a single point to every point.</p>

<aside class="success">
    Neither the 'from' nor the 'to' parameter of the journey are required,
    but obviously one of them has to be provided.
    <br>
    If only one is defined an isochrone is computed with every possible
    journeys from or to the point.
</aside>
<h3 id='accesses-7'>Accesses</h3>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>/journeys</code></td>
<td>List of journeys from wherever land</td>
</tr>
<tr>
<td><code>/coverage/{region_id}/journeys</code></td>
<td>List of journeys on a specific coverage</td>
</tr>
<tr>
<td><code>/coverage/{a_path_to_resource}/journeys</code></td>
<td>Isochrone from a specific coverage</td>
</tr>
</tbody></table>

<aside class="notice">
    Navitia.io handle lot's of different data sets (regions). Some of them
    can overlap. For example opendata data sets can overlap with private
    data sets.
    <br>
    When using the journeys endpoint the data set used to compute the
    journey is chosen using the possible datasets of the origin and the
    destination.
    <br>
    For the moment it is not yet possible to compute journeys on different
    data sets, but it will one day be possible (with a cross-data-set
    system).
</aside>
<h4 id='requesting-a-single-journey'>Requesting a single journey</h4>
<p>The most used way to access to this service is to get the <code>/journeys</code> api endpoint.
Here is the structure of a standard journey request:</p>

<p><a href="https://api.navitia.io/v1/journeys?from=%7Bresource_id_1%7D&to=%7Bresource_id_2%7D&datetime=%7Bdate_time_to_leave%7D">https://api.navitia.io/v1/journeys?from={resource_id_1}&amp;to={resource_id_2}&amp;datetime={date_time_to_leave}</a> .</p>

<p><a href="#context">Context</a> object provides the <code>current_datetime</code>, useful to compute waiting time when requesting Navitia without a <code>datetime</code>.</p>

<aside class="success">
    By default journeys are computed considering a traveler that walks at the beginning and the end.
    <br>
    This can be modified using parameters "first_section_mode" and "last_section_mode" that are arrays.
    <br>
    Example allowing bike or walk at the beginning: <a href="https://api.navitia.io/v1/journeys?from=2.3865494;48.8499182&to=2.3643739;48.854&first_section_mode[]=walking&first_section_mode[]=bike">https://api.navitia.io/v1/journeys?from=2.3865494;48.8499182&to=2.3643739;48.854&first_section_mode[]=walking&first_section_mode[]=bike</a>
</aside>

<p><a
    href="https://jsfiddle.net/kisiodigital/0oj74vnz/"
    target="_blank">
    Code it yourself on JSFiddle
</a></p>

<p>In the <a href="#examples">examples</a>, positions are given by coordinates and no network is specified.
However when no coordinates are provided, you need to provide on what region you want to request as
<a href="https://api.navitia.io/v1/coverage/us-ca/journeys?from=-122.4752;37.80826&to=-122.402770;37.794682">https://api.navitia.io/v1/coverage/us-ca/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682</a></p>

<p>The list of regions covered by navitia is available through <a href="#coverage">coverage</a>.</p>

<aside class="notice">
    If you want to use a specific data set, use the journey api within the
    data set: https://api.navitia.io/v1/coverage/{your_dataset}/journeys
</aside>
<h4 id='requesting-an-isochrone'>Requesting an isochrone</h4>
<p>If you want to retreive every possible journey from a single point at a time, you can request as follow:</p>

<p><a href="https://api.navitia.io/v1/%7Ba_path_to_resource%7D/journeys">https://api.navitia.io/v1/{a_path_to_resource}/journeys</a></p>

<p>It will retrieve all the journeys from the resource (in order to make <em><a href="https://en.wikipedia.org/wiki/Isochrone_map">isochrone tables</a></em>).</p>

<p><a
    href="https://jsfiddle.net/kisiodigital/x6207t6f/"
    target="_blank">
    Code it yourself on JSFiddle
</a></p>

<p>The <a href="#isochrones">isochrones</a> service exposes another response structure, which is simpler, for the same data.</p>

<h3 id="journeys-disruptions">Disruptions</h3>

<p>By default, Navitia only computes journeys without their associated disruption(s), meaning that the journeys in the response will be based on the theoretical schedules. The disruption present in the response is for information only.
In order to get an &quot;undisrupted&quot; journey (consider all disruptions during journey planning), you just have to add a <code>&amp;data_freshness=realtime</code> parameter (or use the <code>bypass_disruptions</code> link from response).</p>

<p>In a journey&#39;s response, different disruptions may have different meanings.
Each journey has a <code>status</code> attribute that indicates the actual effect affecting pick-up and drop-off used by
the journey (no matter the effects of the disruptions attached to the journey).
A journey using a stop-time pick-up (or drop-off) that is deleted in realtime will have a <code>NO_SERVICE</code> status.
A journey using a stop-time pick-up (or drop-off) that is added in realtime will have a <code>MODIFIED_SERVICE</code> status.
A journey using a stop-time pick-up (or drop-off) that is early or late in realtime will have a <code>SIGNIFICANT_DELAYS</code> status.
All other journeys will have an empty status.
Disruptions are on the sections, the ones that impact the journey are in the sections&#39;s display_informations links  (<code>sections[].display_informations.links[]</code>).</p>

<p>You might also have other disruptions in the response. They don&#39;t directly impact the journey, but might affect them.
For example, some intermediate stops of a section can be disrupted, it doesn&#39;t prevent the journey from being realised but modifies it.
These disruptions won&#39;t be on the <code>display_informations</code> of the sections or used in the journey&#39;s status.</p>

<p>See how disruptions affect a journey in the <a href="#realtime">real time</a> section.</p>

<h3 id="journeys-parameters">Main parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>from</td>
<td>id</td>
<td>The id of the departure of your journey. If none are provided an isochrone is computed. Should be different than <code>to</code> or no journey will be computed.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>to</td>
<td>id</td>
<td>The id of the arrival of your journey. If none are provided an isochrone is computed. Should be different than <code>from</code> or no journey will be computed.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>datetime</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Date and time to go.<br>Note: the datetime must be in the <a href="#coverage">coverage&#39;s publication period</a></td>
<td>now</td>
</tr>
<tr>
<td>nop</td>
<td>datetime_represents</td>
<td>string</td>
<td>Can be <code>departure</code> or <code>arrival</code>.<br>If <code>departure</code>, the request will retrieve journeys starting after datetime.<br>If <code>arrival</code> it will retrieve journeys arriving before datetime.</td>
<td>departure</td>
</tr>
<tr>
<td>nop</td>
<td><a name="traveler-type"></a>traveler_type</td>
<td>enum</td>
<td>Define speeds and accessibility values for different kind of people.<br>Each profile also automatically determines appropriate first and last section modes to the covered area. Note: this means that you might get car, bike, etc fallback routes even if you set <code>forbidden_uris[]</code>! You can overload all parameters (especially speeds, distances, first and last modes) by setting all of them specifically.<br> We advise that you don&#39;t rely on the traveler_type&#39;s fallback modes (<code>first_section_mode[]</code> and <code>last_section_mode[]</code>) and set them yourself.<br>Enum values:<ul><li>standard</li><li>slow_walker</li><li>fast_walker</li><li>luggage</li><li>wheelchair</li></ul></td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>data_freshness</td>
<td>enum</td>
<td>Define the freshness of data to use to compute journeys <ul><li>realtime</li><li>base_schedule</li></ul> <em><strong>when using the following parameter</strong></em> &quot;&amp;data_freshness=base_schedule&quot; <br> you can get disrupted journeys in the response. You can then display the disruption message to the traveler and make a realtime request to get a new &quot;undisrupted&quot; solution (considering all disruptions during journey planning).</td>
<td>base_schedule</td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</br> Note: the forbidden_uris[] concern only the public transport objects. You can&#39;t for example forbid the use of the bike with them, you have to set the fallback modes for this (<code>first_section_mode[]</code> and <code>last_section_mode[]</code>)</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>allowed_id[]</td>
<td>id</td>
<td>If you want to use only a small subset of the public transport objects in your solution. The constraint intersects with <code>forbidden_uris[]</code>. For example, if you ask for <code>allowed_id[]=line:A&amp;forbidden_uris[]=physical_mode:Bus</code>, only vehicles of the line A that are not buses will be used.</td>
<td>everything</td>
</tr>
<tr>
<td>nop</td>
<td>first_section_mode[]</td>
<td>array of string</td>
<td>Force the first section mode if the first section is not a public transport one. It takes the following values: <code>walking</code>, <code>car</code>, <code>bike</code>, <code>bss</code>, <code>ridesharing</code>, <code>taxi</code>.<br>It&#39;s an array, you can give multiple modes.<br><br>See <a href="#ridesharing-stuff">Ridesharing</a> and <a href="#taxi-stuff">Taxi</a> sections for more details on these modes.<br><code>bss</code> stands for bike sharing system.<br>Note: choosing <code>bss</code> implicitly allows the <code>walking</code> mode since you might have to walk to the bss station.<br> Note 2: The parameter is inclusive, not exclusive, so if you want to forbid a mode, you need to add all the other modes.<br> Eg: If you never want to use a <code>car</code>, you need: <code>first_section_mode[]=walking&amp;first_section_mode[]=bss&amp;first_section_mode[]=bike&amp;last_section_mode[]=walking&amp;last_section_mode[]=bss&amp;last_section_mode[]=bike</code></td>
<td>walking</td>
</tr>
<tr>
<td>nop</td>
<td>last_section_mode[]</td>
<td>array of string</td>
<td>Same as first_section_mode but for the last section</td>
<td>walking</td>
</tr>
<tr>
<td>nop</td>
<td>language</td>
<td>enum</td>
<td>Language for path guidance in walking sections.<br>Enum values:<ul><li>de-DE</li><li>en-GB</li><li>en-US</li><li>es-ES</li><li>fr-FR</li></td>
<td></td>
</tr>
<tr>
<td><li>hi-IN</li><li>it-IT</li><li>ja-JP</li><li>nl-NL</li><li>pt-PT</li><li>ru-RU</li></ul></td>
<td>fr-FR</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
</tbody></table>
<h3 id='other-parameters'>Other parameters</h3>
<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>max_duration_to_pt</td>
<td>int</td>
<td>Maximum allowed duration to reach the public transport (same limit used before and after public transport).<br>Use this to limit the walking/biking part.<br>Unit is seconds</td>
<td>30*60 s</td>
</tr>
<tr>
<td>nop</td>
<td>walking_speed</td>
<td>float</td>
<td>Walking speed for the fallback sections<br>Speed unit must be in meter/seconds</td>
<td>1.12 m/s<br>(4 km/h)<br><em>Yes, man, they got the metric system</em></td>
</tr>
<tr>
<td>nop</td>
<td>bike_speed</td>
<td>float</td>
<td>Biking speed for the fallback<br>Speed unit must be in meter/seconds</td>
<td>4.1 m/s<br>(14.7 km/h)</td>
</tr>
<tr>
<td>nop</td>
<td>bss_speed</td>
<td>float</td>
<td>Speed while using a bike from a bike sharing system for the fallback sections<br>Speed unit must be in meter/seconds</td>
<td>4.1 m/s<br>(14.7 km/h)</td>
</tr>
<tr>
<td>nop</td>
<td>car_speed</td>
<td>float</td>
<td>Driving speed for the fallback sections<br>Speed unit must be in meter/seconds</td>
<td>16.8 m/s<br>(60 km/h)</td>
</tr>
<tr>
<td>nop</td>
<td>min_nb_journeys</td>
<td>non-negative int</td>
<td>Minimum number of different suggested journeys<br>More in multiple_journeys</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>max_nb_journeys</td>
<td>positive int</td>
<td>Maximum number of different suggested journeys<br>More in multiple_journeys</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>count</td>
<td>int</td>
<td>Fixed number of different journeys<br>More in multiple_journeys</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>max_nb_transfers</td>
<td>int</td>
<td>Maximum number of transfers in each journey</td>
<td>10</td>
</tr>
<tr>
<td>nop</td>
<td>min_nb_transfers</td>
<td>int</td>
<td>Minimum number of transfers in each journey</td>
<td>0</td>
</tr>
<tr>
<td>nop</td>
<td>max_duration</td>
<td>int</td>
<td>If <code>datetime</code> represents the departure of the journeys requested, then the last public transport section of all journeys will end before <code>datetime</code> + <code>max_duration</code>.<br>If <code>datetime</code> represents the arrival of the journeys requested, then the first public transport section of all journeys will start after <code>datetime</code> - <code>max_duration</code>.<br>More useful when computing an isochrone (only <code>from</code> or <code>to</code> is provided)<br>Unit is seconds</td>
<td>86400</td>
</tr>
<tr>
<td>nop</td>
<td>wheelchair</td>
<td>boolean</td>
<td>If true the traveler is considered to be using a wheelchair, thus only accessible public transport are used<br>be warned: many data are currently too faint to provide acceptable answers with this parameter on</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>direct_path</td>
<td>enum</td>
<td>Specify if Navitia should suggest direct paths (= only fallback modes are used).<br>Possible values: <ul><li><code>indifferent</code></li><li><code>none</code> for only journeys using some PT</li><li><code>only</code> for only journeys without PT</li><li><code>only_with_alternatives</code> for different journey alternatives without PT</li> </ul></td>
<td>indifferent</td>
</tr>
<tr>
<td>nop</td>
<td>direct_path_mode[]</td>
<td>array of strings</td>
<td>Force direct-path modes. If this list is not empty, we only compute direct_path for modes in this list and filter all the direct_paths of modes in first_section_mode[]. It can take the following values: <code>walking</code>, <code>car</code>, <code>bike</code>, <code>bss</code>, <code>ridesharing</code>, <code>taxi</code>. It&#39;s an array, you can give multiple modes. If this list is empty, we will compute direct_path for modes of the first_section_modes.</td>
<td>first_section_modes[]</td>
</tr>
<tr>
<td>nop</td>
<td>add_poi_infos[]</td>
<td>boolean</td>
<td>Activate the output of additional infomations about the poi. For example, parking availability(BSS, car parking etc.) in the pois of response. Possible values are <code>bss_stands</code>, <code>car_park</code></td>
<td>[]</td>
</tr>
<tr>
<td>nop</td>
<td>debug</td>
<td>boolean</td>
<td>Debug mode<br>No journeys are filtered in this mode</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>free_radius_from</td>
<td>int</td>
<td>Radius length (in meters) around the coordinates of departure in which the stop points are considered free to go (crowfly=0)</td>
<td>0</td>
</tr>
<tr>
<td>nop</td>
<td>free_radius_to</td>
<td>int</td>
<td>Radius length (in meters) around the coordinates of arrival in which the stop points are considered free to go (crowfly=0)</td>
<td>0</td>
</tr>
<tr>
<td>nop</td>
<td>timeframe_duration</td>
<td>int</td>
<td>Minimum timeframe to search journeys (in seconds, maximum allowed value = 86400). For example &#39;timeframe_duration=3600&#39; will search for all interesting journeys departing within the next hour.</td>
<td>0</td>
</tr>
</tbody></table>
<h3 id='precisions-on-forbidden_uris-and-allowed_id'>Precisions on <code>forbidden_uris[]</code> and <code>allowed_id[]</code></h3>
<p>These parameters are filtering the vehicle journeys and the stop points used to compute the journeys.
<code>allowed_id[]</code> is used to allow <em>only</em> certain route options by <em>excluding</em> all others.
<code>forbidden_uris[]</code> is used to <em>exclude</em> specific route options.</p>

<p>Examples:</p>

<ul>
<li>A user doesn&#39;t like line A metro in hers city. She adds the parameter <code>forbidden_uris[]=line:A</code> when calling the API.</li>
<li>A user would only like to use Buses and Tramways. She adds the parameter <code>allowed_id[]=physical_mode:Bus&amp;allowed_id[]=physical_mode:Tramway</code>.</li>
</ul>
<h4 id='technically'>Technically</h4>
<p>The journeys can only use allowed vehicle journeys (as present in the <code>public_transport</code> or <code>on_demand_transport</code> sections).
They also can only use the allowed stop points for getting in or out of a vehicle (as present in the <code>street_network</code>, <code>transfer</code> and <code>crow_fly</code> sections).</p>

<p>To filter vehicle journeys, the identifier of a line, route, commercial mode, physical mode or network can be used.</p>

<p>For filtering stop points, the identifier of a stop point or stop area can be used.</p>

<p>The principle is to create a blacklist using those 2 parameters:</p>

<ul>
<li><p><code>forbidden_uris[]</code> adds the corresponding vehicle journeys (or stop points) to the blacklist of vehicle journeys (resp. stop_points).</p></li>
<li><p><code>allowed_id[]</code> works in 2 parts:</p>

<ul>
<li>If an id related to a stop point is given, only the corresponding stop points are allowed (practically, all other are blacklisted). Else, all the stop points are allowed.</li>
<li>If an id related to a vehicle journey is given, only the corresponding vehicle journeys are allowed (practically, all other are blacklisted). Else, all the vehicle journeys are allowed.</li>
</ul></li>
</ul>

<p>The blacklisting constraints of <code>forbidden_uris[]</code> and <code>allowed_id[]</code> are combined. For example, if you give <code>allowed_id[]=network:SN&amp;forbidden_uris[]=line:A</code>, only the vehicle journeys of the network SN that are not from the line A can be used to compute the journeys.</p>

<p>Let&#39;s illustrate all of that with an example.</p>

<p><img src="images/forbidden_example-f3f6a212.png" alt="example" /></p>

<p>We want to go from stop A to stop B. Lines 1 and 2 can go from stop A to B. There is another stop C connected to A with lines 3 and 4, and connected to B with lines 5 and 6.</p>

<p>Without any constraint, all these objects can be used to propose a solution. Let&#39;s study some examples:</p>

<table><thead>
<tr>
<th><code>forbidden_uris[]</code></th>
<th><code>allowed_id[]</code></th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td>line 1, line 2</td>
<td></td>
<td>All the journeys will pass by stop C, using either of line 3, 4, 5 and 6</td>
</tr>
<tr>
<td>stop A</td>
<td></td>
<td>No solution, as we can&#39;t get in any transport</td>
</tr>
<tr>
<td>stop B</td>
<td></td>
<td>No solution, as we can&#39;t get out at destination</td>
</tr>
<tr>
<td></td>
<td>stop C</td>
<td>No solution, as we can&#39;t get in neither get out</td>
</tr>
<tr>
<td>line 1, line 2</td>
<td>line 3</td>
<td>No solution, as only line 3 can be taken</td>
</tr>
<tr>
<td></td>
<td>line 3, line 5</td>
<td>All the journeys will pass by stop C using line 3 and 5</td>
</tr>
<tr>
<td></td>
<td>line 3, line 4, line5</td>
<td>All the journeys will pass by stop C using (line 3 or 4) and line 5</td>
</tr>
<tr>
<td></td>
<td>line 3, line 5, stop C</td>
<td>No solution, as we can&#39;t get in neither get out</td>
</tr>
<tr>
<td></td>
<td>stop A, stop C, stop B</td>
<td>As without any constraint, passing via stop C is not needed</td>
</tr>
<tr>
<td>stop A, stop B</td>
<td>stop A, stop B</td>
<td>No solution, as no stop point are allowed.</td>
</tr>
</tbody></table>
<h3 id='precisions-on-free_radius_from-free_radius_to'>Precisions on <code>free_radius_from/free_radius_to</code></h3>
<p>These parameters find the nearest stop point (within free_radius distance) to the given coordinates.
Then, it allows skipping walking sections between the point of departure/arrival and those nearest stop points.</p>

<p>Example:</p>

<p><img src="images/free_radius-d5c14627.png" alt="image" /></p>

<p>In this example, the stop points within the circle (SP1, SP2 et SP3) can be reached via a crowfly of 0 second. The other stop points, outside the circle, will be reached by walking.</p>

<h3 id="journeys-objects">Objects</h3>

<p>Here is a typical journey, all sections are detailed below</p>

<p><img src="images/typical_itinerary-281bd29a.png" alt="image" /></p>
<h4 id='main-response'>Main response</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>journeys</td>
<td>array of <a href="#journey">journeys</a></td>
<td>List of computed journeys</td>
</tr>
<tr>
<td>links</td>
<td>array of <a href="#link">link</a></td>
<td>Links related to the journeys <ul><li><code>next</code>: search link with <code>&amp;datetime = departure datetime of first journey + 1 second</code> and <code>&amp;datetime_represents=departure</code> </li><li><code>prev</code>: search link with <code>&amp;datetime = arrival datetime of first journey - 1 second</code> and <code>&amp;datetime_represents=arrival</code> </li><li> <code>first</code>: search link with <code>&amp;datetime = departure date of first journey with 0 time part</code> and <code>&amp;datetime_represents=departure</code> </li><li><code>last</code>: search link with <code>&amp;datetime = arrival date of last journey with 232359 time part</code> and <code>&amp;datetime_represents=arrival</code> </li><li><code>physical_modes</code>: physical_modes </li><li>and others: <code>physical_modes, pois lines, stop_areas, stop_points, poi_types, commercial_modes, addresses, networks, vehicle_journeys, routes</code> </li></ul></td>
</tr>
</tbody></table>
<h4 id='journey'>Journey</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>duration</td>
<td>int</td>
<td>Duration of the journey</td>
</tr>
<tr>
<td>nb_transfers</td>
<td>int</td>
<td>Number of transfers in the journey</td>
</tr>
<tr>
<td>departure_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Departure date and time of the journey</td>
</tr>
<tr>
<td>requested_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Requested date and time of the journey</td>
</tr>
<tr>
<td>arrival_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Arrival date and time of the journey</td>
</tr>
<tr>
<td>sections</td>
<td>array of <a href="#section">section</a></td>
<td>All the sections of the journey</td>
</tr>
<tr>
<td>from</td>
<td><a href="#place">places</a></td>
<td>The place from where the journey starts</td>
</tr>
<tr>
<td>to</td>
<td><a href="#place">places</a></td>
<td>The place from where the journey ends</td>
</tr>
<tr>
<td>links</td>
<td><a href="#link">link</a></td>
<td>Links related to this journey <ul><li><code>same_journey_schedules</code>: search link for same journey schedules between two stop_areas using the same combination of public transport </li><li><code>this_journey</code>: search link which returns the same journey </li></ul></td>
</tr>
<tr>
<td>type</td>
<td><em>enum</em> string</td>
<td>Used to qualify a journey. See the <a href="#journey-qualification-process">journey-qualification</a> section for more information</td>
</tr>
<tr>
<td>fare</td>
<td><a href="#fare">fare</a></td>
<td>Fare of the journey (tickets and price)</td>
</tr>
<tr>
<td>tags</td>
<td>array of string</td>
<td>List of tags on the journey. The tags add additional information on the journey beside the journey type. See for example <a href="#multiple-journeys">multiple_journeys</a>.</td>
</tr>
<tr>
<td>status</td>
<td><em>enum</em></td>
<td>Status of the whole journey taking into acount the actual effect of disruptions retrieved on pick-ups and drop-offs used. See the <a href="#journeys-disruptions">journey-disruption</a> section for more information.</td>
</tr>
</tbody></table>

<aside class="notice">
    When used with just a "from" or a "to" parameter, it will not contain any sections.
</aside>
<h4 id='section'>Section</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td><em>enum</em> string</td>
<td>Type of the section.<ul><li><code>public_transport</code>: public transport section</li><li><code>street_network</code>: street section</li><li><code>waiting</code>: waiting section between transport</li><li><p><code>stay_in</code>: this “stay in the vehicle” section occurs when the traveller has to stay in the vehicle when the bus change its routing. Here is an exemple for a journey from A to B: (lollipop line)</p><p><img src="images/stay_in-a20bc271.png" alt="image" /></p></li><li><code>transfer</code>: transfert section</li><li><p><code>crow_fly</code>: teleportation section, most of the time. Useful to make navitia idempotent when starting from or arriving to a city or a stop_area (“potato shaped” objects) in order to route to the nearest stop_point. Be careful: neither “path” nor “geojson” available in a crow_fly section.</p><p> Can also be used when no street_network data are available and not be considered as teleportation. The distance of such a crow_fly section will be a straight line between the point of departure and arrival (hence the name &#39;crow_fly&#39;). The duration of the section will be calculated with the Manhattan distance of the section (distance x √2). In this case, “geojson” is available.</p><p><img src="images/crow_fly-094f2aaf.png" alt="image" /></p></li><li><code>on_demand_transport</code>: vehicle may not drive along: traveler will have to call agency to confirm journey</li><li><code>bss_rent</code>: taking a bike from a bike sharing system (bss)</li><li><code>bss_put_back</code>: putting back a bike from a bike sharing system (bss)</li><li><code>boarding</code>: boarding on vehicle (boat, on-demand-transport, plane, ...)</li><li><code>alighting</code>: getting off a vehicle</li><li><code>park</code>: parking a car</li><li><code>ridesharing</code>: car-pooling section</li></ul></td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Id of the section</td>
</tr>
<tr>
<td>mode</td>
<td><em>enum</em> string</td>
<td>Mode of the street network and crow_fly: <code>Walking</code>, <code>Bike</code>, <code>Car</code>, &#39;Taxi&#39;</td>
</tr>
<tr>
<td>duration</td>
<td>int</td>
<td>Duration of this section</td>
</tr>
<tr>
<td>from</td>
<td><a href="#place">places</a></td>
<td>Origin place of this section</td>
</tr>
<tr>
<td>to</td>
<td><a href="#place">places</a></td>
<td>Destination place of this section</td>
</tr>
<tr>
<td>links</td>
<td>Array of <a href="#link">link</a></td>
<td>Links related to this section</td>
</tr>
<tr>
<td>display_informations</td>
<td><a href="#display-informations">display_informations</a></td>
<td>Useful information to display</td>
</tr>
<tr>
<td>additional_informations</td>
<td><em>enum</em> string</td>
<td>Other information. It can be: <ul><li><code>regular</code>: no on demand transport (odt)</li><li><code>has_date_time_estimated</code>: section with at least one estimated date time</li><li><code>odt_with_stop_time</code>: odt with fixed schedule, but travelers have to call agency!</li><li><code>odt_with_stop_point</code>: odt where pickup or drop off are specific points</li><li><code>odt_with_zone</code>: odt which is like a cab, from wherever you want to wherever you want, whenever it is possible</li></ul></td>
</tr>
<tr>
<td>geojson</td>
<td><a href="https://www.geojson.org">GeoJson</a></td>
<td></td>
</tr>
<tr>
<td>path</td>
<td>Array of <a href="#path">path</a></td>
<td>The path of this section</td>
</tr>
<tr>
<td>transfer_type</td>
<td><em>enum</em> string</td>
<td>The type of this transfer it can be: <code>walking</code>, <code>stay_in</code></td>
</tr>
<tr>
<td>stop_date_times</td>
<td>Array of <a href="#stop-date-time">stop_date_time</a></td>
<td>List of the stop times of this section</td>
</tr>
<tr>
<td>departure_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Date and time of departure</td>
</tr>
<tr>
<td>arrival_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Date and time of arrival</td>
</tr>
</tbody></table>
<h4 id='path'>Path</h4>
<p>A path object in composed of an array of <a href="#path-item">path_item</a> (segment).</p>
<h4 id='path-item'>Path item</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>length</td>
<td>int</td>
<td>Length (in meter) of the segment</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>name of the way corresponding to the segment</td>
</tr>
<tr>
<td>duration</td>
<td>int</td>
<td>duration (in seconds) of the segment</td>
</tr>
<tr>
<td>direction</td>
<td>int</td>
<td>Angle (in degree) between the previous segment and this segment.<br><ul><li>0 means going straight</li><li>&gt; 0 means turning right</li><li>&lt; 0 means turning left</li></ul><br>Hope it&#39;s easier to understand with a picture: <img src="images/direction-d7b19503.png" alt="image" /></td>
</tr>
</tbody></table>
<h4 id='fare'>Fare</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>total</td>
<td><a href="#cost">cost</a></td>
<td>total cost of the journey</td>
</tr>
<tr>
<td>found</td>
<td>boolean</td>
<td>False if no fare has been found for the journey, True otherwise</td>
</tr>
<tr>
<td>links</td>
<td><a href="#link">link</a></td>
<td>Links related to this object. Link with related <a href="#ticket">tickets</a></td>
</tr>
</tbody></table>
<h4 id='cost'>Cost</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>cost: float formatted as string</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>currency as specified in input data</td>
</tr>
</tbody></table>
<h4 id='ticket'>Ticket</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Id of the ticket</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the ticket</td>
</tr>
<tr>
<td>found</td>
<td>boolean</td>
<td>False if unknown ticket, True otherwise</td>
</tr>
<tr>
<td>cost</td>
<td><a href="#cost">cost</a></td>
<td>Cost of the ticket</td>
</tr>
<tr>
<td>links</td>
<td>array of <a href="#link">link</a></td>
<td>Link to the <a href="#section">section</a> using this ticket</td>
</tr>
</tbody></table>

<h2 id="isochrones-api">Isochrones (currently in Beta)</h2>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fisochrones%3Ffrom%3D2.377097%3B48.846905%26max_duration%3D2000%26min_duration%3D1000&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try a simple example on Navitia playground (click on &quot;MAP&quot; buttons for &quot;wow effect&quot;)</a></p>

<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fisochrones%3Ffrom%3D2.377097%253B48.846905%26boundary_duration%255B%255D%3D1000%26boundary_duration%255B%255D%3D2000%26boundary_duration%255B%255D%3D3000%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try a multi-color example on Navitia playground (click on &quot;MAP&quot; buttons for &quot;WOW effect&quot;)</a></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Request</span>
curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/isochrones?from=stop_area:RAT:SA:GDLYO&amp;max_duration=3600'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c"># Response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"isochrones"</span>:[
        <span class="o">{</span>
            <span class="s2">"geojson"</span>:<span class="o">{</span>
                <span class="s2">"type"</span>:<span class="s2">"MultiPolygon"</span>,
                <span class="s2">"coordinates"</span>:[
                    <span class="o">[</span>
                        <span class="o">[</span>
                            <span class="o">[</span>
                                2.3186837324,
                                48.9324437042
                            <span class="o">]</span>,
                            <span class="o">[</span>
                                2.3187241561,
                                48.9324771012
                            <span class="o">]</span>,
                            <span class="o">[</span>
                                2.3190737256,
                                48.9327557777
                            <span class="o">]</span>,
                            <span class="o">[</span><span class="s2">"..."</span><span class="o">]</span>,
                            <span class="o">[</span><span class="s2">"..."</span><span class="o">]</span>,
                            <span class="o">[</span><span class="s2">"..."</span><span class="o">]</span>
                        <span class="o">]</span>
                    <span class="o">]</span>
                <span class="o">]</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p>Also known as <code>/isochrones</code> service.</p>

<aside class="warning">
    This service is under development. So it is accessible as a <b>"Beta" service</b>.
    <br>
    Every feed back is welcome on <a href="https://groups.google.com/forum/#!forum/navitia">https://groups.google.com/forum/#!forum/navitia</a>!
</aside>

<p>This service gives you a multi-polygon response which
represents a same duration travel zone at a given time: https://en.wikipedia.org/wiki/Isochrone_map</p>

<p>As you can find isochrone tables using <code>/journeys</code>, this service is only another representation
of the same data, map oriented.</p>

<p>It is also really usefull to make filters on geocoded objects in order to find which ones are reachable at a given time within a specific duration.
You just have to verify that the coordinates of the geocoded object are inside the multi-polygon.</p>
<h3 id='accesses-8'>Accesses</h3>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>/isochrones</code></td>
<td>List of multi-polygons representing one isochrone step. Access from wherever land</td>
</tr>
<tr>
<td><code>/coverage/{region_id}/isochrones</code></td>
<td>List of multi-polygons representing one isochrone step. Access from on a specific coverage</td>
</tr>
</tbody></table>
<h3 id='main-parameters'><a name="isochrones-parameters"></a>Main parameters</h3>
<aside class="success">
    'from' and 'to' parameters works as exclusive parameters:
    <li>When 'from' is provided, 'to' is ignored and Navitia computes a "departure after" isochrone.
    <li>When 'from' is not provided, 'to' is required and Navitia computes a "arrival after" isochrone.
</aside>

<aside class="notice">
    Isochrones are time dependant. The duration boundary is actually an arrival time boundary.
    'datetime' parameter is therefore important: The result is not the same when computing
    an isochrone at 3am (few transports) or at 6pm (rush hour).
</aside>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>from</td>
<td>id</td>
<td>The id of the departure of your journey. Required to compute isochrones &quot;departure after&quot;</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>to</td>
<td>id</td>
<td>The id of the arrival of your journey. Required to compute isochrones &quot;arrival before&quot;</td>
<td></td>
</tr>
<tr>
<td>yep</td>
<td>datetime</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Date and time to go</td>
<td></td>
</tr>
<tr>
<td>yep</td>
<td>boundary_duration[]</td>
<td>int</td>
<td>A duration delineating a reachable area (in seconds). Using multiple boundary makes map more readable</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</br> Note: the forbidden_uris[] concern only the public transport objects. You can&#39;t for example forbid the use of the bike with them, you have to set the fallback modes for this (<code>first_section_mode[]</code> and <code>last_section_mode[]</code>)</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>first_section_mode[]</td>
<td>array of string</td>
<td>Force the first section mode if the first section is not a public transport one. It takes one the following values: <code>walking</code>, <code>car</code>, <code>bike</code>, <code>bss</code>.<br><code>bss</code> stands for bike sharing system.<br>It&#39;s an array, you can give multiple modes.<br><br>Note: choosing <code>bss</code> implicitly allows the <code>walking</code> mode since you might have to walk to the bss station.<br> Note 2: The parameter is inclusive, not exclusive, so if you want to forbid a mode, you need to add all the other modes.<br> Eg: If you never want to use a <code>car</code>, you need: <code>first_section_mode[]=walking&amp;first_section_mode[]=bss&amp;first_section_mode[]=bike&amp;last_section_mode[]=walking&amp;last_section_mode[]=bss&amp;last_section_mode[]=bike</code></td>
<td>walking</td>
</tr>
<tr>
<td>nop</td>
<td>last_section_mode[]</td>
<td>array of string</td>
<td>Same as first_section_mode but for the last section</td>
<td>walking</td>
</tr>
</tbody></table>
<h3 id='other-parameters-2'>Other parameters</h3>
<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>min_duration</td>
<td>int</td>
<td>Minimum duration delineating the reachable area (in seconds)</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>max_duration</td>
<td>int</td>
<td>Maximum duration delineating the reachable area (in seconds)</td>
<td></td>
</tr>
</tbody></table>
<h3 id='tips'>Tips</h3><h4 id='understand-the-resulting-isochrone'>Understand the resulting isochrone</h4>
<p>The principle of isochrones is to work like journeys.
So if one doesn&#39;t understand why a place is inside or outside an isochrone,
please compute a journey from the &quot;center&quot; of isochrone to that precise place.</p>

<p>To do that, just 3 changes are needed:</p>

<ul>
<li>provide a starting <code>datetime=</code> to compare arrival time evenly</li>
<li>change endpoint: <code>/isochrones</code> to <code>/journeys</code></li>
<li>provide a destination using <code>&amp;to=&lt;my_place&gt;</code></li>
</ul>

<p>Please remember that isochrones use crowfly at the end so they are less precise than journeys.</p>
<h4 id='isochrones-without-public-transport'>Isochrones without public transport</h4>
<p>The main goal of Navitia is to handle public transport, so it&#39;s not recommended to avoid them.<br>However if your are willing to do that, you can use a little trick and
pass the parameters <code>&amp;allowed_id=physical_mode:Bus&amp;forbidden_id=physical_mode:Bus</code>.
You will only get circles.</p>
<h4 id='car-isochrones'>Car isochrones</h4>
<p>Using car in Navitia isochrones is not recommended.<br>It is only handled for compatibility with <code>/journeys</code> but tends to squash every other result.</p>

<h2 id="route-schedules">Route Schedules</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/route_schedules'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"pagination"</span>: <span class="o">{}</span>,
    <span class="s2">"links"</span>: <span class="o">[]</span>,
    <span class="s2">"disruptions"</span>: <span class="o">[]</span>,
    <span class="s2">"notes"</span>: <span class="o">[]</span>,
    <span class="s2">"feed_publishers"</span>: <span class="o">[]</span>,
    <span class="s2">"exceptions"</span>: <span class="o">[]</span>,
    <span class="s2">"route_schedules"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"display_informations"</span>: <span class="o">{</span>
            <span class="s2">"direction"</span>: <span class="s2">"Château de Vincennes (Saint-Mandé)"</span>,
            <span class="s2">"code"</span>: <span class="s2">"1"</span>,
            <span class="s2">"network"</span>: <span class="s2">"RATP"</span>,
            <span class="s2">"links"</span>: <span class="o">[]</span>,
            <span class="s2">"color"</span>: <span class="s2">"F2C931"</span>,
            <span class="s2">"commercial_mode"</span>: <span class="s2">"Metro"</span>,
            <span class="s2">"text_color"</span>: <span class="s2">"000000"</span>,
            <span class="s2">"label"</span>: <span class="s2">"1"</span>
        <span class="o">}</span>,
        <span class="s2">"table"</span>: <span class="o">{</span>
            <span class="s2">"headers"</span>: <span class="o">[{</span>
                    <span class="s2">"display_informations"</span>: <span class="o">{</span>
                        <span class="s2">"direction"</span>: <span class="s2">"Château de Vincennes (Saint-Mandé)"</span>,
                        <span class="s2">"code"</span>: <span class="s2">""</span>,
                        <span class="s2">"description"</span>: <span class="s2">""</span>,
                        <span class="s2">"links"</span>: <span class="o">[]</span>,
                        <span class="s2">"color"</span>: <span class="s2">""</span>,
                        <span class="s2">"physical_mode"</span>: <span class="s2">"Métro"</span>,
                        <span class="s2">"headsign"</span>: <span class="s2">"Château de Vincennes"</span>,
                        <span class="s2">"commercial_mode"</span>: <span class="s2">""</span>,
                        <span class="s2">"equipments"</span>: <span class="o">[]</span>,
                        <span class="s2">"text_color"</span>: <span class="s2">""</span>,
                        <span class="s2">"network"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="s2">"additional_informations"</span>: <span class="o">[</span><span class="s2">"regular"</span><span class="o">]</span>,
                    <span class="s2">"links"</span>: <span class="o">[{</span>
                        <span class="s2">"type"</span>: <span class="s2">"vehicle_journey"</span>,
                        <span class="s2">"id"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9828-1_dst_2"</span>
                    <span class="o">}</span>, <span class="o">{</span>
                        <span class="s2">"type"</span>: <span class="s2">"physical_mode"</span>,
                        <span class="s2">"id"</span>: <span class="s2">"physical_mode:Metro"</span>
                    <span class="o">}]</span>
                <span class="o">}</span>,
                <span class="o">{</span> ... <span class="o">}</span>,
                <span class="o">{</span> ... <span class="o">}</span>
            <span class="o">]</span>,
            <span class="s2">"rows"</span>: <span class="o">[{</span>
                <span class="s2">"stop_point"</span>: <span class="o">{</span>
                    <span class="s2">"codes"</span>: <span class="o">[</span> ... <span class="o">]</span>,
                    <span class="s2">"name"</span>: <span class="s2">"La Défense Grande Arche"</span>,
                    <span class="s2">"links"</span>: <span class="o">[]</span>,
                    <span class="s2">"physical_modes"</span>: <span class="o">[{</span>
                        <span class="s2">"name"</span>: <span class="s2">"Métro"</span>,
                        <span class="s2">"id"</span>: <span class="s2">"physical_mode:Metro"</span>
                    <span class="o">}]</span>,
                    <span class="s2">"coord"</span>: <span class="o">{</span><span class="s2">"lat"</span>: <span class="s2">"48.891935"</span>,<span class="s2">"lon"</span>: <span class="s2">"2.237883"</span><span class="o">}</span>,
                    <span class="s2">"label"</span>: <span class="s2">"La Défense Grande Arche (Puteaux)"</span>,
                    <span class="s2">"equipments"</span>: <span class="o">[]</span>,
                    <span class="s2">"commercial_modes"</span>: <span class="o">[</span>...],
                    <span class="s2">"administrative_regions"</span>: <span class="o">[</span> ... <span class="o">]</span>,
                    <span class="s2">"id"</span>: <span class="s2">"stop_point:RAT:SP:DENFE2"</span>,
                    <span class="s2">"stop_area"</span>: <span class="o">{</span> ... <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"date_times"</span>: <span class="o">[{</span>
                    <span class="s2">"date_time"</span>: <span class="s2">"20160616T093300"</span>,
                    <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
                    <span class="s2">"links"</span>: <span class="o">[{</span>
                        <span class="s2">"type"</span>: <span class="s2">"vehicle_journey"</span>,
                        <span class="s2">"value"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9828-1_dst_2"</span>,
                        <span class="s2">"rel"</span>: <span class="s2">"vehicle_journeys"</span>,
                        <span class="s2">"id"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9828-1_dst_2"</span>
                    <span class="o">}]</span>,
                    <span class="s2">"data_freshness"</span>: <span class="s2">"base_schedule"</span>
                <span class="o">}</span>, <span class="o">{</span>
                    <span class="s2">"date_time"</span>: <span class="s2">"20160617T094400"</span>,
                    <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
                    <span class="s2">"links"</span>: <span class="o">[{</span>
                        <span class="s2">"type"</span>: <span class="s2">"vehicle_journey"</span>,
                        <span class="s2">"value"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9827-1_dst_2"</span>,
                        <span class="s2">"rel"</span>: <span class="s2">"vehicle_journeys"</span>,
                        <span class="s2">"id"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9827-1_dst_2"</span>
                    <span class="o">}]</span>,
                    <span class="s2">"data_freshness"</span>: <span class="s2">"base_schedule"</span>
                <span class="o">}]</span>
            <span class="o">}]</span>
        <span class="o">}</span>,
        <span class="s2">"additional_informations"</span>: null,
        <span class="s2">"links"</span>: <span class="o">[]</span>,
        <span class="s2">"geojson"</span>: <span class="o">{}</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div>
<p>Also known as <code>/route_schedules</code> service.</p>

<p>This endpoint gives you access to schedules of routes (so a kind of time table), with a response made
of an array of <a href="#route-schedule">route_schedule</a>, and another one of <a href="#note">note</a>. You can
access it via that kind of url: <a href="https://api.navitia.io/v1/%7Ba_path_to_a_resource%7D/route_schedules">https://api.navitia.io/v1/{a_path_to_a_resource}/route_schedules</a></p>
<h3 id='accesses-9'>Accesses</h3>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>/coverage/{region_id}/{resource_path}/route_schedules</code></td>
<td>List of the entire route schedules for a given resource</td>
</tr>
<tr>
<td><code>/coverage/{lon;lat}/coords/{lon;lat}/route_schedules</code></td>
<td>List of the entire route schedules for coordinates, navitia guesses the region from coordinates</td>
</tr>
</tbody></table>
<h3 id='parameters-4'>Parameters</h3>
<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>from_datetime</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>The date_time from which you want the schedules</td>
<td>the current datetime</td>
</tr>
<tr>
<td>nop</td>
<td>duration</td>
<td>int</td>
<td>Maximum duration in seconds between from_datetime and the retrieved datetimes.</td>
<td>86400</td>
</tr>
<tr>
<td>nop</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>nop</td>
<td>items_per_schedule</td>
<td>int</td>
<td>Maximum number of columns per schedule.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>data_freshness</td>
<td>enum</td>
<td>Define the freshness of data to use<br><ul><li>realtime</li><li>base_schedule</li></ul></td>
<td>base_schedule</td>
</tr>
<tr>
<td>nop</td>
<td>disable_geojson</td>
<td>boolean</td>
<td>remove geojson fields from the response</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>direction_type</td>
<td>enum</td>
<td>Allow to filter the response with the route direction type property <ul><li>all</li><li>forward</li><li>backward</li></ul>Note: forward is equivalent to clockwise and inbound. When you select forward, you filter with: [forward, clockwise, inbound].<br>backward is equivalent to anticlockwise and outbound. when you select backward, you filter with: [backward, anticlockwise, outbound]</td>
<td>all</td>
</tr>
</tbody></table>

<h3>Objects</h3>

<h4 id="route-schedule">route_schedule object</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>display_informations</td>
<td><a href="#display-informations">display_informations</a></td>
<td>Usefull information about the route to display</td>
</tr>
<tr>
<td>Table</td>
<td><a href="#table">table</a></td>
<td>The schedule table</td>
</tr>
</tbody></table>
<h4 id='table'>table</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Headers</td>
<td>Array of <a href="#header">header</a></td>
<td>Informations about vehicle journeys</td>
</tr>
<tr>
<td>Rows</td>
<td>Array of <a href="#row">row</a></td>
<td>A row of the schedule</td>
</tr>
</tbody></table>
<h4 id='header'>header</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>additional_informations</td>
<td>Array of String</td>
<td>Other information: TODO enum</td>
</tr>
<tr>
<td>display_informations</td>
<td><a href="#display-informations">display_informations</a></td>
<td>Usefull information about the the vehicle journey to display</td>
</tr>
<tr>
<td>links</td>
<td>Array of <a href="#link">link</a></td>
<td>Links to <a href="#line">line</a>, vehicle_journey, <a href="#route">route</a>, <a href="#commercial-mode">commercial_mode</a>, <a href="#physical-mode">physical_mode</a>, <a href="#network">network</a></td>
</tr>
</tbody></table>
<h4 id='row'>row</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>date_times</td>
<td>Array of <a href="#pt-date-time">pt-date-time</a></td>
<td>Array of public transport formated date time</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>The stop point of the row</td>
</tr>
</tbody></table>

<h2 id="stop-schedules">Stop Schedules</h2>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Fstop_schedules%3Fitems_per_schedule%3D2%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground (click on &quot;EXT&quot; buttons to see times)</a></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/stop_schedules'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK
<span class="o">{</span>
    <span class="s2">"stop_schedules"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"stop_point"</span>: <span class="o">{</span>...<span class="o">}</span>,
            <span class="s2">"links"</span>: <span class="o">[</span>...],
            <span class="s2">"date_times"</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">"date_time"</span>: <span class="s2">"20160615T115300"</span>,
                    <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
                    <span class="s2">"links"</span>: <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s2">"type"</span>: <span class="s2">"vehicle_journey"</span>,
                            <span class="s2">"value"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9869-1_dst_2"</span>,
                            <span class="s2">"rel"</span>: <span class="s2">"vehicle_journeys"</span>,
                            <span class="s2">"id"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9869-1_dst_2"</span>
                        <span class="o">}</span>
                    <span class="o">]</span>,
                    <span class="s2">"data_freshness"</span>: <span class="s2">"base_schedule"</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                    <span class="s2">"date_time"</span>: <span class="s2">"20160616T115000"</span>,
                    <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
                    <span class="s2">"links"</span>: <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s2">"type"</span>: <span class="s2">"vehicle_journey"</span>,
                            <span class="s2">"value"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9868-1_dst_2"</span>,
                            <span class="s2">"rel"</span>: <span class="s2">"vehicle_journeys"</span>,
                            <span class="s2">"id"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9868-1_dst_2"</span>
                        <span class="o">}</span>
                    <span class="o">]</span>,
                    <span class="s2">"data_freshness"</span>: <span class="s2">"base_schedule"</span>
                <span class="o">}</span>,
                <span class="s2">"..."</span>
            <span class="o">]</span>,
            <span class="s2">"route"</span>: <span class="o">{</span>...<span class="o">}</span>,
            <span class="s2">"additional_informations"</span>: null,
            <span class="s2">"display_informations"</span>: <span class="o">{</span>
                <span class="s2">"direction"</span>: <span class="s2">"Château de Vincennes (Saint-Mandé)"</span>,
                <span class="s2">"code"</span>: <span class="s2">"1"</span>,
                <span class="s2">"network"</span>: <span class="s2">"RATP"</span>,
                <span class="s2">"links"</span>: <span class="o">[]</span>,
                <span class="s2">"color"</span>: <span class="s2">"F2C931"</span>,
                <span class="s2">"commercial_mode"</span>: <span class="s2">"Metro"</span>,
                <span class="s2">"text_color"</span>: <span class="s2">"000000"</span>,
                <span class="s2">"label"</span>: <span class="s2">"1"</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"pagination"</span>: <span class="o">{</span>...<span class="o">}</span>,
    <span class="s2">"links"</span>: <span class="o">[</span>...],
    <span class="s2">"disruptions"</span>: <span class="o">[]</span>,
    <span class="s2">"notes"</span>: <span class="o">[]</span>,
    <span class="s2">"feed_publishers"</span>: <span class="o">[</span>...],
    <span class="s2">"exceptions"</span>: <span class="o">[]</span>
<span class="o">}</span>
</code></pre></div>
<p>Also known as <code>/stop_schedules</code> service.</p>

<p>This endpoint gives you access to time tables going through a stop
point as:
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Panneau_SIEL_couleurs_Paris-Op%C3%A9ra.jpg/640px-Panneau_SIEL_couleurs_Paris-Op%C3%A9ra.jpg" alt="stop_schedules" /></p>

<p>The response is made of an array of <a href="#stop-schedule">stop_schedule</a>, and another one of <a href="#note">note</a>.<br><a href="#context">Context</a> object provides the <code>current_datetime</code>, useful to compute waiting time when requesting Navitia without a <code>from_datetime</code>.<br>Can be accessed via: <a href="https://api.navitia.io/v1/%7Ba_path_to_a_resource%7D/stop_schedules">https://api.navitia.io/v1/{a_path_to_a_resource}/stop_schedules</a>.</p>

<p>See how disruptions affect stop schedules in the <a href="#realtime">real time</a> section.</p>
<h3 id='accesses-10'>Accesses</h3>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>/coverage/{region_id}/{resource_path}/stop_schedules</code></td>
<td>List of the stop schedules grouped by <code>stop_point/route</code> for a given resource</td>
</tr>
<tr>
<td><code>/coverage/{lon;lat}/coords/{lon;lat}/stop_schedules</code></td>
<td>List of the stop schedules grouped by <code>stop_point/route</code> for coordinates, navitia guesses the region from coordinates</td>
</tr>
</tbody></table>
<h3 id='parameters-5'>Parameters</h3>
<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>from_datetime</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>The date_time from which you want the schedules</td>
<td>the current datetime</td>
</tr>
<tr>
<td>nop</td>
<td>duration</td>
<td>int</td>
<td>Maximum duration in seconds between from_datetime and the retrieved datetimes.</td>
<td>86400</td>
</tr>
<tr>
<td>nop</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>items_per_schedule</td>
<td>int</td>
<td>Maximum number of datetimes per schedule.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>data_freshness</td>
<td>enum</td>
<td>Define the freshness of data to use to compute journeys <ul><li>realtime</li><li>base_schedule</li></ul></td>
<td>realtime</td>
</tr>
<tr>
<td>nop</td>
<td>disable_geojson</td>
<td>boolean</td>
<td>remove geojson fields from the response</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>direction_type</td>
<td>enum</td>
<td>Allow to filter the response with the route direction type property <ul><li>all</li><li>forward</li><li>backward</li></ul>Note: forward is equivalent to clockwise and inbound. When you select forward, you filter with: [forward, clockwise, inbound].<br>backward is equivalent to anticlockwise and outbound. When you select backward, you filter with: [backward, anticlockwise, outbound]</td>
<td>all</td>
</tr>
</tbody></table>
<h3 id='stop_schedule-object'><a name="stop-schedule"></a>Stop_schedule object</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>display_informations</td>
<td><a href="#display-informations">display_informations</a></td>
<td>Usefull information about the route to display</td>
</tr>
<tr>
<td>route</td>
<td><a href="#route">route</a></td>
<td>The route of the schedule</td>
</tr>
<tr>
<td>date_times</td>
<td>Array of <a href="#pt-date-time">pt-date-time</a></td>
<td>When does a bus stops at the stop point</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>The stop point of the schedule</td>
</tr>
<tr>
<td>additional_informations</td>
<td><a href="#additional-informations">additional_informations</a></td>
<td>Other informations, when no departures, in order of dominance<br> enum values:<ul><li>date_out_of_bounds: dataset loaded in Navitia doesn&#39;t cover this date</li><li>no_departure_this_day: there is no departure during the date/duration (for example, you have requested timetables for a sunday)</li><li>no_active_circulation_this_day: there is no more journeys for the date (for example you&#39;re too late, the line has closed for today)</li><li>terminus: there will never be departure, you&#39;re at the terminus of the line</li><li>partial_terminus: same as terminus, but be careful, some vehicles are departing from the stop some other days</li><li>active_disruption: no departure, due to a disruption</li></ul></td>
</tr>
</tbody></table>

<h2 id="terminus-schedules">Terminus Schedules</h2>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Fterminus_schedules%3Fitems_per_schedule%3D2%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground (click on &quot;EXT&quot; buttons to see times)</a></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/terminus_schedules'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
Same as stop_schedule but objects are embedded <span class="k">in </span>the <span class="sb">`</span>terminus_schedules<span class="sb">`</span> section instead

HTTP/1.1 200 OK
<span class="o">{</span>
    <span class="s2">"terminus_schedules"</span>: <span class="o">[]</span>,
    <span class="s2">"pagination"</span>: <span class="o">{</span>...<span class="o">}</span>,
    <span class="s2">"links"</span>: <span class="o">[</span>...],
    <span class="s2">"disruptions"</span>: <span class="o">[]</span>,
    <span class="s2">"notes"</span>: <span class="o">[]</span>,
    <span class="s2">"feed_publishers"</span>: <span class="o">[</span>...],
    <span class="s2">"exceptions"</span>: <span class="o">[]</span>
<span class="o">}</span>
</code></pre></div>
<p>Also known as <code>/terminus_schedules</code> service.</p>

<p>This endpoint gives you access to time tables going through a stop point.
Departures are grouped observing all served stations after considered stop point. This can also be same as:<br>
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Panneau_SIEL_couleurs_Paris-Op%C3%A9ra.jpg/640px-Panneau_SIEL_couleurs_Paris-Op%C3%A9ra.jpg" alt="terminus_schedules" /></p>

<p>The response is made of an array of <a href="#terminus-schedule">terminus_schedule</a>, and another one of <a href="#note">note</a>.<br><a href="#context">Context</a> object provides the <code>current_datetime</code>, useful to compute waiting time when requesting Navitia without a <code>from_datetime</code>.<br>Can be accessed via: <a href="https://api.navitia.io/v1/%7Ba_path_to_a_resource%7D/terminus_schedules">https://api.navitia.io/v1/{a_path_to_a_resource}/terminus_schedules</a></p>
<h3 id='accesses-11'>Accesses</h3>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>/coverage/{region_id}/{resource_path}/terminus_schedules</code></td>
<td>List of the schedules grouped by observing all served stations after considered stop_point for a given resource</td>
</tr>
<tr>
<td><code>/coverage/{lon;lat}/coords/{lon;lat}/terminus_schedules</code></td>
<td>List of the schedules grouped by observing all served stations after considered stop_point for coordinates, navitia guesses the region from coordinates</td>
</tr>
</tbody></table>
<h3 id='parameters-6'>Parameters</h3>
<p>Same as stop_schedule parameters.</p>
<h3 id='terminus_schedule-object'><a name="terminus-schedule"></a>Terminus_schedule object</h3>
<p>Same as stop_schedule object.</p>

<h2 id="departures">Departures</h2>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Fdepartures%3F&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground</a></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#Request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/departures?from_datetime=20160615T1337'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#Response</span>
HTTP/1.1 200 OK
<span class="o">{</span>
   <span class="s2">"departures"</span>:[
        <span class="o">{</span>
            <span class="s2">"display_informations"</span>:<span class="o">{</span>
                <span class="s2">"direction"</span>:<span class="s2">"Ch</span><span class="se">\u</span><span class="s2">00e2teau de Vincennes (Saint-Mand</span><span class="se">\u</span><span class="s2">00e9)"</span>,
                <span class="s2">"color"</span>:<span class="s2">"F2C931"</span>,
                <span class="s2">"physical_mode"</span>:<span class="s2">"M?tro"</span>,
                <span class="s2">"headsign"</span>:<span class="s2">"Ch</span><span class="se">\u</span><span class="s2">00e2teau de Vincennes"</span>,
                <span class="s2">"commercial_mode"</span>:<span class="s2">"Metro"</span>,
                <span class="s2">"network"</span>:<span class="s2">"RATP"</span>,
                <span class="s2">"..."</span>
            <span class="o">}</span>,
            <span class="s2">"stop_point"</span>:<span class="o">{</span>
                <span class="s2">"name"</span>:<span class="s2">"Esplanade de la D</span><span class="se">\u</span><span class="s2">00e9fense"</span>,
                <span class="s2">"physical_modes"</span>:[
                   <span class="o">{</span>
                      <span class="s2">"name"</span>:<span class="s2">"M?tro"</span>,
                      <span class="s2">"id"</span>:<span class="s2">"physical_mode:Metro"</span>
                   <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"coord"</span>:<span class="o">{</span>
                   <span class="s2">"lat"</span>:<span class="s2">"48.887843"</span>,
                   <span class="s2">"lon"</span>:<span class="s2">"2.250442"</span>
                <span class="o">}</span>,
                <span class="s2">"label"</span>:<span class="s2">"Esplanade de la D</span><span class="se">\u</span><span class="s2">00e9fense (Puteaux)"</span>,
                <span class="s2">"id"</span>:<span class="s2">"stop_point:RAT:SP:ESDEN2"</span>,
                <span class="s2">"..."</span>
            <span class="o">}</span>,
            <span class="s2">"route"</span>:<span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"route:RAT:M1_R"</span>,
                <span class="s2">"name"</span>:<span class="s2">"Ch</span><span class="se">\u</span><span class="s2">00e2teau de Vincennes - La D</span><span class="se">\u</span><span class="s2">00e9fense"</span>,
                <span class="s2">"..."</span>
            <span class="o">}</span>,
            <span class="s2">"stop_date_time"</span>:<span class="o">{</span>
                <span class="s2">"arrival_date_time"</span>:<span class="s2">"20160615T133700"</span>,
                <span class="s2">"departure_date_time"</span>:<span class="s2">"20160615T133700"</span>,
                <span class="s2">"base_arrival_date_time"</span>:<span class="s2">"20160615T133700"</span>,
                <span class="s2">"base_departure_date_time"</span>:<span class="s2">"20160615T133700"</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="o">{</span><span class="s2">"..."</span>:<span class="s2">"..."</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"..."</span>:<span class="s2">"..."</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"..."</span>:<span class="s2">"..."</span><span class="o">}</span>
   <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p>Also known as <code>/departures</code> service.</p>

<p>This endpoint retrieves a list of departures from a specific datetime of a selected
object.
<a href="#context">Context</a> object provides the <code>current_datetime</code>, useful to compute waiting time when requesting Navitia without a <code>from_datetime</code>.
Departures are ordered chronologically in ascending order as:
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Display_at_bus_stop_sign_in_Karlovo_n%C3%A1m%C4%9Bst%C3%AD%2C_T%C5%99eb%C3%AD%C4%8D%2C_T%C5%99eb%C3%AD%C4%8D_District.JPG/640px-Display_at_bus_stop_sign_in_Karlovo_n%C3%A1m%C4%9Bst%C3%AD%2C_T%C5%99eb%C3%AD%C4%8D%2C_T%C5%99eb%C3%AD%C4%8D_District.JPG" alt="departures" /></p>

<p>See how disruptions affect the next departures in the <a href="#realtime">real time</a> section.</p>
<h3 id='accesses-12'>Accesses</h3>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>/coverage/{region_id}/{resource_path}/departures</code></td>
<td>List of the next departures, multi-route oriented, only time sorted (no grouped by <code>stop_point/route</code> here)</td>
</tr>
<tr>
<td><code>/coverage/{lon;lat}/coords/{lon;lat}/departures</code></td>
<td>List of the next departures, multi-route oriented, only time sorted (no grouped by <code>stop_point/route</code> here), navitia guesses the region from coordinates</td>
</tr>
</tbody></table>
<h3 id='parameters-7'>Parameters</h3>
<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>from_datetime</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>The date_time from which you want the schedules</td>
<td>the current datetime</td>
</tr>
<tr>
<td>nop</td>
<td>duration</td>
<td>int</td>
<td>Maximum duration in seconds between from_datetime and the retrieved datetimes.</td>
<td>86400</td>
</tr>
<tr>
<td>nop</td>
<td>count</td>
<td>int</td>
<td>Maximum number of results.</td>
<td>10</td>
</tr>
<tr>
<td>nop</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>data_freshness</td>
<td>enum</td>
<td>Define the freshness of data to use to compute journeys <ul><li>realtime</li><li>base_schedule</li></ul></td>
<td>realtime</td>
</tr>
<tr>
<td>nop</td>
<td>disable_geojson</td>
<td>boolean</td>
<td>remove geojson fields from the response</td>
<td>false</td>
</tr>
<tr>
<td>nop</td>
<td>direction_type</td>
<td>enum</td>
<td>Allow to filter the response with the route direction type property <ul><li>all</li><li>forward</li><li>backward</li></ul>Note: forward is equivalent to clockwise and inbound. When you select forward, you filter with: [forward, clockwise, inbound].<br>backward is equivalent to anticlockwise and outbound. When you select backward, you filter with: [backward, anticlockwise, outbound]</td>
<td>all</td>
</tr>
</tbody></table>
<h3 id='departure-objects'>Departure objects</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>route</td>
<td><a href="#route">route</a></td>
<td>The route of the schedule</td>
</tr>
<tr>
<td>stop_date_time</td>
<td>Array of <a href="#stop-date-time">stop_date_time</a></td>
<td>Occurs when a bus does a stopover at the stop point</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>The stop point of the schedule</td>
</tr>
</tbody></table>

<h2 id="arrivals">Arrivals</h2>

<blockquote>
<p><a href="https://playground.navitia.io/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Farrivals%3F&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground</a></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas/stop_area:RAT:SA:GDLYO/arrivals'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"arrivals"</span>:[
        <span class="o">{</span>
            <span class="s2">"display_informations"</span>:<span class="o">{</span>
                <span class="s2">"direction"</span>:<span class="s2">"Saint-Lazare (Paris)"</span>,
                <span class="s2">"code"</span>:<span class="s2">"14"</span>,
                <span class="s2">"color"</span>:<span class="s2">"67328E"</span>,
                <span class="s2">"physical_mode"</span>:<span class="s2">"Métro"</span>,
                <span class="s2">"headsign"</span>:<span class="s2">"Olympiades"</span>,
                <span class="s2">"commercial_mode"</span>:<span class="s2">"Metro"</span>,
                <span class="s2">"network"</span>:<span class="s2">"RATP"</span>
            <span class="o">}</span>,
            <span class="s2">"stop_date_time"</span>:<span class="o">{</span>
                <span class="s2">"arrival_date_time"</span>:<span class="s2">"20160615T115400"</span>,
                <span class="s2">"departure_date_time"</span>:<span class="s2">"20160615T115400"</span>,
                <span class="s2">"base_arrival_date_time"</span>:<span class="s2">"20160615T115400"</span>,
                <span class="s2">"base_departure_date_time"</span>:<span class="s2">"20160615T115400"</span>,
                <span class="s2">"data_freshness"</span>:<span class="s2">"base_schedule"</span>
            <span class="o">}</span>,
            <span class="s2">"stop_point"</span>:<span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"stop_point:RAT:SP:GDLYO4"</span>,
                <span class="s2">"name"</span>:<span class="s2">"Gare de Lyon"</span>,
                <span class="s2">"label"</span>:<span class="s2">"Gare de Lyon (Paris)"</span>
            <span class="o">}</span>,
            <span class="s2">"route"</span>:<span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"route:RAT:M14_R"</span>,
                <span class="s2">"name"</span>:<span class="s2">"Olympiades - Gare Saint-Lazare"</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="o">{</span><span class="s2">"..."</span>: <span class="s2">"..."</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"..."</span>: <span class="s2">"..."</span><span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p>Also known as <code>/arrivals</code> service.</p>

<p>This endpoint retrieves a list of arrivals from a specific datetime of a selected
object. Arrivals are ordered chronologically in ascending order.</p>
<h3 id='accesses-13'>Accesses</h3>
<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code>/coverage/{region_id}/{resource_path}/arrivals</code></td>
<td>List of the arrivals, multi-route oriented, only time sorted (no grouped by <code>stop_point/route</code> here)</td>
</tr>
<tr>
<td><code>/coverage/{lon;lat}/coords/{lon;lat}/arrivals</code></td>
<td>List of the arrivals, multi-route oriented, only time sorted (no grouped by <code>stop_point/route</code> here), navitia guesses the region from coordinates</td>
</tr>
</tbody></table>
<h3 id='parameters-8'>Parameters</h3>
<p>they are exactly the same as <a href="#departures">departures</a>.</p>

<h2 id="line-reports">Line reports</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/line_reports'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response, composed by 2 main lists: "line_reports" and "disruptions"</span>
HTTP/1.1 200 OK

<span class="o">{</span>
<span class="s2">"disruptions"</span>: <span class="o">[</span>
        <span class="c">#list of linked disruptions</span>
<span class="o">]</span>,
<span class="s2">"line_reports"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"line"</span>: <span class="o">{</span>
            <span class="c">#main object (line) and links within its own disruptions</span>
        <span class="o">}</span>
        <span class="s2">"pt_objects"</span>: <span class="o">[</span>
            <span class="c">#list of all disrupted objects related to the line: stop_area, networks, etc...</span>
        <span class="o">]</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="c">#Another line with its objects</span>
    <span class="o">}</span>
<span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p>This service provides the state of public transport traffic, grouped by lines and all their stops.<br>It can be called for an overall coverage or for a specific object.<br>Can be accessed via: <a href="https://api.navitia.io/v1/%7Ba_path_to_a_resource%7D/line_reports">https://api.navitia.io/v1/{a_path_to_a_resource}/line_reports</a>.</p>

<p><img src="images/traffic_reports-5acecb41.png" alt="Traffic reports" width="300"/></p>
<h3 id='parameters-9'>Parameters</h3>
<p>For example:</p>

<ul>
<li>  overall public transport line report on Ile de France coverage

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/line_reports">https://api.navitia.io/v1/coverage/fr-idf/line_reports</a></li>
</ul></li>
<li>  Is there any perturbations on the RER network?

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/line_reports">https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/line_reports</a></li>
</ul></li>
<li>  Is there any perturbations on the &quot;RER A&quot; line?

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/lines/line:TRN:DUA810801043/line_reports">https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/lines/line:TRN:DUA810801043/line_reports</a></li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>no</td>
<td>since</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Only display active disruptions after this date</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>until</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Only display active disruptions before this date</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>count</td>
<td>int</td>
<td>Maximum number of results.</td>
<td>25</td>
</tr>
<tr>
<td>no</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>no</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>disable_geojson</td>
<td>boolean</td>
<td>remove geojson fields from the response</td>
<td>false</td>
</tr>
</tbody></table>

<p>The response is made of an array of <a href="#line-reports">line_reports</a>,
and another one of <a href="#disruption">disruptions</a>.</p>

<p>There are inner links between this 2 arrays:
see the <a href="#inner-references">inner-reference</a> section to use them.</p>
<h3 id='line-report-object'>Line report object</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#links between objects in a line_reports response</span>
<span class="o">{</span>
  <span class="s2">"disruptions"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"status"</span>: <span class="s2">"active"</span>,
      <span class="s2">"id"</span>: <span class="s2">"17283fae-7dcf-11e8-898e-005056a47b86"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"status"</span>: <span class="s2">"active"</span>,
      <span class="s2">"id"</span>: <span class="s2">"140a9970-0c9b-11e8-b2b6-005056a44da2"</span>
    <span class="o">}</span>
  <span class="o">]</span>,
  <span class="s2">"line_reports"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"line"</span>: <span class="o">{</span>
        <span class="s2">"links"</span>: <span class="o">[]</span>,
        <span class="s2">"id"</span>: <span class="s2">"line:1"</span>
      <span class="o">}</span>,
      <span class="s2">"pt_objects"</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">"embedded_type"</span>: <span class="s2">"stop_point"</span>,
          <span class="s2">"stop_point"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"SP 1"</span>,
            <span class="s2">"links"</span>: <span class="o">[</span>
              <span class="o">{</span>
                <span class="s2">"internal"</span>: <span class="nb">true</span>,
                <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
                <span class="s2">"id"</span>: <span class="s2">"140a9970-0c9b-11e8-b2b6-005056a44da2"</span>,
                <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                <span class="s2">"templated"</span>: <span class="nb">false</span>
              <span class="o">}</span>
            <span class="o">]</span>,
          <span class="s2">"id"</span>: <span class="s2">"stop_point:1"</span>
          <span class="o">}</span>
        <span class="o">}</span>
      <span class="o">]</span>
    <span class="o">}</span>,
    <span class="o">{</span>
    <span class="s2">"line"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: <span class="s2">"line:CAE:218"</span>,
        <span class="s2">"links"</span>: <span class="o">[</span>
              <span class="o">{</span>
                <span class="s2">"internal"</span>: <span class="nb">true</span>,
                <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
                <span class="s2">"id"</span>: <span class="s2">"17283fae-7dcf-11e8-898e-005056a47b86"</span>,
                <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                <span class="s2">"templated"</span>: <span class="nb">false</span>
              <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>,
    <span class="s2">"pt_objects"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"embedded_type"</span>: <span class="s2">"line"</span>,
            <span class="s2">"line"</span>: <span class="o">{</span>
                <span class="s2">"id"</span>: <span class="s2">"line:CAE:218"</span>,
                <span class="s2">"links"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                        <span class="s2">"internal"</span>: <span class="nb">true</span>,
                        <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
                        <span class="s2">"id"</span>: <span class="s2">"17283fae-7dcf-11e8-898e-005056a47b86"</span>,
                        <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                        <span class="s2">"templated"</span>: <span class="nb">false</span>
                    <span class="o">}</span>
                <span class="o">]</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
<span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p>Line_reports is an array of some line_report object.</p>

<p>One Line_report object is a complex object, made of a line, and an array
of <a href="#pt-objects">pt_objects</a> linked (for example stop_areas, stop_point or network).</p>
<h4 id='what-a-complete-response-means'> What a <strong>complete</strong> response <strong>means</strong></h4>
<ul>
<li>  multiple line_reports

<ul>
<li>  line 1

<ul>
<li>  stop area concorde &gt; internal link to disruption &quot;green&quot;</li>
<li>  stop area bastille &gt; internal link to disruption &quot;pink&quot;</li>
</ul></li>
<li>  line 2 &gt; internal link to disruption &quot;blue&quot;

<ul>
<li>  network RATP &gt; internal link to disruption &quot;green&quot;</li>
<li>  line 2 &gt; internal link to disruption &quot;blue&quot;</li>
</ul></li>
<li>  line 3 &gt; internal link to disruption &quot;yellow&quot;

<ul>
<li>  stop point bourse &gt; internal link to disruption &quot;yellow&quot;</li>
</ul></li>
</ul></li>
<li>  multiple disruptions (disruption target links)

<ul>
<li>  disruption &quot;green&quot;</li>
<li>  disruption &quot;pink&quot;</li>
<li>  disruption &quot;blue&quot;</li>
<li>  disruption &quot;yellow&quot;</li>
<li>  Each disruption contains the messages to show.</li>
</ul></li>
</ul>

<p>Details for disruption objects: <a href="#disruptions">disruptions</a></p>
<h4 id='what-a-line_report-object-contains'>What a line_report object <strong>contains</strong></h4>
<ul>
<li>  1 line which is the grouping object

<ul>
<li>  it can contain links to its disruptions.<br>These disruptions are globals and might not be applied on stop_areas and stop_points.</li>
</ul></li>
<li>  1..n pt_objects

<ul>
<li>  each one contains at least a link to its disruptions.</li>
</ul></li>
</ul>

<h2 id="traffic-reports">Traffic reports</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/traffic_reports'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response, composed by 2 main lists: "traffic_reports" and "disruptions"</span>
HTTP/1.1 200 OK

<span class="o">{</span>
<span class="s2">"traffic_reports"</span>: <span class="o">[</span>
        <span class="s2">"network"</span>: <span class="o">{</span>
        <span class="c">#main object (network) and links within its own disruptions</span>
        <span class="o">}</span>,
        <span class="s2">"lines"</span>: <span class="o">[</span>
        <span class="c">#list of all disrupted lines from the network and disruptions links</span>
        <span class="o">]</span>,
        <span class="s2">"stop_areas"</span>: <span class="o">[</span>
        <span class="c">#list of all disrupted stop_areas from the network and disruptions links</span>
        <span class="o">]</span>,
    <span class="o">]</span>,[
        <span class="c">#another network with its lines and stop areas</span>
    <span class="o">]</span>,
<span class="s2">"disruptions"</span>: <span class="o">[</span>
        <span class="c">#list of linked disruptions</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p>Also known as <code>/traffic_reports</code> service.</p>

<p>This service provides the state of public transport traffic, grouped by network.<br>It can be called for an overall coverage or for a specific object.<br>Can be accessed via: <a href="https://api.navitia.io/v1/%7Ba_path_to_a_resource%7D/traffic_reports">https://api.navitia.io/v1/{a_path_to_a_resource}/traffic_reports</a></p>
<h3 id='parameters-10'>Parameters</h3>
<p>For example:</p>

<ul>
<li>  overall public transport traffic report on Ile de France coverage

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/traffic_reports">https://api.navitia.io/v1/coverage/fr-idf/traffic_reports</a></li>
</ul></li>
<li>  Is there any perturbations on the RER network?

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/traffic_reports">https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/traffic_reports</a></li>
</ul></li>
<li>  Is there any perturbations on the &quot;RER A&quot; line?

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/lines/line:OIF:810:AOIF741/line_reports?">https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/lines/line:OIF:810:AOIF741/line_reports?</a></li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>no</td>
<td>since</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Only display active disruptions after this date</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>until</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Only display active disruptions before this date</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>count</td>
<td>int</td>
<td>Maximum number of results.</td>
<td>10</td>
</tr>
<tr>
<td>no</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>no</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>disable_geojson</td>
<td>boolean</td>
<td>remove geojson fields from the response</td>
<td>false</td>
</tr>
</tbody></table>

<p>The response is made of an array of <a href="#traffic-reports">traffic_reports</a>,
and another one of <a href="#disruption">disruptions</a>.</p>

<p>There are inner links between this 2 arrays:
see the <a href="#inner-references">inner-reference</a> section to use them.</p>
<h3 id='traffic-report-object'>Traffic report object</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#links between objects in a traffic_reports response</span>
<span class="o">{</span>
<span class="s2">"traffic_reports"</span>: <span class="o">[</span>
    <span class="o">{</span>
    <span class="s2">"network"</span>: <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"bob"</span>, <span class="s2">"links"</span>: <span class="o">[]</span>, <span class="s2">"id"</span>: <span class="s2">"network:bob"</span><span class="o">}</span>,
    <span class="s2">"lines"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">"1"</span>,
        ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-green"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}</span> <span class="o">]</span>
        <span class="o">}</span>,
        <span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">"12"</span>,
        ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-pink"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
        <span class="o">}</span>,
    <span class="o">]</span>,
    <span class="s2">"stop_areas"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"name"</span>: <span class="s2">"bobito"</span>,
        ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-red"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
        <span class="o">}</span>
    <span class="o">]</span>
    <span class="o">}</span>,<span class="o">{</span>
    <span class="s2">"network"</span>: <span class="o">{</span>
        <span class="s2">"name"</span>: <span class="s2">"bobette"</span>,
        <span class="s2">"id"</span>: <span class="s2">"network:bobette"</span>,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-blue"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
    <span class="o">}</span>,
    <span class="s2">"lines"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">"A"</span>,
        ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-green"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}</span> <span class="o">]</span>
        <span class="o">}</span>,
        <span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">"C"</span>,
        ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-yellow"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
        <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"stop_areas"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"name"</span>: <span class="s2">"bobito"</span>,
        ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-red"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
        <span class="o">}</span>
    <span class="o">]</span>
    <span class="o">}</span>
<span class="o">]</span>,
<span class="s2">"disruptions"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"active"</span>,
        <span class="s2">"severity"</span>: <span class="o">{</span><span class="s2">"color"</span>: <span class="s2">""</span>, <span class="s2">"priority"</span>: 4, <span class="s2">"name"</span>: <span class="s2">"Information"</span>, <span class="s2">"effect"</span>: <span class="s2">"UNKNOWN_EFFECT"</span><span class="o">}</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"green, super green"</span>, ...<span class="o">}</span> <span class="o">]</span>,
        <span class="s2">"id"</span>: <span class="s2">"link-to-green"</span><span class="o">}</span>,
        ...
    <span class="o">}</span>,<span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"futur"</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"pink, floyd pink"</span>, ... <span class="o">}</span> <span class="o">]</span>,
        <span class="s2">"id"</span>: <span class="s2">"link-to-pink"</span><span class="o">}</span>,
        ...
    <span class="o">}</span>,<span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"futur"</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"red, mine"</span>, ... <span class="o">}</span> <span class="o">]</span>,
        <span class="s2">"id"</span>: <span class="s2">"link-to-red"</span><span class="o">}</span>,
        ...
    <span class="o">}</span>,<span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"futur"</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"blue, grass"</span>, ... <span class="o">}</span> <span class="o">]</span>,
        <span class="s2">"id"</span>: <span class="s2">"link-to-blue"</span><span class="o">}</span>,
        ...
    <span class="o">}</span>,<span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"futur"</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"yellow, submarine"</span>, ... <span class="o">}</span>
        <span class="s2">"id"</span>: <span class="s2">"link-to-yellow"</span><span class="o">}</span>,
        ...<span class="o">}</span>
    <span class="o">]</span>,
<span class="s2">"link"</span>: <span class="o">{</span> ... <span class="o">}</span>,
<span class="s2">"pagination"</span>: <span class="o">{</span> ... <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<p>Traffic_reports is an array of some traffic_report object.</p>

<p>One traffic_report object is a complex object, made of a network, an array
of lines and an array of stop_areas.</p>
<h4 id='what-a-complete-response-means-2'> What a <strong>complete</strong> response <strong>means</strong></h4>
<ul>
<li>  multiple traffic_reports

<ul>
<li>  network &quot;bob&quot;

<ul>
<li>  line &quot;1&quot; &gt; internal link to disruption &quot;green&quot;</li>
<li>  line &quot;12&quot; &gt; internal link to disruption &quot;pink&quot;</li>
<li>  stop_area &quot;bobito&quot; &gt; internal link to disruption &quot;red&quot;</li>
</ul></li>
<li>  network &quot;bobette&quot; &gt; internal link to disruption &quot;blue&quot;

<ul>
<li>  line &quot;A&quot; &gt; internal link to disruption &quot;green&quot;</li>
<li>  line &quot;C&quot; &gt; internal link to disruption &quot;yellow&quot;</li>
<li>  stop_area &quot;bobito&quot; &gt; internal link to disruption &quot;red&quot;</li>
</ul></li>
</ul></li>
<li>  multiple disruptions (disruption target links)

<ul>
<li>  disruption &quot;green&quot;</li>
<li>  disruption &quot;pink&quot;</li>
<li>  disruption &quot;red&quot;</li>
<li>  disruption &quot;blue&quot;</li>
<li>  disruption &quot;yellow&quot;</li>
<li>  Each disruption contains the messages to show.</li>
</ul></li>
</ul>

<p>Details for disruption objects: <a href="#disruptions">disruptions</a></p>
<h4 id='what-a-traffic_report-object-contains'>What a traffic_report object <strong>contains</strong></h4>
<ul>
<li>  1 network which is the grouping object

<ul>
<li>  it can contain links to its disruptions.<br>These disruptions are globals and might not be applied on lines or stop_areas.</li>
</ul></li>
<li>  0..n lines

<ul>
<li>  each line contains at least a link to its disruptions</li>
</ul></li>
<li>  0..n stop_areas

<ul>
<li>  each stop_area contains at least a link to its disruptions<br>If a stop_area is used by multiple networks, it will appear each time.</li>
</ul></li>
</ul>
<h2 id='equipment_reports'>Equipment_Reports</h2><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/&lt;my_coverage&gt;/equipment_reports'</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># response, composed by 1 main list: "equipment_reports"</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"equipment_reports"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"line"</span>: <span class="o">{</span>15 items<span class="o">}</span>,
            <span class="s2">"stop_area_equipments"</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">"equipment_details"</span>: <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s2">"current_availability"</span>: <span class="o">{</span>
                                <span class="s2">"cause"</span>: <span class="o">{</span>
                                    <span class="s2">"label"</span>: <span class="s2">"engineering work in progress"</span>
                                <span class="o">}</span>,
                                <span class="s2">"effect"</span>: <span class="o">{</span>
                                    <span class="s2">"label"</span>: <span class="s2">"platform 3 available via stairs only"</span>
                                <span class="o">}</span>,
                                <span class="s2">"periods"</span>: <span class="o">[</span>
                                    <span class="o">{</span>
                                        <span class="s2">"begin"</span>: <span class="s2">"20190216T000000"</span>,
                                        <span class="s2">"end"</span>: <span class="s2">"20190601T220000"</span>
                                    <span class="o">}</span>
                                <span class="o">]</span>,
                                <span class="s2">"status"</span>: <span class="s2">"unavailable"</span>,
                                <span class="s2">"updated_at"</span>: <span class="s2">"2019-05-17T15:54:53+02:00"</span>
                            <span class="o">}</span>
                        <span class="s2">"embedded_type"</span>: <span class="s2">"escalator"</span>,
                        <span class="s2">"id"</span>: <span class="s2">"2702"</span>,
                        <span class="s2">"name"</span>: <span class="s2">"du quai direction Vaulx-en-Velin La Soie  jusqu'à la sortie B"</span>,
                        <span class="o">}</span>,
                    <span class="o">]</span>
                    <span class="s2">"stop_area"</span>: <span class="o">{</span>9 items<span class="o">}</span>,
                <span class="o">}</span>,
            <span class="o">]</span>
        <span class="o">}</span>,
    <span class="o">]</span>,
<span class="o">}</span>
</code></pre></div>
<p>Also known as the <code>&quot;/equipment_reports&quot;</code> service.</p>

<p>This service provides the state of equipments such as lifts or elevators that are giving you better accessibility to public transport facilities.<br>The endpoint will report accessible equipment per stop area and per line. Which means that an equipment detail is reported at the stop area level, with all stop areas gathered per line.<br>Some of the fields (cause, effect, periods etc...) are only displayed if a realtime equipment provider is setup with available data. Otherwise, only information provided by the NTFS will be reported.<br>For more information, refer to <a href="#equipment-reports">Equipment reports</a> API description.<br>Can be accessed via: <a href="https://api.navitia.io/v1/%7Ba_path_to_a_resource%7D/equipment_reports">https://api.navitia.io/v1/{a_path_to_a_resource}/equipment_reports</a></p>

<aside class="warning">
    This feature requires a specific configuration from a equipment service provider.
    Therefore this service is not available by default.
</aside>
<h3 id='parameters-11'>Parameters</h3>
<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>no</td>
<td>count</td>
<td>int</td>
<td>Elements per page</td>
<td>10</td>
</tr>
<tr>
<td>no</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>no</td>
<td>filter</td>
<td>string</td>
<td>A <a href="#filter">filter</a> to refine your request</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>start_page</td>
<td>int</td>
<td>The page number (cf. the <a href="#paging">paging section</a>)</td>
<td>0</td>
</tr>
</tbody></table>
<h1 id='objects'>Objects</h1><h2 id='standard-objects'>Standard Objects</h2><h3 id='coord'>Coord</h3>
<p>Lots of object are geographically localized:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>lon</td>
<td>float</td>
<td>Longitude</td>
</tr>
<tr>
<td>lat</td>
<td>float</td>
<td>Latitude</td>
</tr>
</tbody></table>
<h3 id='iso-date-time'>Iso-date-time</h3>
<p>Navitia</p>

<ul>
<li>  exposes every date times as local times of the coverage via an ISO 8601 &quot;YYYYMMDDThhmmss&quot; string</li>
<li>  can be requested using local times of the coverage via ISO 8601 as &quot;YYYYMMDDThhmmss&quot; or &quot;YYYY-MM-DDThh:mm:ss&quot;</li>
<li>  can be requested using UTC relative times via ISO 8601 as &quot;YYYYMMDDThhmmss+HHMM&quot; or &quot;YYYY-MM-DDThh:mm:ss+HH:MM&quot;</li>
<li>  can be requested using UTC times via ISO 8601 as &quot;YYYYMMDDThhmmssZ&quot; or &quot;YYYY-MM-DDThh:mm:ssZ&quot;</li>
</ul>

<p><a href="#context">Context</a> object provides the Timezone, useful to interpret datetimes of the response.</p>

<p>For example:</p>

<ul>
<li><a href="https://api.navitia.io/v1/journeys?from=bob&to=bobette&datetime=20140425T1337">https://api.navitia.io/v1/journeys?from=bob&amp;to=bobette&amp;datetime=20140425T1337</a></li>
<li><a href="https://api.navitia.io/v1/journeys?from=bob&to=bobette&datetime=2014-04-25T13:37+02:00">https://api.navitia.io/v1/journeys?from=bob&amp;to=bobette&amp;datetime=2014-04-25T13:37+02:00</a></li>
<li><a href="https://api.navitia.io/v1/journeys?from=bob&to=bobette&datetime=2014-04-25T13:37:42Z">https://api.navitia.io/v1/journeys?from=bob&amp;to=bobette&amp;datetime=2014-04-25T13:37:42Z</a></li>
</ul>

<p>There are lots of ISO 8601 libraries in every kind of language that you should use before breaking down <a href="https://youtu.be/-5wpm-gesOY">https://youtu.be/-5wpm-gesOY</a></p>
<h3 id='iso-date'>Iso-date</h3>
<p>The date are represented in ISO 8601 &quot;YYYYMMDD&quot; string.</p>
<h2 id='public-transport-objects'>Public transport objects</h2><h3 id='network'><a name="network"></a>Network</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"network:RAT:1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"RATP"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Networks are fed by agencies in GTFS format.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the network</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the network</td>
</tr>
</tbody></table>
<h3 id='line'><a name="line"></a>Line</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"line:RAT:M6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Nation - Charles de Gaule Etoile"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"color"</span><span class="p">:</span><span class="s2">"79BB92"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"opening_time"</span><span class="p">:</span><span class="s2">"053000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closing_time"</span><span class="p">:</span><span class="s2">"013600"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"routes"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"commercial_mode"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"commercial_mode:Metro"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Metro"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"physical_modes"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Métro"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"physical_mode:Metro"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the line</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the line</td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td>Code name of the line</td>
</tr>
<tr>
<td>color</td>
<td>string</td>
<td>Color of the line</td>
</tr>
<tr>
<td>opening_time</td>
<td>string</td>
<td>Opening hour at format HHMMSS</td>
</tr>
<tr>
<td>closing_time</td>
<td>string</td>
<td>Closing hour at format HHMMSS</td>
</tr>
<tr>
<td>routes</td>
<td>array of <a href="#route">route</a></td>
<td>Routes of the line</td>
</tr>
<tr>
<td>commercial_mode</td>
<td><a href="#commercial-mode">commercial_mode</a></td>
<td>Commercial mode of the line</td>
</tr>
<tr>
<td>physical_modes</td>
<td>array of <a href="#physical-mode">physical_mode</a></td>
<td>Physical modes of the line</td>
</tr>
</tbody></table>
<h3 id='route'><a name="route"></a>Route</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"route:RAT:M6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Nation - Charles de Gaule Etoile"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"is_frequence"</span><span class="p">:</span><span class="s2">"False"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"line"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"line:RAT:M6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Nation - Charles de Gaule Etoile"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"stop_area:RAT:SA:GAUET"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Charles de Gaulle - Etoile (Paris)"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the route</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the route</td>
</tr>
<tr>
<td>is_frequence</td>
<td>enum</td>
<td>If the route has frequency or not. Can only be &quot;False&quot;, but may be &quot;True&quot; in the future</td>
</tr>
<tr>
<td>line</td>
<td><a href="#line">line</a></td>
<td>The line of this route</td>
</tr>
<tr>
<td>direction</td>
<td><a href="#place">place</a></td>
<td>The direction of this route</td>
</tr>
</tbody></table>

<p>As &quot;direction&quot; is a <a href="#place">place</a> , it can be a poi in some data.</p>
<h3 id='stop-point'><a name="stop-point"></a>Stop Point</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"stop_point:RAT:SP:GARIB2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Garibaldi"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"Garibaldi (Saint-Ouen)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"coord"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"lat"</span><span class="p">:</span><span class="s2">"48.906032"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lon"</span><span class="p">:</span><span class="s2">"2.331733"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"administrative_regions"</span><span class="p">:[{</span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">}],</span><span class="w">
    </span><span class="nl">"equipments"</span><span class="p">:[{</span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">}],</span><span class="w">
    </span><span class="nl">"stop_area"</span><span class="p">:{</span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the stop point</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the stop point</td>
</tr>
<tr>
<td>coord</td>
<td><a href="#coord">coord</a></td>
<td>Coordinates of the stop point</td>
</tr>
<tr>
<td>administrative_regions</td>
<td>array of <a href="#admin">admin</a></td>
<td>Administrative regions of the stop point in which is the stop point</td>
</tr>
<tr>
<td>equipments</td>
<td>array of string</td>
<td>list of <a href="#equipment">equipment</a> of the stop point</td>
</tr>
<tr>
<td>stop_area</td>
<td><a href="#stop-area">stop_area</a></td>
<td>Stop Area containing this stop point</td>
</tr>
</tbody></table>
<h3 id='stop-area'><a name="stop-area"></a>Stop Area</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"stop_area:RAT:SA:GAUET"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Charles de Gaulle - Etoile"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"Charles de Gaulle - Etoile (Paris)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"coord"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"lat"</span><span class="p">:</span><span class="s2">"48.874408"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lon"</span><span class="p">:</span><span class="s2">"2.295763"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"administrative_regions"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the stop area</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the stop area</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>Label of the stop area. The name is directly taken from the data whereas the label is something we compute for better traveler information. If you don&#39;t know what to display, display the label.</td>
</tr>
<tr>
<td>coord</td>
<td><a href="#coord">coord</a></td>
<td>Coordinates of the stop area</td>
</tr>
<tr>
<td>administrative_regions</td>
<td>array of <a href="#admin">admin</a></td>
<td>Administrative regions of the stop area in which is the stop area</td>
</tr>
<tr>
<td>stop_points</td>
<td>array of <a href="#stop-point">stop_point</a></td>
<td>Stop points contained in this stop area</td>
</tr>
</tbody></table>
<h3 id='commercial-mode'><a name="commercial-mode"></a>Commercial Mode</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"commercial_mode:Metro"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Metro"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the commercial mode</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the commercial mode</td>
</tr>
<tr>
<td>physical_modes</td>
<td>array of <a href="#physical-mode">physical_mode</a></td>
<td>Physical modes of this commercial mode</td>
</tr>
</tbody></table>

<p>Commercial modes are close from physical modes, but not normalized and can refer to a brand,
something that can be specific to a network, and known to the traveler.
Examples: RER in Paris, Busway in Nantes, and also of course Bus, Métro, etc.</p>

<p>Integrators should mainly use that value for text output to the traveler.</p>
<h3 id='physical-mode'><a name="physical-mode"></a>Physical Mode</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"physical_mode:Tramway"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Tramway"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the physical mode</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the physical mode</td>
</tr>
<tr>
<td>commercial_modes</td>
<td>array of <a href="#commercial-mode">commercial_mode</a></td>
<td>Commercial modes of this physical mode</td>
</tr>
</tbody></table>

<p>Physical modes are fastened and normalized (though the list can -rarely- be extended).
So it&#39;s easier for integrators to map it to a pictogram, but prefer <a href="#commercial-mode">commercial_mode</a> for a text output.</p>

<p>The idea is to use physical modes when building a request to Navitia,
and commercial modes when building an output to the traveler.</p>

<p>Example: If you want to propose modes filter in your application, you should use <a href="#physical-mode">physical_mode</a> rather than
<a href="#commercial-mode">commercial_mode</a>.</p>

<p>Here is the valid id list:</p>

<ul>
<li>  physical_mode:Air</li>
<li>  physical_mode:Boat</li>
<li>  physical_mode:Bus</li>
<li>  physical_mode:BusRapidTransit</li>
<li>  physical_mode:Coach</li>
<li>  physical_mode:Ferry</li>
<li>  physical_mode:Funicular</li>
<li>  physical_mode:LocalTrain</li>
<li>  physical_mode:LongDistanceTrain</li>
<li>  physical_mode:Metro</li>
<li>  physical_mode:RailShuttle</li>
<li>  physical_mode:RapidTransit</li>
<li>  physical_mode:Shuttle</li>
<li>  physical_mode:SuspendedCableCar</li>
<li>  physical_mode:Taxi</li>
<li>  physical_mode:Train</li>
<li>  physical_mode:Tramway</li>
</ul>

<p>You can use these ids in the forbidden_uris[] parameter from
<a href="#journeys-parameters">journeys parameters</a> for example.</p>
<h3 id='company'><a name="company"></a>Company</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company:RAT:1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RATP"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the company</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the company</td>
</tr>
</tbody></table>
<h3 id='place'><a name="place"></a>Place</h3>
<p>A container containing either a <a href="#admin">admin</a>, <a href="#poi">poi</a>, <a href="#address">address</a>, <a href="#stop-area">stop_area</a> or
<a href="#stop-point">stop_point</a></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin:2191338"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Quartier des Épinettes (75017)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quality"</span><span class="p">:</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w">
    </span><span class="nl">"embedded_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"administrative_region"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"administrative_region"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>The id of the embedded object</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the embedded object</td>
</tr>
<tr>
<td>quality</td>
<td>integer</td>
<td>The quality of the place</td>
</tr>
<tr>
<td>embedded_type</td>
<td><a href="#place-embedded-type">place embedded_type</a></td>
<td>The type of the embedded object</td>
</tr>
<tr>
<td>administrative_region</td>
<td><a href="#admin">admin</a></td>
<td>Embedded administrative region</td>
</tr>
<tr>
<td>stop_area</td>
<td><a href="#stop-area">stop_area</a></td>
<td>Embedded Stop area</td>
</tr>
<tr>
<td>poi</td>
<td><a href="#poi">poi</a></td>
<td>Embedded poi</td>
</tr>
<tr>
<td>address</td>
<td><a href="#address">address</a></td>
<td>Embedded address</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>Embedded Stop point</td>
</tr>
</tbody></table>
<h3 id='trip'><a name="trip"></a>Trip</h3>
<p>A trip corresponds to a scheduled vehicle circulation (and all its linked real-time and disrupted routes).</p>

<p>Example: a train, routing a Paris to Lyon itinerary every day at 06h29, is the &quot;Trip&quot; named &quot;6641&quot;.</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OIF:67308746-10-1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"67308746"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>The id of the trip</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the trip</td>
</tr>
</tbody></table>

<p>It encapsulates many instances of vehicle_journey.</p>
<h3 id='vehicle-journey'><a name="vehicle-journey"></a>Vehicle-journey</h3>
<p>A vehicle-journey describes a scheduled vehicle circulation, the days on which it circulates according to base-schedule,
the days it circulates according to realtime information.</p>

<p>Note that multiple vehicle-journeys are often associated with the same trip for technical and logical
reasons (to model the daylight saving time, for the changes after applying realtime disruptions, etc.).</p>

<p>The collection is accessible with the url:</p>

<p><code>https://api.navitia.io/v1/coverage/sandbox/trips/{trip.id}/vehicle_journeys</code>.</p>

<p>Note: this collection is mostly used for debug and technical purposes.</p>
<h3 id='pt_object'><a name="pt-object"></a>Pt_object</h3>
<p>A container containing either a <a href="#network">network</a>, <a href="#commercial-mode">commercial_mode</a>, <a href="#line">line</a>, <a href="#route">route</a>,
<a href="#stop-point">stop_point</a>, <a href="#stop-area">stop_area</a>, <a href="#trip">trip</a></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OCE:SN009862F01013"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OCE:SN009862F01013"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quality"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"embedded_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trip"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trip"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OCE:SN009862F01013"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9862"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>The id of the embedded object</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the embedded object</td>
</tr>
<tr>
<td>quality</td>
<td>integer</td>
<td>The quality of the object</td>
</tr>
<tr>
<td>embedded_type</td>
<td><a href="#pt-object-embedded-type">pt-object embedded_type</a></td>
<td>The type of the embedded object</td>
</tr>
<tr>
<td>stop_area</td>
<td><a href="#stop-area">stop_area</a></td>
<td>Embedded Stop area</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>Embedded Stop point</td>
</tr>
<tr>
<td>network</td>
<td><a href="#network">network</a></td>
<td>Embedded network</td>
</tr>
<tr>
<td>commercial_mode</td>
<td><a href="#commercial-mode">commercial_mode</a></td>
<td>Embedded commercial_mode</td>
</tr>
<tr>
<td>stop_area</td>
<td><a href="#stop-area">stop_area</a></td>
<td>Embedded Stop area</td>
</tr>
<tr>
<td>line</td>
<td><a href="#line">line</a></td>
<td>Embedded line</td>
</tr>
<tr>
<td>route</td>
<td><a href="#route">route</a></td>
<td>Embedded route</td>
</tr>
<tr>
<td>trip</td>
<td><a href="#trip">trip</a></td>
<td>Embedded trip</td>
</tr>
</tbody></table>
<h2 id='real-time-and-disruption-objects'>Real time and disruption objects</h2><h3 id='disruption'><a name="disruption"></a>Disruption</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce7e265d-5762-45b6-ab4d-a1df643dd48d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"disruption_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce7e265d-5762-45b6-ab4d-a1df643dd48d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"impact_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce7e265d-5762-45b6-ab4d-a1df643dd48d"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"severity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trip delayed"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SIGNIFICANT_DELAYS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"application_periods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"begin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20160608T215400"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20160608T230959"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Strike"</span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20160617T132624"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"impacted_objects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"cause"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cause..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"incident"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Id of the disruption</td>
</tr>
<tr>
<td>status</td>
<td>between: &quot;past&quot;, &quot;active&quot; or &quot;future&quot;</td>
<td>state of the disruption. The state is computed using the application_periods of the disruption and the current time of the query.</td>
</tr>
<tr>
<td>disruption_id</td>
<td>string</td>
<td>for traceability: Id of original input disruption</td>
</tr>
<tr>
<td>impact_id</td>
<td>string</td>
<td>for traceability: Id of original input impact</td>
</tr>
<tr>
<td>severity</td>
<td><a href="#severity">severity</a></td>
<td>gives some categorization element</td>
</tr>
<tr>
<td>application_periods</td>
<td>array of <a href="#period">period</a></td>
<td>dates where the current disruption is active</td>
</tr>
<tr>
<td>messages</td>
<td>array of <a href="#message">message</a></td>
<td>texts to provide to the traveler</td>
</tr>
<tr>
<td>updated_at</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>date_time of last modifications</td>
</tr>
<tr>
<td>impacted_objects</td>
<td>array of <a href="#impacted-object">impacted_object</a></td>
<td>The list of public transport objects which are affected by the disruption</td>
</tr>
<tr>
<td>cause</td>
<td>string</td>
<td>why is there such a disruption?</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>The category of the disruption, such as &quot;construction works&quot; or &quot;incident&quot;</td>
</tr>
<tr>
<td>contributor</td>
<td>string</td>
<td>The source from which Navitia received the disruption</td>
</tr>
<tr>
<td>uri</td>
<td>string</td>
<td>deprecated</td>
</tr>
<tr>
<td>disruption_uri</td>
<td>string</td>
<td>deprecated</td>
</tr>
</tbody></table>
<h3 id='impacted_object'><a name="impacted-object"></a>Impacted_object</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"pt_object"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id_of_the_line"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name of a lne"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"embedded_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"line"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"line"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"impacted_section"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pt_object</td>
<td><a href="#pt-object">pt_object</a></td>
<td>The impacted public transport object</td>
</tr>
<tr>
<td>impacted_section</td>
<td><a href="#impacted-section">impacted_section</a></td>
<td>Only for line section impact, the impacted section</td>
</tr>
<tr>
<td>impacted_stops</td>
<td>array of <a href="#impacted-stop">impacted_stop</a></td>
<td>Only for <a href="#trip">trip</a> delay, the list of delays, stop by stop</td>
</tr>
</tbody></table>
<h3 id='impacted_section'><a name="impacted-section"></a>Impacted_section</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"embedded_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop_area"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stop_area"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"embedded_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop_area"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"stop_area"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td><a href="#pt-object">pt_object</a></td>
<td>The beginning of the section</td>
</tr>
<tr>
<td>to</td>
<td><a href="#pt-object">pt_object</a></td>
<td>The end of the section. This can be the same as <code>from</code> when only one point is impacted</td>
</tr>
<tr>
<td>routes</td>
<td><a href="#route">route</a></td>
<td>The list of impacted routes by the impacted_section</td>
</tr>
</tbody></table>
<h3 id='impacted_stop'><a name="impacted-stop"></a>Impacted_stop</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"stop_point"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"amended_departure_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"073600"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_arrival_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"073600"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"base_departure_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"073600"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cause"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stop_time_effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"delayed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"departure_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"delayed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arrival_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deleted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>The impacted stop point of the trip</td>
</tr>
<tr>
<td>amended_departure_time</td>
<td>string</td>
<td>New departure hour (format HHMMSS) of the trip on this stop point</td>
</tr>
<tr>
<td>amended_arrival_time</td>
<td>string</td>
<td>New arrival hour (format HHMMSS) of the trip on this stop point</td>
</tr>
<tr>
<td>base_departure_time</td>
<td>string</td>
<td>Base departure hour (format HHMMSS) of the trip on this stop point</td>
</tr>
<tr>
<td>base_arrival_time</td>
<td>string</td>
<td>Base arrival hour (format HHMMSS) of the trip on this stop point</td>
</tr>
<tr>
<td>cause</td>
<td>string</td>
<td>Cause of the modification</td>
</tr>
<tr>
<td>stop_time_effect</td>
<td>Enum</td>
<td>Can be: &quot;added&quot;, &quot;deleted&quot;, &quot;delayed&quot; or &quot;unchanged&quot;. <em>Deprecated</em>, consider the more accurate departure_status and arrival_status</td>
</tr>
<tr>
<td>arrival_status</td>
<td>Enum</td>
<td>Can be: &quot;added&quot;, &quot;deleted&quot;, &quot;delayed&quot; or &quot;unchanged&quot;.</td>
</tr>
<tr>
<td>departure_status</td>
<td>Enum</td>
<td>Can be: &quot;added&quot;, &quot;deleted&quot;, &quot;delayed&quot; or &quot;unchanged&quot;.</td>
</tr>
</tbody></table>
<h3 id='message'>Message</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Strike"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>text</td>
<td>string</td>
<td>a message to bring to a traveler</td>
</tr>
<tr>
<td>channel</td>
<td><a href="#channel">channel</a></td>
<td>destination media. Be careful, no normalized enum for now</td>
</tr>
</tbody></table>
<h3 id='severity'>Severity</h3>
<p>Severity object can be used to make visual grouping.</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#FF0000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trip delayed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SIGNIFICANT_DELAYS"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>color</td>
<td>string</td>
<td>HTML color for classification</td>
</tr>
<tr>
<td>priority</td>
<td>integer</td>
<td>given by the agency: 0 is strongest priority. it can be null</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>name of severity</td>
</tr>
<tr>
<td>effect</td>
<td>Enum</td>
<td>Normalized value of the effect on the public transport object. See the GTFS RT documentation at <a href="https://gtfs.org/reference/realtime/v2/#enum-effect">https://gtfs.org/reference/realtime/v2/#enum-effect</a>. See also <a href="#realtime">realtime</a> section.</td>
</tr>
</tbody></table>
<h3 id='channel'>Channel</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text/html"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mobile"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the address</td>
</tr>
<tr>
<td>content_type</td>
<td>string</td>
<td>Like text/html, you know? Otherwise, take a look at <a href="http://www.w3.org/Protocols/rfc1341/4_Content-Type.html">http://www.w3.org/Protocols/rfc1341/4_Content-Type.html</a></td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>name of the Channel</td>
</tr>
</tbody></table>
<h3 id='period'>Period</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"begin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20160608T215400"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20160608T230959"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>begin</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Beginning date and time of an activity period</td>
</tr>
<tr>
<td>end</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Closing date and time of an activity period</td>
</tr>
</tbody></table>
<h2 id='street-network-objects'>Street network objects</h2><h3 id='poi-type'>Poi Type</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/poi_types'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre></div>
<p><code>/poi_types</code> lists groups of point of interest. You will find classifications as theater, offices or bicycle rental station for example.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the poi type</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the poi type</td>
</tr>
</tbody></table>
<h3 id='stands'>Stands</h3>
<p>A description of the number of stands/places and vehicles available at a bike sharing station.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>available_places</td>
<td>int</td>
<td>Number of places where one can park</td>
</tr>
<tr>
<td>available_bikes</td>
<td>int</td>
<td>Number of bikes available</td>
</tr>
<tr>
<td>total_stands</td>
<td>int</td>
<td>Total number of stands (occupied or not, with or without special equipment)</td>
</tr>
<tr>
<td>status</td>
<td>enum</td>
<td>Information about the station itself:<ul><li><code>unavailable</code>: Navitia is not able to obtain information about the station</li><li><code>open</code>: The station is open</li><li><code>closed</code>: The station is closed</li></ul></td>
</tr>
</tbody></table>
<h3 id='poi'><a name="poi"></a>Poi</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#useless request, with huge response</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/pois'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#inverted geocoding request, more usable</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/coords/2.377310;48.847002/pois'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#very smart request</span>
<span class="c">#combining filters to get some specific POIs, as bicycle rental stations,</span>
<span class="c">#nearby a coordinate</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/poi_types/poi_type:amenity:bicycle_rental/coords/2.377310;48.847002/pois'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre></div>
<p>Poi = Point Of Interest</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the poi</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the poi</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>Label of the poi. The name is directly taken from the data whereas the label is something we compute for better traveler information. If you don&#39;t know what to display, display the label.</td>
</tr>
<tr>
<td>poi_type</td>
<td><a href="#poi-type">poi_type</a></td>
<td>Type of the poi</td>
</tr>
<tr>
<td>stands</td>
<td><a href="#stands">stands</a></td>
<td>Information on the spots available, for BSS stations</td>
</tr>
</tbody></table>
<h3 id='access_point'><a name="access-point"></a>Access_point</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/access_points'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre></div>
<p>Access_point = point of access from the pavement to a station, a multimodal area.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the access point</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the access point</td>
</tr>
<tr>
<td>coord</td>
<td><a href="#coord">coord</a></td>
<td>Coordinates of the access point</td>
</tr>
<tr>
<td>access_point_code</td>
<td>string</td>
<td>Identifies the well-known code for the access_point</td>
</tr>
</tbody></table>

<p>You should labelized the access-point using &quot;access_point_code&quot; and &quot;name&quot;.
For example: &quot;follow the <code>access_point_code</code> - <code>name</code> to exit from <code>parent_station</code> &quot;</p>
<h3 id='pathway'><a name="pathway"></a>Pathway</h3>
<p>Pathway = indoor way from a stop point to an access point. It could be an entrance, an exit or both.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the access point</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the access point</td>
</tr>
<tr>
<td>is_entrance</td>
<td>boolean</td>
<td>Identifies whether the path is an entrance</td>
</tr>
<tr>
<td>is_exit</td>
<td>boolean</td>
<td>Identifies whether the path is an exit</td>
</tr>
<tr>
<td>length</td>
<td>int</td>
<td>Length of the path</td>
</tr>
<tr>
<td>traversal_time</td>
<td>int</td>
<td>Duration to walk the path when it&#39;s known</td>
</tr>
</tbody></table>

<p>You can find pathways in <a href="#journeys">journeys</a> service, where there is some &quot;vias&quot; in walking sections. &quot;Vias&quot; are &quot;pathways&quot; in navitia.</p>
<h3 id='address'>Address</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the address</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the address</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>Label of the address. The name is directly taken from the data whereas the label is something we compute for better traveler information. If you don&#39;t know what to display, display the label.</td>
</tr>
<tr>
<td>coord</td>
<td><a href="#coord">coord</a></td>
<td>Coordinates of the address</td>
</tr>
<tr>
<td>house_number</td>
<td>int</td>
<td>House number of the address</td>
</tr>
<tr>
<td>administrative_regions</td>
<td>array of <a href="#admin">admin</a></td>
<td>Administrative regions of the address in which is the stop area</td>
</tr>
</tbody></table>
<h3 id='administrative-region'><a name="admin"></a>Administrative region</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the address</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the address</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>Label of the administrative region. The name is directly taken from the data whereas the label is something we compute for better traveler information. If you don&#39;t know what to display, display the label.</td>
</tr>
<tr>
<td>coord</td>
<td><a href="#coord">coord</a></td>
<td>Coordinates of the address</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>Level of the admin</td>
</tr>
<tr>
<td>zip_code</td>
<td>string</td>
<td>Zip code of the admin</td>
</tr>
</tbody></table>

<p>Cities are mainly on the 8 level, dependant on the country
(<a href="http://wiki.openstreetmap.org/wiki/Tag:boundary%3Dadministrative">http://wiki.openstreetmap.org/wiki/Tag:boundary%3Dadministrative</a>)</p>
<h3 id='equipment-reports'><a name="equipment-reports"></a>Equipment reports</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="nl">"equipment_reports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"line"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
        </span><span class="nl">"stop_area_equipments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>A list of objects that maps each line with its associated stop area equipments.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>line</td>
<td><a href="#line">line</a></td>
<td>The line to which equipments are associated</td>
</tr>
<tr>
<td>stop_area_equipments</td>
<td><a href="#stop-area-equipments">stop area equipments</a></td>
<td>A list of objects that describes equipments for each stop area</td>
</tr>
</tbody></table>
<h3 id='stop-area-equipments'><a name="stop-area-equipments"></a>Stop area equipments</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="nl">"stop_area_equipments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"equipment_details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">
        </span><span class="nl">"stop_area"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>A list of objects that maps equipments details for each stop area.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>equipment_details</td>
<td><a href="#equipment-details">Equipment details</a></td>
<td>The equipment details associated with the stop area</td>
</tr>
<tr>
<td>stop_area</td>
<td><a href="#stop-area">Stop Area</a></td>
<td>The stop area to which the <code>equipment_details</code> is associated</td>
</tr>
</tbody></table>
<h3 id='equipment-details'><a name="equipment-details"></a>Equipment details</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="nl">"equipment_details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"current_availability"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
        </span><span class="nl">"embedded_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"escalator"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2702"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Escalator 2702, for platform 3"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Occurrence</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>current_availability</td>
<td><a href="#equipment-availability">Equipment availability</a></td>
<td>always</td>
<td>Describes equipments information like: status, name, id etc...</td>
</tr>
<tr>
<td>embedded_type</td>
<td>string</td>
<td>always</td>
<td>Define the equipment type: <code>escalator</code>, <code>elevator</code></td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>always</td>
<td>The equipment&#39;s unique identifier</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>optional</td>
<td>the equipment&#39;s name/description</td>
</tr>
</tbody></table>
<h3 id='equipment-availability'><a name="equipment-availability"></a>Equipment availability</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="nl">"current_availability"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"cause"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"engineering work in progress"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"effect"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"platform 3 available via stairs only"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"periods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"begin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20190216T000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20190601T220000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unavailable"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td>always</td>
<td>Equipment status: <ul><li><code>unknown</code>: no realtime information available</li><li><code>unavailable</code>: equipment is known to be unavailable with details provided below </li></ul></td>
</tr>
<tr>
<td>cause</td>
<td>label</td>
<td>optional</td>
<td>If status is <code>unavailable</code>, gives you the cause in a label</td>
</tr>
<tr>
<td>effect</td>
<td>label</td>
<td>optional</td>
<td>If status is <code>unavailable</code>, gives you the effect in a label</td>
</tr>
<tr>
<td>periods</td>
<td>period</td>
<td>optional</td>
<td>If status is <code>unavailable</code>, gives the affected period (with a <code>begin</code> &amp; <code>end</code> datetime attributes)</td>
</tr>
</tbody></table>
<h2 id='other-objects'>Other objects</h2><h3 id='context'><a name="context"></a>context</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#links between objects in a traffic_reports response</span>
<span class="o">{</span>
    <span class="s2">"context"</span>: <span class="o">{</span>
        <span class="s2">"timezone"</span>: <span class="s2">"Europe</span><span class="se">\/</span><span class="s2">Paris"</span>,
        <span class="s2">"current_datetime"</span>: <span class="s2">"20171201T120114"</span>,
        <span class="s2">"car_direct_path"</span>: <span class="o">{</span>
            <span class="s2">"co2_emission"</span>: <span class="o">{</span>
                <span class="s2">"value"</span>: 857.951371579,
                <span class="s2">"unit"</span>: <span class="s2">"gEC"</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"journeys"</span>: <span class="o">[</span> ... <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p>context object is a complex object provided in any endpoint&#39;s response.
It serves several goals:</p>

<ul>
<li>  <code>timezone</code> provides timezone of any datetime in the response.</li>
<li>  <code>current_datetime</code> provides the time the call was made.<br>It is precious to compute the waiting time until next passages (journeys, departures, etc.), as when no datetime is provided at call, Navitia uses that &quot;current_datetime&quot; as reference time.</li>
<li>  <code>car_direct_path</code> can also be provided in journeys to help compare ecological footprint of transport.</li>
</ul>
<h3 id='pt-date-time'><a name="pt-date-time"></a>pt-date-time</h3>
<p>pt-date-time (pt stands for &quot;public transport&quot;) is a complex date time object to manage the difference between stop and leaving times at a stop.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>additional_informations</td>
<td>Array of String</td>
<td>Other information: TODO enum</td>
</tr>
<tr>
<td>departure_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>A date time</td>
</tr>
<tr>
<td>arrival_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>A date time</td>
</tr>
<tr>
<td>links</td>
<td>Array of <a href="#link">link</a></td>
<td>internal links to notes</td>
</tr>
</tbody></table>
<h3 id='note'>note</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>id of the note</td>
</tr>
<tr>
<td>value</td>
<td>String</td>
<td>The content of the note</td>
</tr>
</tbody></table>
<h3 id='stop_date_time'><a name="stop-date-time"></a>stop_date_time</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>date_time</td>
<td><a href="#pt-date-time">pt-date-time</a></td>
<td>A public transport date time</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>A stop point</td>
</tr>
</tbody></table>
<h3 id='place-embedded-type'><a name="place-embedded-type"></a>Place embedded type</h3>
<p>Enum used to identify what kind of objects <em><a href="#places">/places</a></em> and <em><a href="#places-nearby-api">/places_nearby</a></em> services are managing.
It&#39;s also used inside different responses (journeys, ...).</p>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#administrative-region">administrative_region</a></td>
<td>a city, a district, a neighborhood</td>
</tr>
<tr>
<td><a href="#stop-area">stop_area</a></td>
<td>a nameable zone, where there are some stop points</td>
</tr>
<tr>
<td><a href="#stop-point">stop_point</a></td>
<td>a location where vehicles can pickup or drop off passengers</td>
</tr>
<tr>
<td><a href="#address">address</a></td>
<td>a point located in a street</td>
</tr>
<tr>
<td><a href="#poi">poi</a></td>
<td>a point of interest</td>
</tr>
</tbody></table>
<h3 id='pt-object-embedded-type'><a name="pt-object-embedded-type"></a>PT-object embedded type</h3>
<p>Enum used to identify what kind of objects <em><a href="#pt-objects">/pt_objects</a></em> service is managing.
It&#39;s also used inside different responses (disruptions, ...).</p>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#network">network</a></td>
<td>a public transport network</td>
</tr>
<tr>
<td><a href="#commercial-mode">commercial_mode</a></td>
<td>a public transport branded mode</td>
</tr>
<tr>
<td><a href="#line">line</a></td>
<td>a public transport line</td>
</tr>
<tr>
<td><a href="#route">route</a></td>
<td>a public transport route</td>
</tr>
<tr>
<td><a href="#stop-area">stop_area</a></td>
<td>a nameable zone, where there are some stop points</td>
</tr>
<tr>
<td><a href="#stop-point">stop_point</a></td>
<td>a location where vehicles can pickup or drop off passengers</td>
</tr>
<tr>
<td><a href="#trip">trip</a></td>
<td>a trip</td>
</tr>
</tbody></table>
<h3 id='equipment'>equipment</h3>
<p>Enum from</p>

<ul>
<li>  has_wheelchair_accessibility</li>
<li>  has_bike_accepted</li>
<li>  has_air_conditioned</li>
<li>  has_visual_announcement</li>
<li>  has_audible_announcement</li>
<li>  has_appropriate_escort</li>
<li>  has_appropriate_signage</li>
<li>  has_school_vehicle</li>
<li>  has_wheelchair_boarding</li>
<li>  has_sheltered</li>
<li>  has_elevator</li>
<li>  has_escalator</li>
<li>  has_bike_depot</li>
</ul>
<h3 id='display-informations'>display informations</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>network</td>
<td>String</td>
<td>The name of the network</td>
</tr>
<tr>
<td>physical_mode</td>
<td>String</td>
<td>The <a href="#physical-mode">physical_mode</a>. Physical mode are standardized</td>
</tr>
<tr>
<td>commercial_mode</td>
<td>String</td>
<td>The <a href="#commercial-mode">commercial_mode</a>. Commercial mode are not standardized</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>The code of the line</td>
</tr>
<tr>
<td>color</td>
<td>String</td>
<td>Hexadecimal color code for the line logo</td>
</tr>
<tr>
<td>text_color</td>
<td>String</td>
<td>Hexadecimal color code of the text for the line logo</td>
</tr>
<tr>
<td>direction</td>
<td>String</td>
<td>Direction of the trip used in a &quot;journey&quot; section</td>
</tr>
<tr>
<td>headsign</td>
<td>String</td>
<td>Text that appears on vehicle signage identifying the trip&#39;s destination for example</td>
</tr>
<tr>
<td>label</td>
<td>String</td>
<td>The label of the object</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Full name of the line</td>
</tr>
<tr>
<td>trip_short_name</td>
<td>String</td>
<td>Short name of the route</td>
</tr>
<tr>
<td>equipments</td>
<td>Array of String</td>
<td>list of <a href="#equipment">equipment</a> of the object</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>An optionnal description</td>
</tr>
</tbody></table>
<h3 id='link'>link</h3>
<p>See <a href="#interface">interface</a> section.</p>
<h2 id='special-parameters'>Special Parameters</h2><h3 id='datetime'>datetime</h3>
<p>A date time with the format YYYYMMDDThhmmss, considered local to the coverage being used.</p>
<h4 id='depth'>depth</h4>
<p>This tiny parameter can expand Navitia power by making it more wordy. As it is valuable on every API, take a look at <a href="#depth">depth</a></p>
<h1 id='misc-mechanisms-and-few-boring-stuff'>Misc mechanisms (and few boring stuff)</h1><h2 id='multiple-journeys'>Multiple journeys</h2>
<p>Navitia can compute several kind of journeys with a journey query.</p>

<p>The
<a href="http://research.microsoft.com/apps/pubs/default.aspx?id=156567">RAPTOR</a>
algorithm used in Navitia is a multi-objective algorithm. Thus it might
return multiple journeys if it cannot know that one is better than the
other. For example it cannot decide that a one hour journey with no
connection is better than a 45 minutes journey with one connection
(it is called the <a href="http://en.wikipedia.org/wiki/Pareto_efficiency">pareto front</a>).
The 3 objectives Navitia uses are roughly the arrival datetime, the number of transfers
and the duration of &quot;walking&quot; (transfers and fallback).</p>

<p>If the user asks for more journeys than the number of journeys given by
RAPTOR (with the parameter <code>min_nb_journeys</code> or <code>count</code>), Navitia will
ask RAPTOR again, but for the following journeys (or the previous ones
if the user asked with <code>datetime_represents=arrival</code>).</p>

<p>Those journeys have the <code>next</code> (or <code>previous</code>) value in their tags.</p>
<h2 id='journey-qualification-process'>Journey qualification process</h2>
<p>Since Navitia can return several journeys, it tags them to help the user
choose the best one that matches their needs.
Here are some tagging rules:
- there is only one &quot;best&quot; itinerary
- itineraries with other types are displayed <strong>only if they are relevant</strong>
- and for a specific type, you may find many relevant itinerary</p>

<p>For example, for a specific request, you can find the &quot;best&quot; itinerary, 2 &quot;less_fallback_walk&quot; ones
(with less walking, but taking more time) and no &quot;comfort&quot; (the &quot;best&quot; one is the same as the &quot;comfort&quot; one for example).</p>

<p>The different journey types are:</p>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>best</td>
<td>The best journey if you have to display only one.</td>
</tr>
<tr>
<td>rapid</td>
<td>A good trade off between duration, changes and constraint respect</td>
</tr>
<tr>
<td>comfort</td>
<td>A journey with less changes and walking</td>
</tr>
<tr>
<td>car</td>
<td>A journey with car to get to the public transport</td>
</tr>
<tr>
<td>less_fallback_walk</td>
<td>A journey with less walking</td>
</tr>
<tr>
<td>less_fallback_bike</td>
<td>A journey with less biking</td>
</tr>
<tr>
<td>less_fallback_bss</td>
<td>A journey with less bss</td>
</tr>
<tr>
<td>fastest</td>
<td>A journey with minimum duration</td>
</tr>
<tr>
<td>ecologic</td>
<td>A friendly journey for Earth</td>
</tr>
<tr>
<td>reliable</td>
<td>A really steady journey</td>
</tr>
<tr>
<td>bike_in_pt</td>
<td>A journey with bike both at the beginning and the end, and where bike is allowed in public transport used</td>
</tr>
<tr>
<td>non_pt_walk</td>
<td>A journey without public transport, only walking</td>
</tr>
<tr>
<td>non_pt_bike</td>
<td>A journey without public transport, only biking</td>
</tr>
<tr>
<td>non_pt_bss</td>
<td>A journey without public transport, only bike sharing</td>
</tr>
</tbody></table>

<h2 id=Service-translation>Service Translation</h2>

<p>When specifying a service in the data through <code>calendar.txt</code> and <code>calendar_dates.txt</code>, you might get surprised to see a different result from Navitia&#39;s response.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Navitia's interpreted service response</span>
<span class="o">{</span>
    <span class="s2">"calendars"</span>: <span class="o">[</span>
       <span class="o">{</span>
            <span class="s2">"active_periods"</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">"begin"</span>: <span class="s2">"20200101"</span>,
                    <span class="s2">"end"</span>: <span class="s2">"20200130"</span>
                <span class="o">}</span>
            <span class="o">]</span>,
            <span class="s2">"week_pattern"</span>: <span class="o">{</span>
                <span class="s2">"monday"</span>: <span class="nb">false</span>,
                <span class="s2">"tuesday"</span>: <span class="nb">false</span>,
                <span class="s2">"wednesday"</span>: <span class="nb">false</span>,
                <span class="s2">"thursday"</span>: <span class="nb">false</span>,
                <span class="s2">"friday"</span>: <span class="nb">false</span>,
                <span class="s2">"saturday"</span>: <span class="nb">true</span>,
                <span class="s2">"sunday"</span>: <span class="nb">true</span>
            <span class="o">}</span>,
            <span class="s2">"exceptions"</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">"type"</span>: <span class="s2">"remove"</span>,
                    <span class="s2">"datetime"</span>: <span class="s2">"20200127"</span>
                <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>
    <span class="o">]</span>
</code></pre></div>
<p>For instance, if you have a trip that:</p>

<ul>
<li>  occurs every Saturday of January 2020 (in your <code>calendar.txt</code>)</li>
<li>  has 3 exceptions that <code>add</code> the service the first 3 Sundays (<code>calendar_dates.txt</code>)</li>
</ul>

<p>You might expect to have that same exact representation for your <code>/vehicle_journeys</code>, but instead you find something different.</p>

<p>You expected to have 3 <code>add</code> exceptions but you only have 1 <code>remove</code>. Also, the week pattern is set to <code>true</code> on Sunday even though your <code>calendar.txt</code> said Saturday only.</p>

<p>This is due to a re-interpretation of the service pattern, with one specific goal:</p>

<aside class="notice">
 Navitia analyzes the input service and computes an equivalent pair of (week_pattern, exceptions) with the **smallest** number of exceptions
</aside>

<p>This means that Navitia will re-organise the input data, to produce a smaller and more comprehensive response that respects the semantics of the input data.</p>

<p>For more information about the algorithm (in French): <a href="https://github.com/TeXitoi/pinot2015presenter/blob/master/pres/pinot2015presenter-pres.pdf">https://github.com/TeXitoi/pinot2015presenter/blob/master/pres/pinot2015presenter-pres.pdf</a></p>

<h2 id="ridesharing-stuff">Ridesharing</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code>simplified output

<span class="o">{</span>
    <span class="s2">"journeys"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"requested_date_time"</span>: <span class="s2">"20180101T070000"</span>,
            <span class="s2">"sections"</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">"type"</span>: <span class="s2">"street_network"</span>,
                    <span class="s2">"mode"</span>: <span class="s2">"ridesharing"</span>,
                    <span class="s2">"from"</span>: <span class="s2">"A"</span>,
                    <span class="s2">"to"</span>: <span class="s2">"B"</span>,
                    <span class="s2">"departure_date_time"</span>: <span class="s2">"20180101T070000"</span>,
                    <span class="s2">"arrival_date_time"</span>: <span class="s2">"20180101T090000"</span>,
                    <span class="s2">"ridesharing_journeys"</span>: <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s2">"sections"</span>:[
                                <span class="o">{</span>
                                    <span class="s2">"from"</span>: <span class="s2">"A"</span>,
                                    <span class="s2">"to"</span>: <span class="s2">"A1"</span>,
                                    <span class="s2">"departure_date_time"</span>: <span class="s2">"20180101T063000"</span>,
                                    <span class="s2">"arrival_date_time"</span>: <span class="s2">"20180101T063000"</span>,
                                    <span class="s2">"type"</span>: <span class="s2">"crow_fly"</span>,
                                    <span class="s2">"mode"</span>: <span class="s2">"walking"</span>
                                <span class="o">}</span>,
                                <span class="o">{</span>
                                    <span class="s2">"from"</span>: <span class="s2">"A1"</span>,
                                    <span class="s2">"to"</span>: <span class="s2">"A2"</span>,
                                    <span class="s2">"departure_date_time"</span>: <span class="s2">"20180101T063000"</span>,
                                    <span class="s2">"arrival_date_time"</span>: <span class="s2">"20180101T093000"</span>,
                                    <span class="s2">"type"</span>: <span class="s2">"ridesharing"</span>
                                <span class="o">}</span>,
                                <span class="o">{</span>
                                    <span class="s2">"from"</span>: <span class="s2">"A2"</span>,
                                    <span class="s2">"to"</span>: <span class="s2">"B"</span>,
                                    <span class="s2">"departure_date_time"</span>: <span class="s2">"20180101T093000"</span>,
                                    <span class="s2">"arrival_date_time"</span>: <span class="s2">"20180101T093000"</span>,
                                    <span class="s2">"type"</span>: <span class="s2">"crow_fly"</span>,
                                    <span class="s2">"mode"</span>: <span class="s2">"walking"</span>
                                <span class="o">}</span>
                            <span class="o">]</span>
                        <span class="o">}</span>,
                        <span class="o">{</span>
                            ...
                        <span class="o">}</span>
                    <span class="o">]</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                    <span class="s2">"from"</span>: <span class="s2">"B"</span>,
                    <span class="s2">"to"</span>: <span class="s2">"C"</span>,
                    <span class="s2">"departure_date_time"</span>: <span class="s2">"20180101T090000"</span>,
                    <span class="s2">"arrival_date_time"</span>: <span class="s2">"20180101T100000"</span>,
                    <span class="s2">"type"</span>: <span class="s2">"public_transport"</span>
                <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            ...
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p>When requesting a journey, it is possible to request for a ridesharing fallback,
using <code>first_section_mode</code> or <code>last_section_mode</code>.
This may also be used to obtain a direct ridesharing journey (using <code>max_ridesharing_duration_to_pt=0</code>).</p>

<p>This returns a journey only when one or multiple ridesharing ads are found, matching the request.</p>

<aside class="warning">
    This feature requires a specific configuration and an agreement from a ridesharing service provider.
    Therefore this service is available only for a few clients.
</aside>

<p>The journey from Navitia will then contain a section using the ridesharing mode.
Inside this section an attribute ridesharing_journeys contains one or multiple journeys
depicting specifically the ridesharing ads that could match the above section
and that could be proposed to the user.</p>

<h2 id="taxi-stuff">Taxi</h2>

<aside class="warning">
    This feature is not available on all coverages, as it is dependent on other parameters of the coverage (how journeys are computed).
</aside>

<p>With this mode, your journey may contain taxi sections(fallback or direct path). The journey you will obtain is basically the same as a journey by car. The only difference is that with taxi as fallback mode, a buffer time (section &quot;waiting&quot;, defaulted to 5 min) will appear into the journey. The buffer time won&#39;t appear if the journey is a direct path. Depending on the calculator, the journey may pick up ways that are reserved for taxis on not.</p>

<h2 id="odt">On demand transportation</h2>

<p>Some transit agencies force travelers to call them to arrange a pickup at a particular place or stop point.</p>

<p>Besides, some stop times can be &quot;estimated&quot; <em>in data by design</em>:</p>

<ul>
<li>A standard GTFS contains only regular time: that means transport agencies should arrive on time :)</li>
<li>But navitia can be fed with more specific data, where &quot;estimated time&quot; means that there will be
no guarantee on time respect by the agency. It often occurs in suburban or rural zone.</li>
</ul>

<p>After all, the stop points can be standard (such as bus stop or railway station)
or &quot;zonal&quot; (where agency can pick you up you anywhere, like a cab).</p>

<p>That&#39;s some kind of &quot;responsive locomotion&quot; (ɔ).</p>

<p>So public transport lines can mix different methods to pickup travelers:</p>

<ul>
<li>  regular

<ul>
<li>  line does not contain any estimated stop times, nor zonal stop point location.</li>
<li>  No need to call too.</li>
</ul></li>
<li>  odt_with_stop_time

<ul>
<li>  line does not contain any estimated stop times, nor zonal stop point location.</li>
<li>  But you will have to call to take it.</li>
</ul></li>
<li>  odt_with_stop_point

<ul>
<li>  line can contain some estimated stop times, but no zonal stop point location.</li>
<li>  And you will have to call to take it.</li>
</ul></li>
<li>  odt_with_zone

<ul>
<li>  line can contain some estimated stop times, and zonal stop point location.</li>
<li>  And you will have to call to take it</li>
<li>  well, not really a public transport line, more a cab...</li>
</ul></li>
</ul>

<h2 id="disruptions">Disruptions</h2>

<p>In this paragraph, we will explain how the disruptions are displayed in the different APIs.</p>
<h3 id='publication-period-of-a-disruption'>publication period of a disruption</h3>
<p>The publication period of a disruption is the period on which we want to display the disruption in navitia.</p>

<p>The creator of the disruption might not want the traveller to know of a disruption before a certain date (because it&#39;s too uncertain, secret, ...)
The publication period is the way to control this.</p>
<h3 id='application-periods-of-a-disruption'>application periods of a disruption</h3>
<p>The application periods are the list of periods on which the disruption is active.
For example it&#39;s the actual period when railworks are done and train circulation is cut.</p>
<h3 id='request-date'>Request date</h3>
<p>The request date represents datetime for Journeys API, from_datetime for  Schedules API or now for the others APIs.
The default value is now.</p>
<h3 id='summary'>Summary</h3>
<p>To sum up we display an impact if &#39;now&#39; is in the publication period.</p>

<p>The status of the impact depends only of &#39;now&#39; and is:</p>

<ul>
<li>&#39;active&#39; if &#39;now&#39; is inside an application period</li>
<li>&#39;future&#39; if &#39;now&#39; is not inside an application period and there is an application period after &#39;now&#39;</li>
<li>&#39;past&#39; otherwise</li>
</ul>

<table>
  <thead>
    <tr>
      <th align="center" colspan="2"></th>
      <th align="center"> </th>
      <th align="center" colspan="3">Show impacts </th>
      <th align="center"> </th>
    </tr>
    <tr>
      <th align="center">publication period </th>
      <th>Application period </th>
      <th align="center">Request date</th>
      <th align="center">disruptions API</th>
      <th align="center">traffic_reports & PtRef API</th>
      <th align="center">Journeys & Schedules API</th>
      <th align="center">Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
    </tr>
    <tr>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center">date1 </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center">- </td>
      <td align="center">- </td>
      <td align="center">future </td>
    </tr>
    <tr>
      <td align="center">T </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
    </tr>
    <tr>
      <td align="center">| </td>
      <td align="center"> </td>
      <td align="center">date2 </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center"> </td>
      <td align="center">future </td>
    </tr>
    <tr>
      <td align="center">| </td>
      <td align="center">T </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
    </tr>
    <tr>
      <td align="center">| </td>
      <td align="center">| </td>
      <td align="center">date3 </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center">active </td>
    </tr>
    <tr>
      <td align="center">| </td>
      <td align="center">⊥ </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
    </tr>
    <tr>
      <td align="center">| </td>
      <td> </td>
      <td align="center">date4 </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center"> </td>
      <td align="center">passed </td>
    </tr>
    <tr>
      <td align="center">⊥ </td>
      <td> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
    </tr>
    <tr>
      <td align="center"> </td>
      <td> </td>
      <td align="center">date5 </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center">- </td>
      <td align="center">- </td>
      <td align="center">passed </td>
    </tr>
  </tbody>
</table>
<h1 id="realtime">Real time integration in Navita</h1>

<p>Several endpoints can integrate real time information in their responses. In the response received, disruptions can be present and additional information can be provided.
The parameter <code>data_freshness</code> can be set to
<ul>
    <li><code>base_schedule</code>: disruptions may be present in the response for the user information, but it won&#39;t be taken into account in the results of the query.</li>
    <li><code>realtime</code>: disruptions are taken into account to compute alternative journeys for exemple. In this configuration, every stop times, connexions, delays, or detour can be taken into account.</li>
</ul></p>

<aside class="notice">
`data_freshness=adapted_schedule` is deprecated and must not be providen. It can only be used for debbuging.
</aside>

<aside class="warning">
Real time isn't available on every coverage for Navitia. For real time to be available for a client, it needs to provide real time info about its network to Navitia.
</aside>

<p>The effect of a disruption can be among the following:
<ul>
    <li><a href="#SIGNIFICANT_DELAYS">SIGNIFICANT_DELAYS</a></li>
    <li><a href="#REDUCED_SERVICE">REDUCED_SERVICE</a></li>
    <li><a href="#NO_SERVICE">NO_SERVICE</a></li>
    <li><a href="#MODIFIED_SERVICE">MODIFIED_SERVICE</a></li>
    <li><a href="#ADDITIONAL_SERVICE">ADDITIONAL_SERVICE</a></li>
    <li><a href="#UNKNOWN_EFFECT">UNKNOWN_EFFECT</a></li>
    <li><a href="#MODIFIED_SERVICE">DETOUR</a></li>
    <li><a href="#OTHER_EFFECT">OTHER_EFFECT</a></li>
</ul></p>

<p>This list follows the GTFS RT values documented at <a href="https://gtfs.org/reference/realtime/v2/#enum-effect">https://gtfs.org/reference/realtime/v2/#enum-effect</a>.</p>

<p>For each one of these effects, here&#39;s how the Navitia responses will be affected over the different endpoints.</p>

<aside class="notice">
A disruption is present in the response of the endpoints described if the request is made during its application period.
</aside>

<h2 id="PT_object_collections_data_freshness">Public transport object collections</h2>

<p>Several public transport objects have separate collections for <code>base_schedule</code> and <code>realtime</code>.<br>So the data_freshness parameter may affect the number of objects returned depending on the request.</p>

<p>For example when looking for a specific circulation with the collection vehicle_journey using the request:<br><code>http://api.navitia.io/v1/coverage/&lt;toto&gt;/vehicle_journeys?since=20191008T100000&amp;until=20191008T200000&amp;data_freshness=base_schedule</code>.</p>

<p>A vehicle_journey circulating between since and until that is <strong>fully deleted</strong> (NO_SERVICE) by a disruption will
of course be <strong>visible</strong> if <code>data_freshness=base_schedule</code>.<br>But it <strong>will not appear</strong> with the parameter <code>data_freshness=realtime</code> as it does not exist in that collection.</p>

<p>On the other hand, a vehicle_journey that is <strong>created</strong> by a realtime feed will only be <strong>visible</strong> if
<code>data_freshness=realtime</code> on that same request.<br>And it will <strong>not appear</strong> if <code>data_freshness=base_schedule</code>.</p>

<h2 id="OTHER_EFFECT">Other effect</h2>

<p>There is no known effect related to this disruption. You only have to show the message to your traveler...</p>

<h2 id="SIGNIFICANT_DELAYS">Trip delayed</h2>

<p><img src="images/delay-f0390b1e.png" alt="image" /></p>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Extract of an impacted stop from /disruptions</span>
<span class="o">{</span>
    <span class="s2">"amended_arrival_time"</span>: <span class="s2">"194700"</span>,
    <span class="s2">"amended_departure_time"</span>: <span class="s2">"194900"</span>,
    <span class="s2">"arrival_status"</span>: <span class="s2">"delayed"</span>,
    <span class="s2">"base_arrival_time"</span>: <span class="s2">"193200"</span>,
    <span class="s2">"base_departure_time"</span>: <span class="s2">"193400"</span>,
    <span class="s2">"cause"</span>: <span class="s2">"Panne d'un aiguillage"</span>,
    <span class="s2">"departure_status"</span>: <span class="s2">"delayed"</span>,
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
    <span class="s2">"stop_time_effect"</span>: <span class="s2">"delayed"</span>,
<span class="o">}</span>
</code></pre></div>
<p>The effect of the disruption is <code>SIGNIFICANT_DELAYS</code>. It means that the train will arrive late at one or more stations in its journey.</p>

<p>In the disruption, the delay can be found in the list of &quot;impacted_stops&quot; with the departure/arrival status set to &quot;delayed&quot;.</p>

<ul>
<li>&quot;base_arrival_time&quot;/&quot;base_departure_time&quot; represent the scheduled arrival/departure time without taking into account the delay</li>
<li>whereas &quot;amended_arrival_time&quot;/&quot;amended_departure_time&quot; are the actual arrival/departure time, after the delay is applied</li>
</ul>

<p>See the <a href="#disruption">disruption</a> objects section for its full content and description.</p>

<div></div>
<h3 id='journeys'>Journeys</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Request example for /journeys</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/journeys?from<span class="o">=</span>&lt;origin&gt;&amp;to<span class="o">=</span>&lt;destination&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Extract of the public transport section from the response /journeys</span>

    <span class="s2">"sections"</span>: ⊖[
       ⊖<span class="o">{</span>
            <span class="s2">"additional_informations"</span>: ⊕[1 item],
            <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190529T205000"</span>,
            <span class="s2">"base_arrival_date_time"</span>: <span class="s2">"20190529T204500"</span>,
            <span class="s2">"base_departure_date_time"</span>: <span class="s2">"20190529T160000"</span>,
            <span class="s2">"co2_emission"</span>: ⊕<span class="o">{</span>2 items<span class="o">}</span>,
            <span class="s2">"data_freshness"</span>: <span class="s2">"realtime"</span>,
            <span class="s2">"departure_date_time"</span>: <span class="s2">"20190529T160000"</span>,
            <span class="s2">"display_informations"</span>: ⊖<span class="o">{</span>
                <span class="s2">"code"</span>: <span class="s2">""</span>,
                <span class="s2">"color"</span>: <span class="s2">"000000"</span>,
                <span class="s2">"commercial_mode"</span>: <span class="s2">"TGV INOUI"</span>,
                <span class="s2">"description"</span>: <span class="s2">""</span>
                <span class="s2">"direction"</span>: <span class="s2">"Nice Ville (Nice)"</span>,
                <span class="s2">"equipments"</span>: <span class="o">[]</span>,
                <span class="s2">"headsign"</span>: <span class="s2">"847520"</span>,
                <span class="s2">"label"</span>: <span class="s2">"Paris - Nice"</span>,
                <span class="s2">"links"</span>: ⊖[
                   ⊖<span class="o">{</span>
                        <span class="s2">"id"</span>: <span class="s2">"b59bdab8-3560-4cfe-8009-b0461f74c417"</span>,
                        <span class="s2">"internal"</span>: <span class="nb">true</span>,
                        <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                        <span class="s2">"templated"</span>: <span class="nb">false</span>
                        <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
                    <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"name"</span>: <span class="s2">"Paris - Nice"</span>,
                <span class="s2">"network"</span>: <span class="s2">"SNCF"</span>,
                <span class="s2">"physical_mode"</span>: <span class="s2">"Train grande vitesse"</span>,
                <span class="s2">"text_color"</span>: <span class="s2">""</span>,
            <span class="o">}</span>,
            <span class="s2">"duration"</span>: 21180,
            <span class="s2">"from"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
            <span class="s2">"geojson"</span>: ⊕<span class="o">{</span>3 items<span class="o">}</span>,
            <span class="s2">"id"</span>: <span class="s2">"section_0_0"</span>,
            <span class="s2">"links"</span>: ⊕[6 items],
            <span class="s2">"stop_date_times"</span>: ⊖[
               ⊕<span class="o">{</span>7 items<span class="o">}</span>,
               ⊖<span class="o">{</span>
                    <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
                    <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190605T194700"</span>,
                    <span class="s2">"base_arrival_date_time"</span>: <span class="s2">"20190605T193200"</span>,
                    <span class="s2">"base_departure_date_time"</span>: <span class="s2">"20190605T193400"</span>
                    <span class="s2">"departure_date_time"</span>: <span class="s2">"20190605T194900"</span>,
                    <span class="s2">"links"</span>: <span class="o">[]</span>,
                    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
                <span class="o">}</span>,
               ⊕<span class="o">{</span>7 items<span class="o">}</span>,
               ⊕<span class="o">{</span>7 items<span class="o">}</span>,
            <span class="o">]</span>
            <span class="s2">"to"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
            <span class="s2">"type"</span>: <span class="s2">"public_transport"</span>,
        <span class="o">}</span>
    <span class="o">]</span>
</code></pre></div>
<p>The status of the journey is <code>SIGNIFICANT_DELAYS</code>.</p>

<p>In a public transport section of the response:</p>

<ul>
<li>&quot;base_arrival_date_time&quot;/&quot;base_departure_date_time&quot; represent the scheduled arrival/departure time without taking into account the delay</li>
<li>whereas &quot;arrival_date_time&quot;/&quot;departure_date_time&quot; are the actual arrival/departure time, after the delay is applied</li>
</ul>

<p>The delay can also be observed for every stop point of the journey with the same parameters in &quot;stop_date_times&quot;.<br>If the parameter &quot;data_freshness&quot; is set to &quot;base_schedule&quot;, then &quot;base_arrival_date_time&quot;/&quot;base_departure_date_time&quot; = &quot;arrival_date_time&quot;/&quot;departure_date_time&quot;.</p>

<p>A list of the disruptions impacting the journey is also present at the root level of the response.<br>A link to the concerned disruption can be found in the section &quot;display_informations&quot;.</p>

<div></div>
<h3 id='departures'>Departures</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Request example for /departures (data_freshness=realtime by default)</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/physical_modes/&lt;physical_mode&gt;/stop_areas/&lt;stop_area&gt;/departures?from_datetime<span class="o">=</span>&lt;from_date&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Extract of an impacted departure object from the response /departures</span>

<span class="o">{</span>
    <span class="s2">"display_informations"</span>: ⊖<span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">""</span>,
        <span class="s2">"color"</span>: <span class="s2">"000000"</span>,
        <span class="s2">"commercial_mode"</span>: <span class="s2">"TGV INOUI"</span>,
        <span class="s2">"description"</span>: <span class="s2">""</span>
        <span class="s2">"direction"</span>: <span class="s2">"Nice Ville (Nice)"</span>,
        <span class="s2">"equipments"</span>: <span class="o">[]</span>,
        <span class="s2">"headsign"</span>: <span class="s2">"847520"</span>,
        <span class="s2">"label"</span>: <span class="s2">"Paris - Nice"</span>,
        <span class="s2">"links"</span>: ⊖[
           ⊖<span class="o">{</span>
                <span class="s2">"id"</span>: <span class="s2">"b59bdab8-3560-4cfe-8009-b0461f74c417"</span>,
                <span class="s2">"internal"</span>: <span class="nb">true</span>,
                <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                <span class="s2">"templated"</span>: <span class="nb">false</span>
                <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"name"</span>: <span class="s2">"Paris - Nice"</span>,
        <span class="s2">"network"</span>: <span class="s2">"SNCF"</span>,
        <span class="s2">"physical_mode"</span>: <span class="s2">"Train grande vitesse"</span>,
        <span class="s2">"text_color"</span>: <span class="s2">""</span>,
    <span class="o">}</span>,
    <span class="s2">"links"</span>: ⊕[6 items],
    <span class="s2">"route"</span>: ⊕<span class="o">{</span>9 items<span class="o">}</span>,
    <span class="s2">"stop_date_time"</span>: ⊖<span class="o">{</span>
        <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
        <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190605T194700"</span>,
        <span class="s2">"base_arrival_date_time"</span>: <span class="s2">"20190605T193200"</span>,
        <span class="s2">"base_departure_date_time"</span>: <span class="s2">"20190605T193400"</span>,
        <span class="s2">"stop_date_time"</span>: <span class="s2">"realtime"</span>
        <span class="s2">"departure_date_time"</span>: <span class="s2">"20190605T194900"</span>,
        <span class="s2">"links"</span>: <span class="o">[]</span>,
    <span class="o">}</span>
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>11 items<span class="o">}</span>,
<span class="o">}</span>
</code></pre></div>
<p>In the &quot;stop_date_time&quot; section of the response, the parameter &quot;stop_date_time&quot; is &quot;realtime&quot; and the fields &quot;arrival_date_time&quot;/&quot;departure_date_time&quot; take the delay into account, whereas &quot;base_arrival_date_time&quot;/&quot;base_departure_date_time&quot; show the base-schedule departure/arrival datetime.</p>

<p>A list of the disruptions impacting the departures is also present at the root level of the response.<br>A link to the concerned disruption can be found in the section &quot;display_informations&quot;.</p>

<div></div>
<h3 id='stop-schedules'>Stop Schedules</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Request example for /stop_schedules (data_freshness=realtime by default)</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/physical_modes/&lt;physical_mode&gt;/lines/&lt;line&gt;/stop_areas/&lt;stop_area&gt;/stop_schedules?from_datetime<span class="o">=</span>&lt;from_date&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Extract of an impacted stop_schedules object from the response /stop_schedules</span>

<span class="o">{</span>
    <span class="s2">"additional_informations"</span>: null,
    <span class="s2">"date_times"</span>: ⊖[
       ⊕<span class="o">{</span>5 items<span class="o">}</span>,
       ⊖<span class="o">{</span>
            <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
            <span class="s2">"base_date_time"</span>: <span class="s2">"20190605T193400"</span>,
            <span class="s2">"data_freshness"</span>: <span class="s2">"realtime"</span>,
            <span class="s2">"date_time"</span>: <span class="s2">"20190605T194900"</span>,
            <span class="s2">"links"</span>: ⊖[
               ⊕<span class="o">{</span>4 items<span class="o">}</span>,
               ⊖<span class="o">{</span>
                    <span class="s2">"id"</span>: <span class="s2">"b59bdab8-3560-4cfe-8009-b0461f74c417"</span>,
                    <span class="s2">"internal"</span>: <span class="nb">true</span>,
                    <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                    <span class="s2">"templated"</span>: <span class="nb">false</span>
                    <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
                <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>,
       ⊕<span class="o">{</span>5 items<span class="o">}</span>,
    <span class="o">]</span>,
    <span class="s2">"display_informations"</span>: ⊕<span class="o">{</span>9 items<span class="o">}</span>,
    <span class="s2">"first_datetime"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>
    <span class="s2">"last_datetime"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
    <span class="s2">"links"</span>: ⊕[4 items],
    <span class="s2">"route"</span>: ⊕<span class="o">{</span>8 items<span class="o">}</span>,
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>11 items<span class="o">}</span>,
<span class="o">}</span>
</code></pre></div>
<p>In the list of &quot;date_times&quot; available in the response, the parameter &quot;data_freshness&quot; is &quot;realtime&quot; and the field &quot;date_time&quot; takes the delay into account, whereas &quot;base_date_time&quot; shows the base-schedule departure datetime.</p>

<p>A list of the disruptions impacting the stop schedules is also present at the root level of the response.<br>A link to the concerned disruption can be found in the in the &quot;date_times&quot; object itself.</p>

<h2 id="REDUCED_SERVICE">Reduced service</h2>

<p><img src="images/reduced_service-8131f38a.png" alt="image" /></p>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Extract of an impacted stop from /disruptions</span>
<span class="o">{</span>
    <span class="s2">"arrival_status"</span>: <span class="s2">"deleted"</span>,
    <span class="s2">"cause"</span>: <span class="s2">""</span>,
    <span class="s2">"departure_status"</span>: <span class="s2">"deleted"</span>,
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
    <span class="s2">"stop_time_effect"</span>: <span class="s2">"deleted"</span>,
<span class="o">}</span>
</code></pre></div>
<p>The effect of the disruption is <code>REDUCED_SERVICE</code>. It means that the train won&#39;t be serving one or more stations in its journey.</p>

<p>In the disruption, the deleted stations can be found in the list of &quot;impacted_stops&quot; with the departure/arrival status set to &quot;deleted&quot;.<br>See the <a href="#disruption">disruption</a> objects section for its full content and description.</p>

<div></div>
<h3 id='journeys-2'>Journeys</h3>
<p>If the stop deleted is the origin/destination of a section of the journey, Navitia will compute a different itinerary to the requested station.<br>If not (deleting intermediate stop), the journey won&#39;t be affected.<br>Either way, a link to this disruption can be found in the section &quot;display_informations&quot; like for other disruptions.</p>
<h3 id='departures-amp-stop-schedules'>Departures &amp; Stop Schedules</h3>
<p>At the deleted stop area, the departure time of the train with a reduced service simply won&#39;t be displayed in the list of departures/stop_schedules if &quot;data_freshness&quot; is set to &quot;realtime&quot;.</p>

<p>If &quot;data_freshness&quot; is &quot;base_schedule&quot;, then the depature time is displayed.<br>In that case, a link to this disruption can be found in the section &quot;display_informations&quot; for departures, in the &quot;date_times&quot; object itself for stop_schedules.</p>

<h2 id="NO_SERVICE">No service</h2>

<p><img src="images/no_service-dac53f43.png" alt="image" /></p>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Extract of an impacted trip from /disruptions</span>
<span class="o">{</span>
    <span class="s2">"application_periods"</span>: ⊖[
       ⊖<span class="o">{</span>
            <span class="s2">"begin"</span>: <span class="s2">"20191210T183100"</span>,
            <span class="s2">"end"</span>: <span class="s2">"20191210T194459"</span>
        <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"impacted_objects"</span>: ⊖[
       ⊖<span class="o">{</span>
            <span class="s2">"pt_object"</span>: ⊖<span class="o">{</span>
                <span class="s2">"embedded_type"</span>: <span class="s2">"trip"</span>,
                <span class="s2">"id"</span>: <span class="s2">"OCE:BOA017534OCESNF-20191210"</span>,
                <span class="s2">"name"</span>: <span class="s2">"OCE:BOA017534OCESNF-20191210"</span>,
                <span class="s2">"trip"</span>: ⊕<span class="o">{</span>2 items<span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"severity"</span>: ⊖<span class="o">{</span>
        <span class="s2">"effect"</span>: <span class="s2">"NO_SERVICE"</span>
        <span class="s2">"name"</span>: <span class="s2">"trip canceled"</span>,
    <span class="o">}</span>,
<span class="o">}</span>
</code></pre></div>
<p>The effect of the disruption is <code>NO_SERVICE</code>. It means that the train won&#39;t be circulating at all.</p>

<p>In the disruption, the deleted trip can be found in the &quot;impacted_objects&quot; list with the
&quot;application_periods&quot; describing the period(s) of unavailability for the trip.<br>See the <a href="#disruption">disruption</a> objects section for its full content and description.</p>

<div></div>
<h3 id='journeys-3'>Journeys</h3>
<p>If the deleted trip is used by a section of the <code>base_schedule</code> journey, Navitia will compute a different
itinerary to the requested station in <code>realtime</code>, or a later one (without using that trip).<br>A link to this disruption can be found in the section &quot;display_informations&quot; like for other disruptions, on a <code>base_schedule</code> journey.</p>
<h3 id='departures-amp-stop-schedules-2'>Departures &amp; Stop Schedules</h3>
<p>At the deleted stop area, the departure time of the cancelled train simply won&#39;t be displayed in the list of departures/stop_schedules if &quot;data_freshness&quot; is set to &quot;realtime&quot;.</p>

<p>If &quot;data_freshness&quot; is &quot;base_schedule&quot;, then the depature time is displayed.<br>In that case, a link to this disruption can be found in the section &quot;display_informations&quot; for departures, in the &quot;date_times&quot; object itself for stop_schedules.</p>

<h2 id="MODIFIED_SERVICE">Modified service</h2>

<p><img src="images/modified_service-4e276e79.png" alt="image" /></p>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Extract of an impacted stop from /disruptions</span>
<span class="o">{</span>
    <span class="s2">"amended_arrival_time"</span>: <span class="s2">"185500"</span>,
    <span class="s2">"amended_departure_time"</span>: <span class="s2">"190000"</span>,
    <span class="s2">"arrival_status"</span>: <span class="s2">"added"</span>
    <span class="s2">"cause"</span>: <span class="s2">"Ajout d'une desserte"</span>,
    <span class="s2">"departure_status"</span>: <span class="s2">"added"</span>,
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
    <span class="s2">"stop_time_effect"</span>: <span class="s2">"added"</span>,
<span class="o">}</span>,
</code></pre></div>
<p>The effect of the disruption is <code>MODIFIED_SERVICE</code>. It means that there is one or several stop points added into the trip. This can be at any position in the trip (origin and destination included).</p>

<p>In the disruption, new stop points can be found in the list of &quot;impacted_stops&quot; with the departure/arrival status set to &quot;added&quot;. The scheduled arrival/departure at the new stop point can be found in &quot;amended_arrival_time&quot;/&quot;amended_departure_time&quot;.<br>See the <a href="#disruption">disruption</a> objects section for its full content and description.</p>

<div></div>
<h3 id='journeys-4'>Journeys</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Request example for /journeys</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/journeys?from<span class="o">=</span>&lt;origin&gt;&amp;to<span class="o">=</span>&lt;destination&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Extract of the public transport section from the response /journeys</span>

    <span class="s2">"sections"</span>: ⊖[
       ⊖<span class="o">{</span>
            <span class="s2">"additional_informations"</span>: ⊕[1 item],
            <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190605T204500"</span>,
            <span class="s2">"base_arrival_date_time"</span>: <span class="s2">"20190605T204500"</span>,
            <span class="s2">"co2_emission"</span>: ⊕<span class="o">{</span>2 items<span class="o">}</span>,
            <span class="s2">"data_freshness"</span>: <span class="s2">"realtime"</span>,
            <span class="s2">"departure_date_time"</span>: <span class="s2">"20190605T160000"</span>,
            <span class="s2">"display_informations"</span>: ⊖<span class="o">{</span>
                <span class="s2">"code"</span>: <span class="s2">""</span>,
                <span class="s2">"color"</span>: <span class="s2">"000000"</span>,
                <span class="s2">"commercial_mode"</span>: <span class="s2">"TGV INOUI"</span>,
                <span class="s2">"description"</span>: <span class="s2">""</span>
                <span class="s2">"direction"</span>: <span class="s2">"Nice Ville (Nice)"</span>,
                <span class="s2">"equipments"</span>: <span class="o">[]</span>,
                <span class="s2">"headsign"</span>: <span class="s2">"847520"</span>,
                <span class="s2">"label"</span>: <span class="s2">"Paris - Nice"</span>,
                <span class="s2">"links"</span>: ⊖[
                   ⊖<span class="o">{</span>
                        <span class="s2">"id"</span>: <span class="s2">"b59bdab8-3560-4cfe-8009-b0461f74c418"</span>,
                        <span class="s2">"internal"</span>: <span class="nb">true</span>,
                        <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                        <span class="s2">"templated"</span>: <span class="nb">false</span>
                        <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
                    <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"name"</span>: <span class="s2">"Paris - Nice"</span>,
                <span class="s2">"network"</span>: <span class="s2">"SNCF"</span>,
                <span class="s2">"physical_mode"</span>: <span class="s2">"Train grande vitesse"</span>,
                <span class="s2">"text_color"</span>: <span class="s2">""</span>,
            <span class="o">}</span>,
            <span class="s2">"duration"</span>: 28560,
            <span class="s2">"from"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
            <span class="s2">"geojson"</span>: ⊕<span class="o">{</span>3 items<span class="o">}</span>,
            <span class="s2">"id"</span>: <span class="s2">"section_1_0"</span>,
            <span class="s2">"links"</span>: ⊕[6 items],
            <span class="s2">"stop_date_times"</span>: ⊖[
                ⊕<span class="o">{</span>7 items<span class="o">}</span>,
                ⊖<span class="o">{</span>
                     <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
                     <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190605T185500"</span>,
                     <span class="s2">"departure_date_time"</span>: <span class="s2">"20190605T190000"</span>,
                     <span class="s2">"links"</span>: <span class="o">[]</span>
                     <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
                 <span class="o">}</span>,
                ⊕<span class="o">{</span>7 items<span class="o">}</span>,
            <span class="o">]</span>
            <span class="s2">"to"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
            <span class="s2">"type"</span>: <span class="s2">"public_transport"</span>,
        <span class="o">}</span>,
    <span class="o">]</span>
</code></pre></div>
<p>The status of the journey is <code>MODIFIED_SERVICE</code>. In a public transport section of the response, &quot;arrival_date_time&quot;/&quot;departure_date_time&quot; are the arrival/departure times of an added stop point. New stop points are only used when the &quot;data_freshness&quot; parameter is set to &quot;realtime&quot;.</p>

<p>A list of the disruptions impacting the journey is also present at the root level of the response.<br>A link to the concerned disruption can be found in the section &quot;display_informations&quot;.</p>

<div></div>
<h3 id='departures-amp-stop-schedules-3'>Departures &amp; Stop Schedules</h3>
<p>At the added stop area, the departure time of the train with a modified service is displayed if &quot;data_freshness&quot; is set to &quot;realtime&quot;.<br>In that case, a link to this disruption can be found in the section &quot;display_informations&quot; for departures, in the &quot;date_times&quot; object itself for stop_schedules.</p>

<p>The departure time of the train with a modified service simply won&#39;t be displayed in the list of departures/stop_schedules if &quot;data_freshness&quot; is set to &quot;base_schedule&quot;.</p>

<h2 id="ADDITIONAL_SERVICE">Additional service</h2>

<p><img src="images/additional-d2cc499b.png" alt="image" /></p>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Extract of an impacted stop from /disruptions</span>
<span class="o">{</span>
    <span class="s2">"amended_arrival_time"</span>: <span class="s2">"193200"</span>,
    <span class="s2">"amended_departure_time"</span>: <span class="s2">"193400"</span>,
    <span class="s2">"arrival_status"</span>: <span class="s2">"added"</span>
    <span class="s2">"cause"</span>: <span class="s2">""</span>,
    <span class="s2">"departure_status"</span>: <span class="s2">"added"</span>,
    <span class="s2">"is_detour"</span>: <span class="nb">false</span>,
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
    <span class="s2">"stop_time_effect"</span>: <span class="s2">"added"</span>,
<span class="o">}</span>
</code></pre></div>
<p>The effect of the disruption is <code>ADDITIONAL_SERVICE</code>. It means that a new trip has been scheduled.</p>

<p>In the disruption, every stops served by the new train can be found in the list of &quot;impacted_stops&quot; with the departure/arrival status set to &quot;added&quot;. The scheduled arrival/departure at the new stop point can be found in &quot;amended_arrival_time&quot;/&quot;amended_departure_time&quot;.<br>See the <a href="#disruption">disruption</a> objects section for its full content and description.</p>

<div></div>
<h3 id='journeys-5'>Journeys</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Request example for /journeys</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/journeys?from<span class="o">=</span>&lt;origin&gt;&amp;to<span class="o">=</span>&lt;destination&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Extract of the public transport section from the response /journeys</span>

<span class="s2">"sections"</span>: ⊖[
       ⊕<span class="o">{</span>10 items<span class="o">}</span>,
       ⊖<span class="o">{</span>
            <span class="s2">"additional_informations"</span>: ⊕[1 item],
            <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190710T204500"</span>,
            <span class="s2">"co2_emission"</span>: ⊕<span class="o">{</span>2 items<span class="o">}</span>,
            <span class="s2">"data_freshness"</span>: <span class="s2">"realtime"</span>,
            <span class="s2">"departure_date_time"</span>: <span class="s2">"20190710T160000"</span>,
            <span class="s2">"display_informations"</span>: ⊖<span class="o">{</span>
                <span class="s2">"code"</span>: <span class="s2">""</span>,
                <span class="s2">"color"</span>: <span class="s2">"000000"</span>,
                <span class="s2">"commercial_mode"</span>: <span class="s2">"additional service"</span>,
                <span class="s2">"description"</span>: <span class="s2">""</span>
                <span class="s2">"direction"</span>: <span class="s2">"Nice Ville (Nice)"</span>,
                <span class="s2">"equipments"</span>: <span class="o">[]</span>,
                <span class="s2">"headsign"</span>: <span class="s2">"20470"</span>,
                <span class="s2">"label"</span>: <span class="s2">"Paris - Nice"</span>,
                <span class="s2">"links"</span>: ⊖[
                   ⊖<span class="o">{</span>
                        <span class="s2">"id"</span>: <span class="s2">"1ec4266c-e7f7-4212-a2df-f61c2b56ce91"</span>,
                        <span class="s2">"internal"</span>: <span class="nb">true</span>,
                        <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                        <span class="s2">"templated"</span>: <span class="nb">false</span>
                        <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
                    <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"name"</span>: <span class="s2">"Paris - Nice"</span>,
                <span class="s2">"network"</span>: <span class="s2">"additional service"</span>,
                <span class="s2">"physical_mode"</span>: <span class="s2">"Train grande vitesse"</span>,
                <span class="s2">"text_color"</span>: <span class="s2">"FFFFFF"</span>,
            <span class="o">}</span>,
            <span class="s2">"duration"</span>: 28560,
            <span class="s2">"from"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
            <span class="s2">"geojson"</span>: ⊕<span class="o">{</span>3 items<span class="o">}</span>,
            <span class="s2">"id"</span>: <span class="s2">"section_6_0"</span>,
            <span class="s2">"links"</span>: ⊕[6 items],
            <span class="s2">"stop_date_times"</span>: ⊖[
               ⊖<span class="o">{</span>
                    <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
                    <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190710T160000"</span>,
                    <span class="s2">"departure_date_time"</span>: <span class="s2">"20190710T160000"</span>,
                    <span class="s2">"links"</span>: <span class="o">[]</span>
                    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
                <span class="o">}</span>,
               ⊕<span class="o">{</span>5 items<span class="o">}</span>,
               ⊕<span class="o">{</span>5 items<span class="o">}</span>,
               ⊕<span class="o">{</span>5 items<span class="o">}</span>
            <span class="o">]</span>
            <span class="s2">"to"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
            <span class="s2">"type"</span>: <span class="s2">"public_transport"</span>,
        <span class="o">}</span>,
       ⊕<span class="o">{</span>10 items<span class="o">}</span>
    <span class="o">]</span>
</code></pre></div>
<p>The status of the journey is <code>MODIFIED_SERVICE</code>. This new journey can only be displayed if &quot;data_freshness&quot; is set to &quot;realtime&quot;.<br>A list of disruptions impacting the journey is also present at the root level of the response.<br>A link to the concerned disruption can be found in the section &quot;display_informations&quot;.</p>

<div></div>
<h3 id='departures-amp-stop-schedules-4'>Departures &amp; Stop Schedules</h3>
<p>At one of the added stop area from the additional trip, the departure time of the added train is displayed if &quot;data_freshness&quot; is set to &quot;realtime&quot;.<br>In that case, a link to this disruption can be found in the section &quot;display_informations&quot; for departures, in the &quot;date_times&quot; object itself for stop_schedules.</p>

<p>The departure time of the train with an additional service simply won&#39;t be displayed in the list of departures/stop_schedules if &quot;data_freshness&quot; is set to &quot;base_schedule&quot;.</p>

<h2 id="UNKNOWN_EFFECT">Unknown effect aka "Back to normal"</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Extract of an impacted stop from /disruptions</span>
<span class="o">{</span>
    <span class="s2">"amended_arrival_time"</span>: <span class="s2">"193200"</span>,
    <span class="s2">"amended_departure_time"</span>: <span class="s2">"193400"</span>,
    <span class="s2">"arrival_status"</span>: <span class="s2">"unchanged"</span>
    <span class="s2">"base_arrival_time"</span>: <span class="s2">"193200"</span>,
    <span class="s2">"base_departure_time"</span>: <span class="s2">"193400"</span>,
    <span class="s2">"cause"</span>: <span class="s2">""</span>,
    <span class="s2">"departure_status"</span>: <span class="s2">"unchanged"</span>,
    <span class="s2">"is_detour"</span>: <span class="nb">false</span>,
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
    <span class="s2">"stop_time_effect"</span>: <span class="s2">"unchanged"</span>,
<span class="o">}</span>,
</code></pre></div>
<p>The effect of the disruption is <code>UNKNOWN_EFFECT</code>. It means that the disruption affecting the journey is no longer effective, and the trip is back to its theoritical schedule.<br>In the list of &quot;impacted_stops&quot; in the disruption, the &quot;arrival_status&quot;/&quot;departure_status&quot; is set to &quot;unchanged&quot;.<br>See the <a href="#disruption">disruption</a> objects section for its full content and description.</p>

<div></div>
<h3 id='journeys-6'>Journeys</h3>
<p>When requesting a journey that was previously disrupted and is now back to normal, the journey response will be the same with the parameter &quot;data_freshness&quot; set to &quot;realtime&quot; or to &quot;base_schedule&quot;.<br>In this case, no disruption is present in the response.</p>

<div></div>
<h3 id='departures-2'>Departures</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Request example for /departures (data_freshness=realtime by default)</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/physical_modes/&lt;physical_mode&gt;/stop_areas/&lt;stop_area&gt;/departures?from_datetime<span class="o">=</span>&lt;from_date&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Extract of an impacted departure object from the response /departures</span>

<span class="o">{</span>
    <span class="s2">"display_informations"</span>: ⊖<span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">""</span>,
        <span class="s2">"color"</span>: <span class="s2">"000000"</span>,
        <span class="s2">"commercial_mode"</span>: <span class="s2">"TGV INOUI"</span>,
        <span class="s2">"description"</span>: <span class="s2">""</span>
        <span class="s2">"direction"</span>: <span class="s2">"Nice Ville (Nice)"</span>,
        <span class="s2">"equipments"</span>: <span class="o">[]</span>,
        <span class="s2">"headsign"</span>: <span class="s2">"847520"</span>,
        <span class="s2">"label"</span>: <span class="s2">"Paris - Nice"</span>,
        <span class="s2">"links"</span>: <span class="o">[]</span>,
        <span class="s2">"name"</span>: <span class="s2">"Paris - Nice"</span>,
        <span class="s2">"network"</span>: <span class="s2">"SNCF"</span>,
        <span class="s2">"physical_mode"</span>: <span class="s2">"Train grande vitesse"</span>,
        <span class="s2">"text_color"</span>: <span class="s2">""</span>,
    <span class="o">}</span>,
    <span class="s2">"links"</span>: ⊕[6 items],
    <span class="s2">"route"</span>: ⊕<span class="o">{</span>9 items<span class="o">}</span>,
    <span class="s2">"stop_date_time"</span>: ⊖<span class="o">{</span>
        <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
        <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190605T193200"</span>,
        <span class="s2">"base_arrival_date_time"</span>: <span class="s2">"20190605T193200"</span>,
        <span class="s2">"base_departure_date_time"</span>: <span class="s2">"20190605T193400"</span>,
        <span class="s2">"stop_date_time"</span>: <span class="s2">"realtime"</span>
        <span class="s2">"departure_date_time"</span>: <span class="s2">"20190605T193400"</span>,
        <span class="s2">"links"</span>: <span class="o">[]</span>,
    <span class="o">}</span>
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>11 items<span class="o">}</span>,
<span class="o">}</span>
</code></pre></div>
<p>In the &quot;stop_date_time&quot; section of the response, the field &quot;stop_date_time&quot; is &quot;realtime&quot; and the fields &quot;arrival_date_time&quot;/&quot;departure_date_time&quot; are equal to the fields &quot;base_arrival_date_time&quot;/&quot;base_departure_date_time&quot;.</p>

<p>No disruption is present at the root level of the response and so, in the section &quot;display_informations&quot;, there&#39;s no link to any disruption.</p>

<div></div>
<h3 id='stop-schedules-2'>Stop Schedules</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Request example for /stop_schedules (data_freshness=realtime by default)</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/physical_modes/&lt;physical_mode&gt;/lines/&lt;line&gt;/stop_areas/&lt;stop_area&gt;/stop_schedules?from_datetime<span class="o">=</span>&lt;from_date&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Extract of an impacted stop_schedules object from the response /stop_schedules</span>

<span class="o">{</span>
    <span class="s2">"additional_informations"</span>: null,
    <span class="s2">"date_times"</span>: ⊖[
       ⊕<span class="o">{</span>5 items<span class="o">}</span>,
       ⊖<span class="o">{</span>
            <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
            <span class="s2">"base_date_time"</span>: <span class="s2">"20190605T193400"</span>,
            <span class="s2">"data_freshness"</span>: <span class="s2">"realtime"</span>,
            <span class="s2">"date_time"</span>: <span class="s2">"20190605T193400"</span>,
            <span class="s2">"links"</span>: <span class="o">[]</span>,
        <span class="o">}</span>,
       ⊕<span class="o">{</span>5 items<span class="o">}</span>,
    <span class="o">]</span>,
    <span class="s2">"display_informations"</span>: ⊕<span class="o">{</span>9 items<span class="o">}</span>,
    <span class="s2">"first_datetime"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>
    <span class="s2">"last_datetime"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
    <span class="s2">"links"</span>: ⊕[4 items],
    <span class="s2">"route"</span>: ⊕<span class="o">{</span>8 items<span class="o">}</span>,
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>11 items<span class="o">}</span>,
<span class="o">}</span>
</code></pre></div>
<p>In the list of &quot;date_times&quot; available in the response, the field &quot;data_freshness&quot; is &quot;realtime&quot; and the field &quot;date_time&quot; is equal to the field &quot;base_date_time&quot;.</p>

<p>No disruption is present at the root level of the response and so, in the sections &quot;date_times&quot; and &quot;display_informations&quot;, there&#39;s no link to any disruption.</p>

<div></div>
<h3 id='terminus-schedules'>Terminus Schedules</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Request example for /terminus_schedules (data_freshness=base_schedule by default)</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/physical_modes/&lt;physical_mode&gt;/lines/&lt;line&gt;/stop_areas/&lt;stop_area&gt;/terminus_schedules?from_datetime<span class="o">=</span>&lt;from_date&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c"># Extract of an impacted terminus_schedules object from the response /terminus_schedules</span>
Same elements as <span class="k">in </span>stop_scedule object.
</code></pre></div>
<p>In the list of &quot;date_times&quot; available in the response, the field &quot;data_freshness&quot; is &quot;realtime&quot; and the field &quot;date_time&quot; is equal to the field &quot;base_date_time&quot;.</p>

<p>No disruption is present at the root level of the response and so, in the sections &quot;date_times&quot; and &quot;display_informations&quot;, there&#39;s no link to any disruption.</p>
<h1 id='lexicon'>Lexicon</h1>
<h2 id="lexicon-introduction">Introduction</h2>

<p>The world of public transportation is really specific, you will see here a small
introduction to it. A lot of people in the world of public transportation use
different words to speak about the same thing. Here are the definitions of terms
employed in www.navitia.io</p>

<p>You can read a mobility lexicon at
<a href="https://github.com/OpenTransport/vocabulary/blob/master/vocabulary.md">https://github.com/OpenTransport/vocabulary/blob/master/vocabulary.md</a></p>

<p>You will often read &quot;PT&quot; in this document. PT stands for public transport.</p>

<h2 id="lexicon-stop-point">Stop Point</h2>

<p>A stop point is the physical object were someone waits for his bus
(subway, or whatever type of vehicle you can have in a public transport system).</p>

<h2 id="lexicon-stop-area">Stop Area</h2>

<p>A stop area is a collection of stop points. Generally there are at least two stop
points per stop area, one per direction of a line. Now think of a hub, you will
have more than one line. Therefore your stop area will contain more than two stop
points. In particular cases your stop area can contain only one stop point.</p>

<p>Some datasets do not contain any stop area.</p>

<h2 id="lexicon-connection">Connection</h2>

<p>This object links two stop points together (named origin and destination).
It is the walkable part in a transfer between 2 public transport vehicles.</p>

<h2 id="lexicon-journey-pattern">Journey Pattern</h2>

<p>A journey pattern is an ordered list of stop points. Two vehicles that serve exactly the
same stop points in exactly the same order belong to to the same journey pattern.</p>

<h2 id="lexicon-route">Route</h2>

<p>A route is a collection of journey pattern that match the same commercial direction.</p>

<aside class="warning">
    The GTFS specification uses the term <b>route</b> for the object we call <b>line</b>. It does not
    have this notion of commercial direction.
</aside>

<h2 id="lexicon-line">Line</h2>

<p>A line is a collection of routes. Most of the time you&#39;ll just have just two routes.
This object is called <em>route</em> in the GTFS format.</p>

<h2 id="lexicon-stop-time">Stop Time</h2>

<p>A stop time represents the time when a bus is planned to arrive and to leave a
stop point.</p>
<h1 id='errors'>Errors</h1><h2 id='code-4xx'>Code 4xx</h2>
<p>When Navitia is unable to give an answer, you&#39;ll receive a 4XX http code response. For 400 and 404 errors, an error object
containing a unique error id is given for better understanding.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code><span class="c">#request</span>
<span class="nv">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas/wrong-one'</span> <span class="nt">-H</span> <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 404 OK

<span class="o">{</span>
    <span class="s2">"error"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: <span class="s2">"bad_filter"</span>,
        <span class="s2">"message"</span>: <span class="s2">"ptref : Filters: Unable to find object"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<p>There are six possible 4xx http codes.</p>
<h3 id='400-bad-request'>400: bad request</h3>
<table><thead>
<tr>
<th>Error id</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bad_filter</td>
<td>When you use a custom filter</td>
</tr>
<tr>
<td>unable_to_parse</td>
<td>When you use a mal-formed custom filter</td>
</tr>
<tr>
<td>unknown_api</td>
<td>When you request an inexistant endpoint</td>
</tr>
<tr>
<td>bad_format</td>
<td>When you provide ill-formated parameter (coord for example)</td>
</tr>
<tr>
<td>config_exception</td>
<td>When you try to configure an external service (street network back-end or autocomplete) with wrong parameters</td>
</tr>
</tbody></table>
<h3 id='401-unauthorized'>401: unauthorized</h3>
<p>When no token is provided/found in the request.</p>
<h3 id='403-forbidden'>403: forbidden</h3>
<p>When the token is not allowed to request the coverage.</p>
<h3 id='404-unable-to-find-an-object'>404: unable to find an object</h3>
<table><thead>
<tr>
<th>Error id</th>
<th>Description</th>
<th>Services</th>
</tr>
</thead><tbody>
<tr>
<td>date_out_of_bounds</td>
<td>When the given date is out of bounds of the production dates of the region</td>
<td>All services</td>
</tr>
<tr>
<td>no_departure_this_day</td>
<td>Some vehicles stop at this point, but none today (for example, it&#39;s sunday)</td>
<td>/departures /arrivals /stop_schedules /terminus_schedules /route_schedules</td>
</tr>
<tr>
<td>no_active_circulation_this_day</td>
<td>No more vehicles stop for today (for example, it&#39;s too late)</td>
<td>/departures /arrivals /stop_schedules /terminus_schedules /route_schedules</td>
</tr>
<tr>
<td>terminus</td>
<td>There will never be departures, you&#39;re at the terminus of the line</td>
<td>/departures /arrivals /stop_schedules /terminus_schedules /route_schedules</td>
</tr>
<tr>
<td>partial_terminus</td>
<td>Same as terminus, but be careful, some vehicles are departing from the stop some other days</td>
<td>/departures /arrivals /stop_schedules /terminus_schedules /route_schedules</td>
</tr>
<tr>
<td>active_disruption</td>
<td>No departure, due to a disruption</td>
<td>/departures /arrivals /stop_schedules /terminus_schedules /route_schedules</td>
</tr>
<tr>
<td>no_origin</td>
<td>Couldn&#39;t find an origin</td>
<td>/journeys</td>
</tr>
<tr>
<td>no_destination</td>
<td>Couldn&#39;t find a destination</td>
<td>/journeys</td>
</tr>
<tr>
<td>no_origin_nor_destination</td>
<td>Couldn&#39;t find neither origin nor destination</td>
<td>/journeys</td>
</tr>
<tr>
<td>unknown_object</td>
<td>Couldn&#39;t find one of the request parameters. It can be the region, the API or a PT object</td>
<td>All services</td>
</tr>
</tbody></table>
<h3 id='413-request-too-large'>413: request too large</h3>
<p>When the response generated by the request exceeds 10 MB (few APIs are not yet concerned by this limitation but this may change in the future).</p>

<p>Tips to work around this error:</p>

<ul>
<li><a href="#paging">paginate</a></li>
<li>reduce the value of the parameter <code>depth</code></li>
<li>on large <code>journeys</code>, reduce the <code>timeframe_duration</code>, <code>max_duration</code> and <code>min_nb_journeys</code> values</li>
</ul>
<h3 id='429-too-many-requests'>429: too many requests</h3>
<p>When you request too many times the API during one second according to your token.</p>

<p>Tips to work around this error:</p>

<ul>
<li>rerun your request after an exponential backoff</li>
<li>give up your request</li>
<li>contact us for a <a href="https://navitia.io/demande-de-devis/">quotation</a></li>
</ul>
<h2 id='code-200'>Code 200</h2>
<p>Even if everything is correct (input parameters, internal processing)
Navitia can end up finding that the correct answer is empty.</p>

<table><thead>
<tr>
<th>Error id</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>no_solution</td>
<td>From data, there is no solution available given the request</td>
</tr>
</tbody></table>
<h2 id='code-50x'>Code 50x</h2>
<p>Ouch. Technical issue :/</p>

<table><thead>
<tr>
<th>Error id</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>internal_error</td>
<td>Something bad and unexpected has happened internally</td>
</tr>
<tr>
<td>service_unavailable</td>
<td>Navitia isn&#39;t responding</td>
</tr>
<tr>
<td>dead_socket</td>
<td>The requested region (coverage) isn&#39;t responding</td>
</tr>
<tr>
<td>technical_error</td>
<td>An internal service (street network back-end or autocomplete) isn&#39;t responding</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
